{"meta":{"title":"Dev.liang's Blog","subtitle":"Just do it!","description":"Dev.liang's Blog - Android æŠ€æœ¯åˆ†äº«ã€ç”Ÿæ´»è®°å½•","author":"dev.liang","url":"https://leaderliang.coding.me","root":"/"},"pages":[{"title":"About Me","date":"2017-03-23T11:28:03.000Z","updated":"2019-11-08T09:28:12.125Z","comments":false,"path":"about/index.html","permalink":"https://leaderliang.coding.me/about/index.html","excerpt":"","text":"å…³äºæˆ‘èº«é«˜ 176cmï¼Œä½“é‡ 70+kgï¼Œæ´›é˜³äººï¼Œç°å±…åŒ—äº¬ï¼ŒAndroid å¼€å‘è€…ä¸€åï¼Œæ›¾å…ˆååœ¨æ”¯ä»˜é€šã€å­¦è€Œæ€æ•™è‚²ã€æ‡‚çƒå¸å·¥ä½œï¼›æ— ä¸è‰¯å—œå¥½ã€æ— çŠ¯ç½ªå‰ç§‘ã€èº«ä½“å¥åº·ã€çƒ­çˆ±ç¼–ç¨‹å’Œç”Ÿæ´»ã€ä¸ºäººå–„è‰¯æ·³æœ´ã€æœ‰è´£ä»»å¿ƒã€é£è¶£å¹½é»˜ä¸”å¥è°ˆã€‚ è”ç³»æˆ‘Email ï¼šdev.liang@outlook.comGitHubï¼šdev.liangQQï¼š 565100605"},{"title":"åˆ†ç±»","date":"2019-03-11T15:27:04.000Z","updated":"2019-03-11T15:28:19.048Z","comments":false,"path":"categories/index.html","permalink":"https://leaderliang.coding.me/categories/index.html","excerpt":"","text":""},{"title":"æ¬¢è¿å¤§å®¶ç»™æˆ‘ç•™è¨€ï¼Œä¸€èµ·äº¤æµ~","date":"2017-03-02T16:00:00.000Z","updated":"2019-03-11T10:18:24.891Z","comments":true,"path":"leave-a-message/index.html","permalink":"https://leaderliang.coding.me/leave-a-message/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-03-12T04:24:39.463Z","updated":"2019-03-12T04:24:39.463Z","comments":true,"path":"tags/index.html","permalink":"https://leaderliang.coding.me/tags/index.html","excerpt":"","text":""},{"title":"Timeline","date":"2019-03-12T05:43:37.788Z","updated":"2019-03-12T05:43:37.788Z","comments":true,"path":"timeline/index.html","permalink":"https://leaderliang.coding.me/timeline/index.html","excerpt":"","text":""}],"posts":[{"title":"ç½‘è´­è¿™ä¹ˆå¤šå¹´ï¼Œæ·˜å® | äº¬ä¸œ | æ‹¼å¤šå¤š | è‹å®è¿™äº›å¤§å‹äº’è”ç½‘ç”µå•†å¹³å°ä¸ä¸ºäººçŸ¥çš„ç½‘è´­é»‘å¹•ä½ åˆäº†è§£å¤šå°‘ï¼Ÿï¼Ÿ","slug":"æ­éœ²-æ·˜å®-äº¬ä¸œ-æ‹¼å¤šå¤š-è‹å®-ç­‰å¤§å‹äº’è”ç½‘ç”µå•†å¹³å°ä¸ä¸ºäººçŸ¥çš„ç½‘è´­é»‘å¹•","date":"2020-01-01T12:54:27.000Z","updated":"2020-06-30T06:02:09.483Z","comments":true,"path":"e6b7.html","link":"","permalink":"https://leaderliang.coding.me/e6b7.html","excerpt":"åˆ†äº«ä¸€äº›ç½‘è´­å°å¸¸è¯†ï¼Œç½‘è´­è¿™ä¹ˆå¤šå¹´ï¼Œä¸çŸ¥é“è¿™äº›ä½ çš„æŸå¤±å°±å¤ªå¤§å•¦â€¦","text":"åˆ†äº«ä¸€äº›ç½‘è´­å°å¸¸è¯†ï¼Œç½‘è´­è¿™ä¹ˆå¤šå¹´ï¼Œä¸çŸ¥é“è¿™äº›ä½ çš„æŸå¤±å°±å¤ªå¤§å•¦â€¦ æ­¤åˆ»çœ‹åˆ°è¿™ç¯‡åšå®¢çš„å°ä¼™ä¼´ï¼Œç›¸ä¿¡éƒ½å·²ç»å…·å¤‡äº†åœ¨æ·˜å®ã€äº¬ä¸œã€æ‹¼å¤šå¤šç­‰å¤§å‹äº’è”ç½‘ç”µå•†å¹³å°å¤šå¹´çš„è´­ç‰©å®æˆ˜ç»éªŒäº†å§ï¼Œä¸ç’å¤§å®¶è¯´ï¼Œæˆ‘ä¹Ÿæ˜¯â€¦ O(âˆ©_âˆ©)O ğŸ˜† å¸¸å¹´åœ¨å„å¤§ç½‘ç«™æ··çš„å°ä¼™ä¼´ä»¬ï¼Œä¸€å®šè§è¿‡ç±»ä¼¼ä¸‹é¢çš„è¿™ç§ç‰‡å„¿å§ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ç”¨äº† 8 å¹´çš„å¾®ä¿¡ï¼Œéƒ½ä¸çŸ¥é“çš„éšè—åŠŸèƒ½çœ‹äº†è¿™ä¸ªè§†é¢‘ï¼Œä½ ä¼šå›æ¥æ„Ÿè°¢æˆ‘~å»ºè®®æ”¶è—å¤‡ç”¨â€¦ æœ¬æ¥è¿˜æœŸå¾…ä»‹ç»ä¸ªç‰›é€¼çš„å¾®ä¿¡åŠŸèƒ½ï¼Œè®©æˆ‘å¼€å¼€çœ¼ï¼Œç„¶åæƒ…èŠ‚ä¸€è½¬ï¼Œå¥³ä¸»å¼€å§‹ ä¸¾æ —è¯´æ˜ï¼Œå¥¹éƒ½æ˜¯æ€ä¹ˆé¢†å– éšè—ä¼˜æƒ åˆ¸ ä¹°åˆ°æä½³çªæ¨èçš„çˆ†æ¬¾å£çº¢ğŸ’„ï¼Œå¹¶è§£é‡Š éšè—ä¼˜æƒ åˆ¸ å’Œ è¿”åˆ© éƒ½æ˜¯å•†å®¶ç»™çš„ã€‚ ç„¶åå°±æ˜¯ç»™ä½ æ¨è å¾®ä¿¡å…¬ä¼—å·è¿”åˆ©æœºå™¨äºº æˆ– å…¶ä»–å¾®åšåšä¸» ,å·´æ‹‰å·´æ‹‰â€¦ æ¥ä¸‹æ¥çš„è§†é¢‘å†…å®¹å°±æ˜¯æ•™ä½ é¢†å–æ·˜å®éšè—ä¼˜æƒ åˆ¸çš„æ•™ç¨‹å•¦~ å®é™…ä¸Šï¼Œæœ‰çš„è§†é¢‘å‰§æƒ…ç”šè‡³è®©äººçœ‹äº†å°´å°¬è‡³æï¼Œå…¶å®çœ‹äº†è§†é¢‘çš„å¤§å¤šæ•°äººå¹¶ä¸åœ¨æ„å‰§æƒ…çš„ä¸é€‚æ„Ÿï¼Œè€Œæ˜¯å°†æ‰€æœ‰æ³¨æ„åŠ›é›†ä¸­åˆ°äº†é‚£ä¸ªå…³æ³¨å³å¯é¢†å–ä¼˜æƒ åˆ¸çš„ å¾®åšåšä¸» æˆ– å…¬ä¼—å· èº«ä¸Šï¼Œéšæ‰‹ä¸€ä¸ªå…³æ³¨ï¼Œè·Ÿç€è§†é¢‘ä¸€é¡¿æ“ä½œåå°†è—åœ¨è´­ç‰©è½¦ä¸­çš„ å®è´é“¾æ¥ å‘ç»™ åšä¸» or å¾®ä¿¡æœºå™¨äºº (ï¿£â–½ï¿£)â€ å“‡ï¼æœç„¶é¢†åˆ°äº†é«˜é¢çš„ä¼˜æƒ åˆ¸ï¼Œä¸€é˜µçªƒå–œåå°±é¡ºæ‰‹ä¸‹äº†å• å°±è¿™æ ·ï¼Œè¿™äº›åšä¸»æˆ–å…¬ä¼—å·ç§¯ç´¯äº†ä¸Šç™¾ä¸‡çš„ç²‰ä¸ï¼Œè¿˜ä¼šæ—¶ä¸æ—¶ç»™ä½ å‘å‘ä¼˜æƒ åˆ¸ã€æŠ¢å…å•ç­‰ç­‰ã€ ä¸ºä»€ä¹ˆç½‘è´­çš„å•†å“ä¼šæœ‰è¿”åˆ©ä½£é‡‘ï¼Œè´­ç‰©è¿”åˆ©æ˜¯ä¸æ˜¯éª—å±€ï¼Ÿå…¶å®æ—©åœ¨ 2011 å¹´åº•ï¼Œä¸€æ·˜ç½‘ ç­‰è¿”åˆ©ç½‘ç«™å·²ç»å æ®äº†è¿”åˆ©è¡Œä¸šçš„å¤§åŠå£æ±Ÿå±±ï¼Œé‚£ä¸ªæ—¶å€™ç½‘è´­å¤§å†›çš„è·å¾—è¿”åˆ©çš„æ–¹å¼ï¼Œåªæ˜¯é€šè¿‡ç½‘é¡µè¿›è¡Œã€‚ ä¸€æ·˜ç½‘ï¼Œé˜¿é‡Œå·´å·´æ——ä¸‹å®˜æ–¹ä¿ƒé”€å¯¼è´­å¹³å°ï¼Œæˆç«‹äº2010å¹´ï¼Œé€šè¿‡è¶…é«˜è¿”åˆ©ã€å¤§é¢çº¢åŒ…ã€è¶…å€¼ä¼˜æƒ åˆ¸ç­‰ä¸°å¯Œçš„åˆ©ç›Šç‚¹ï¼Œä¸ºç”¨æˆ·æä¾›é«˜æ€§ä»·æ¯”çš„å“ç‰Œå¥½è´§ï¼Œæ˜¯å¿…ä¸å¯å°‘çš„ç½‘è´­çœé’±åˆ©å™¨ã€‚ å¦å¤–å¤§éƒ¨åˆ†è´­ç‰©è¿”åˆ©çš„ä¼˜æƒ åˆ¸éƒ½æ¥è‡ª æ·˜å®è”ç›Ÿï¼ˆæ·˜å®å®˜æ–¹çš„æ¨å¹¿å¹³å°ï¼‰ï¼Œåæ¥å‡ºç°çš„ç¬¬ä¸‰æ–¹è¿”åˆ©ç½‘ç«™ / appã€å…¬ä¼—å·ã€å¾®åšçœé’±åšä¸»æˆ–å¾®ä¿¡è¿”åˆ©æœºå™¨äººï¼Œéƒ½æ˜¯å¸®åŠ©å•†å®¶å¸å¼•æµé‡çš„ä¸€ä¸ªå·¥å…·ï¼ˆéƒ½æ˜¯åŸºäºç”µå•†å¹³å°å®˜æ–¹çš„è¿”åˆ©è§„åˆ™æ¥å£äºŒæ¬¡å¼€å‘çš„ï¼‰ï¼ŒåŒ…æ‹¬æµè§ˆé‡å’Œè®¢å•é”€é‡ï¼› ä»–ä»¬èµšçš„åŸºæœ¬ä¸Šæ˜¯æ¨å¹¿çš„ä½£é‡‘ï¼Œè€Œä½ é¢†çš„éšè—ä¼˜æƒ åˆ¸ï¼Œåªæ˜¯æ¨å¹¿ä½£é‡‘çš„ä¸€éƒ¨åˆ†å•¦~ æœ€ä¸ºå…³é”®çš„æ˜¯ï¼Œå•†å“çš„æˆæœ¬å’Œæ ‡ä»·äº‹å®ä¸Šæ˜¯æœ‰å¾ˆå¤§å·®è·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å•†å®¶æœ¬æ¥å°±æœ‰å¾ˆå¤šçš„è®©åˆ©ç©ºé—´ï¼Œé€šä¿—çš„è¯´å•†å®¶çš„ å•†å“æ ‡ä»· å¯ä»¥åˆ†ç”±ä¸‰éƒ¨åˆ†ç»„æˆ å•†å“æˆæœ¬ + éšè—ä¼˜æƒ åˆ¸ + æ¨å¹¿è¿”ä½£ï¼› è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯è¿™äº›å·¥å…·çš„è¿”åˆ©å½¢å¼ï¼Œä» ã€Œå…ˆè´­ç‰©ï¼Œåè¿”åˆ©ã€ å˜æˆ ã€Œå…ˆé€ä¼˜æƒ ï¼Œå†è®©ç”¨æˆ·è´­ç‰©ï¼ŒåŒæ—¶è¿˜ä¼šæœ‰è¿”åˆ©ã€ï¼Œé€ä¼˜æƒ æŒ‡çš„æ˜¯é€šè¿‡è¿”åˆ©å¹³å°é¢†å– éšè—ä¼˜æƒ åˆ¸ å½¢å¼ï¼ˆå¤§å®¶åœ¨æ·˜å®å¯¹åº”çš„åº—é“ºæ˜¯é¢†å–ä¸åˆ°è¿™æ ·çš„ä¼˜æƒ åˆ¸çš„ï¼‰ï¼Œå•†å®¶é€šè¿‡è¿™ç§æ–¹æ³•ç»™äº†ç”¨æˆ·ç¡®å®šæ€§ï¼Œé™ä½äº†ç”¨æˆ·é˜²å¾¡å¿ƒç†ï¼Œè®©ç”¨æˆ·å åˆ°äº†ä¾¿å®œã€‚ å¦å¤–æ®ç»Ÿè®¡ï¼Œå„å¤§ç”µå•†å¹³å° 70% çš„å•†å“éƒ½æœ‰éšè—ä¼˜æƒ åˆ¸ï¼Œ90% ä»¥ä¸Šçš„å•†å“éƒ½æœ‰å•†å“ä½£é‡‘è¿”åˆ©ï¼ å¦‚æœä½ èƒ½åœ¨è´­ç‰©ä¹‹å‰å°±äº†è§£äº†è¿™äº›å•†å®¶çš„å°å¿ƒæœºï¼Œå†åŠ ä¸Šæœ‰æ¯”è¾ƒå¥½çš„è·å–é«˜é¢æ¨å¹¿ä½£é‡‘çš„æ¸ é“ï¼Œä¸å¼€ç©ç¬‘çš„è¯´ï¼Œä½ å·²ç»æ‰“è´¥äº† 90% ä»¥ä¸Šçš„ç½‘è´­å°ä¼™ä¼´ã€‚ æœ‰ç»éªŒçš„æœ‹å‹æ‰‹æœºé‡Œå¯èƒ½å®‰è£…äº†è‡ªå·±é’Ÿæ„çš„è¿”åˆ© appï¼Œä½†ä½ ä»Šå¤©çœ‹åˆ°è¿™é‡Œä¸å¦¨æ¥ç€å¾€ä¸‹çœ‹ï¼Œä¸ºäº†å¸®åŠ©å¤§å®¶æ›´å¥½çš„é€‰æ‹©æœ€å…·æ€§ä»·æ¯”çš„è¿”åˆ©å¹³å°ï¼Œä¸ºå¤§å®¶æ•´ç†å‡ºäº†å„å¤§è¿”åˆ©å¹³å°çš„æ¨¡å¼å¯¹æ¯”ã€‚ å„å¤§è¿”åˆ©å¹³å°å¯¹æ¯”åˆ†æ ä¸»è¦æŒ‘é€‰äº†ä¸€äº›å…·æœ‰ä»£è¡¨æ€§çš„å¹³å°æ‹¿å‡ºæ¥åšå¯¹æ¯”ï¼Œä¸€ç›®äº†ç„¶å¯¹äºå¸¸å¹´æ´»è·ƒåœ¨å„å¤§ç”µå•†å¹³å°çš„å‰æ‰‹å…šï¼Œå»ºè®®ä»”ç»†çœ‹å®Œï¼Œä¸€å¹´èƒ½çœä¸ª ä¸‡å„¿å…«åƒ çš„ä¸æ˜¯é—®é¢˜ï¼ å¦‚æœä»”ç»†çœ‹å®Œè¿™ä¸ªå®Œæ•´å¯¹æ¯”åˆ†æçš„è¯ï¼Œå°±å¯ä»¥çœ‹å‡ºä¹°å°é“çš„ä¼˜åŠ¿å•¦ï¼Œä¸‹é¢ç®€å•åšä¸‹æ•´ç† æ°¸ä¹…å…è´¹å‡çº§ï¼Œä¸æ”¶ä¼šå‘˜è´¹ï¼Œä¸æ”¶äººå¤´è´¹ å‡çº§å›¢é•¿é—¨æ§›ä½ï¼Œè½»æ¾èµšå–é«˜é¢ä½£é‡‘ å›¢é˜Ÿå¤§ç‰›ä¸å®šæœŸåˆ†äº«ç»éªŒï¼Œè®©ä½ å¿«é€Ÿæˆä¸ºèµšé’±ä¸“å®¶ è¿”åˆ©äº§å“å“ªå®¶å¼ºï¼Ÿæ‹¿å¤©çŒ«æ——èˆ°åº—æ ·å­å¸å°˜å™¨åšä¸¾ä¾‹ï¼Œæ·˜å£ä»¤å¦‚ä¸‹ï¼šï¼ˆå¯èƒ½å½“æ‚¨å¤åˆ¶ä¸‹é¢è¿™ä¸ªæ·˜å£ä»¤æ‰“å¼€æ·˜å®æŸ¥çœ‹çš„æ—¶å€™ä»·æ ¼å¯èƒ½ä¼šæœ‰æ‰€å˜åŒ–ï¼Œä½†æ˜¯æ•´ä½“è¿”åˆ©æ¯”ä¾‹æ˜¯ä¸€è‡´çš„ï¼Œä»¥ä¸‹å¯¹æ¯”ä»…ä¾›å‚è€ƒï¼Œç‚¹å‡»å¯æŸ¥çœ‹å¤§å›¾äº†è§£å…·ä½“è¿”åˆ©æƒ…å†µï¼‰ ã€Œå¥½è´§å¿…æŠ¢ã€æ‰¬å­æ‰‹æŒæœ‰çº¿å¸å°˜å™¨ï¼Œ14000paå¤§å¸åŠ›ï¼Œè½»æ¾ä¸¾ææ¡ï¼ŒçµåŠ¨åœ°åˆ·ï¼Œè¶…è–„æ¢åº•ä¸å¡é¡¿!ä¸€å¸å³å‡€ï¼æ•´å±‹æ´å‡€ï¼å¾©è£½è¿™æ¡(yePl1nvmFgH),è¿›å…¥ã€ŒTaoå®ã€å³å¯æŠ¢è´­ã€ŒåŸä»·ã€159.00å…ƒã€Œåˆ¸åä»·ã€79.00å…ƒ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ä¹°å°é“èƒœå‡º ä¸‹é¢å¯¹äºä¹°å°é“è¿›è¡Œä¸€ä¸ªè¯¦ç»†çš„ä»‹ç»ï¼Œå¦‚æœå·²ç»é¢†æ‚Ÿåˆ°çš„å°ä¼™ä¼´æƒ³ç›´æ¥æƒ³ä¸‹è½½ä½¿ç”¨ä¹°å°é“ï¼Œè¯·ç‚¹å‡» ä¸‹è½½å¹¶æ³¨å†Œä¹°å°é“ ä¹°å°é“çš„å››å¤§æ ¸å¿ƒäº®ç‚¹å€¼å¾—ä¹°é€šè¿‡å¤§æ•°æ®ã€äººå·¥æ™ºèƒ½çš„æ–¹å¼ï¼Œç›‘æ§å„å¤§ç”µå•†å¹³å°ï¼Œæ—¶æ—¶æŠ“å–å…¨ç½‘å•†å®¶æœ€æ–°ä¼˜æƒ ä¿¡æ¯ï¼Œæ‰€æœ‰çš„å•†å“ä¸Šæ¶æ—¶é—´ï¼Œéƒ½æ˜¯æŒ‰å•†å®¶ææ´»åŠ¨æ—¶é—´æ’åºçš„ï¼Œæ‰€ä»¥ä¸€å®šæ˜¯æœ€æ–°æœ€è¶…å€¼æœ€ä¼˜æƒ çš„ã€‚ å•†å“æ¸…å•App ä¸­ä»Šæ—¥å¿…æ¨æ ç›®é‡Œçš„å•†å“æ˜¯åœ¨ç³»ç»ŸæŒ‘é€‰åçš„åŸºç¡€ä¸Šï¼Œå†é€šè¿‡äººå·¥ä»”ç»†ç²¾å¿ƒç”„é€‰è€Œå‡ºã€‚å¯ä»¥ç›´æ¥ç‚¹å‡»æ¸…å•ä¸­å–œæ¬¢çš„å•†å“ç›´æ¥ä¸‹å•ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©æœ‰ç¾¤çš„æœ‹å‹æ— å¿§å‘ç¾¤ï¼Œåˆ†äº«åˆ°æœ‹å‹åœˆã€‚ è‡ªè´­çœé’±ä¸ºæ‚¨å®æ—¶æ¨èå…¨ç½‘æœ€æ–°ç‰©ç¾ä»·å»‰çš„å•†å“å¹¶é™„æœ‰å•†å®¶è´­ç‰©ä¼˜æƒ åˆ¸ï¼Œä¸‹å•è´­ä¹°ä¸ä»…å¯ä»¥ä¼˜æƒ è€Œä¸”å¯ä»¥å¾—åˆ°å•†å®¶çš„è¿”åˆ©ï¼›å³ä½¿æ˜¯å•†å®¶æ´»åŠ¨ä¿ƒé”€æ²¡æœ‰ä¼˜æƒ åˆ¸ï¼Œä¸‹å•ä¹Ÿä¸€æ ·å¯ä»¥è·å¾—è¿”åˆ©ã€‚ åˆ†äº«èµšé’±å¯ä»¥å°†ä¹°å°é“æ¨èç»™ä½ çš„å¥½å‹ï¼Œå¥½å‹æˆåŠŸä¸‹è½½ä¹°å°é“ä¸‹å•åï¼Œå¥½å‹åœ¨ çœé’± çš„åŸºç¡€ä¸Šæ‚¨ä¹Ÿå¯ä»¥è·å¾—ä¸€å®šçš„ ä½£é‡‘ ã€‚ ä¸€å¥è¯ï¼Œé‚€è¯·ä¼™ä¼´åŠ å…¥ä¹°å°é“ï¼Œçœçš„å¤šï¼ŒåŒæ—¶èµšçš„å¤šã€‚ å°é“çš„ä¼šå‘˜æƒç›Šå°é“ä¼šå‘˜ç‰¹æƒ å¯¹äºæ™®é€šç”¨æˆ·æ³¨å†Œä¹Ÿå°±æ˜¯å°é“ä¼šå‘˜ è‡ªè´­çœé’±ã€åˆ†äº«èµšé’±ï¼›é‚€è¯·çš„å¥½å‹è´­ä¹°å•†å“ï¼Œæœ¬äººäº«å—è¿”åˆ©ï¼› å°é“å›¢é•¿ç‰¹æƒ æ‰€è°“å°é“å›¢é•¿ï¼Œæ˜¯éœ€è¦åœ¨å°é“ä¼šå‘˜åŸºç¡€ä¸Šå®Œæˆä¸€ä¸ªæ™‹å‡ä»»åŠ¡å°±å¯ä»¥äº«å—ä¸‹é¢çš„ç‰¹æƒå•¦,å…·ä½“çš„æ™‹å‡ä»»åŠ¡å¯ä»¥åœ¨å°é“çš„ ä¼šå‘˜ ç•Œé¢ç‚¹å‡» ç«‹å³ç”³è¯·æˆä¸ºå›¢é•¿ æŸ¥çœ‹å“¦~ è‡ªè´­æ”¶ç›Šï¼Œåœ¨å°é“ä¼šå‘˜æ”¶ç›Šçš„åŸºç¡€ä¸Šæå‡ 30%ï¼›æ¨å¹¿æ”¶ç›Šï¼Œåœ¨å°é“ä¼šå‘˜æ¨å¹¿æ”¶ç›ŠåŸºç¡€ä¸Šæå‡ 183%ï¼›å¤šçº§å›¢é˜ŸæŒç»­æ”¶ç›Šå¥–åŠ±ï¼›åŸ¹å…»å›¢é•¿æŒç»­è¿”åˆ©ï¼› å°é“çš„æ›´å¤šæƒç›Š å°é“çœé’±çœé’±å°ä¸‰æ­¥ç¬¬ä¸€æ­¥ å¤åˆ¶å•†å“æ ‡é¢˜æˆ–é“¾æ¥ç¬¬äºŒæ­¥ æ‰“å¼€ä¹°å°é“ç¬¬ä¸‰æ­¥ è¯¦æƒ…é¡µé¢†åˆ¸è´­ä¹° æ·˜å®çœé’±æ”»ç•¥ç¬¬ä¸€æ­¥ åœ¨æ·˜å®å†…é•¿æŒ‰å•†å“æ ‡é¢˜ï¼Œç‚¹å‡» â€œå¤åˆ¶â€ æˆ– â€œæ‹·è´é“¾æ¥â€ ç¬¬äºŒæ­¥ æ‰“å¼€ä¹°å°é“ ç¬¬ä¸‰æ­¥ æ‰¾åˆ°å¯¹åº”å•†å“ï¼Œé¢†å–å¯¹åº”çš„ä¼˜æƒ åˆ¸ï¼Œè¿”ç°é‡‘ å¾®ä¿¡çœé’±æ”»ç•¥ç¬¬ä¸€æ­¥ å¤åˆ¶æ·˜å£ä»¤ ç¬¬äºŒæ­¥ æ‰“å¼€ä¹°å°é“ ç¬¬ä¸‰æ­¥ é¢†å–å¯¹åº”çš„ä¼˜æƒ åˆ¸ï¼Œè¿”ç°é‡‘ äº¬ä¸œã€æ‹¼å¤šå¤šã€è‹å®æ˜“è´­ã€å”¯å“ä¼šç­‰çœé’±æ”»ç•¥ç¬¬ä¸€æ­¥ åœ¨äº¬ä¸œã€æ‹¼å¤šå¤šã€è‹å®æ˜“è´­ã€å”¯å“ä¼šç­‰ç”µå•†å¹³å°æ‰‹æœº APP å†…é•¿æŒ‰å•†å“æ ‡é¢˜ï¼Œç‚¹å‡» â€œæ‹·è´â€ æˆ–è€… â€œå¤åˆ¶â€ ç¬¬äºŒæ­¥ æ‰“å¼€ä¹°å°é“ ç¬¬ä¸‰æ­¥ é¢†å–å¯¹åº”çš„ä¼˜æƒ åˆ¸ï¼Œè¿”ç°é‡‘ å•°å—¦å®Œå•¦ï¼Œæ€»ä¹‹å°é“çœé’±åªéœ€ä¸‰æ­¥å‘¦~ ä¸‹è½½å¹¶æ³¨å†Œä¹°å°é“æ‰«æä¸‹æ–¹äºŒç»´ç å¿«é€Ÿä¸‹è½½ä¹°å°é“ ä¸‹è½½å°é“åæ³¨å†Œæ—¶éœ€å…ˆå¡«å†™é‚€è¯·ç ä¸ºäº†å¤§å®¶èƒ½å¤Ÿå¿«é€Ÿ å¼€å¯çœé’±æ¨¡å¼ï¼Œä¸‹é¢é€å‡ºæˆ‘çš„é‚€è¯·ç ~ é‚€è¯·ç æ˜¯ä¹°å°é“ä¸ºä¼šå‘˜æä¾›çš„ä¸“å±ç¼–ç ï¼Œæ–°ä¼šå‘˜éœ€è¦æœ‰è€ä¼šå‘˜çš„é‚€è¯·ç æ¨èæ‰å¯åœ¨ä¹°å°é“å¾—åˆ°ä¼šå‘˜èº«ä»½ï¼Œå¹¶å¯è·å¾—æ–°ä¼šå‘˜ä¸“äº«æƒç›Šï¼ˆæ–°äººå…å•ç­‰æƒç›Šï¼‰ 686868 686868 686868 é‡è¦çš„äº‹æƒ…å†™ä¸‰éï¼Œå“ˆå“ˆå“ˆ~ è§‚çœ‹ä¹°å°é“å¿«é€Ÿä¸Šæ‰‹è§†é¢‘ å¼€å§‹æ„‰å¿«çš„ä¹°ä¹°ä¹°å§~","categories":[{"name":"benefit-share","slug":"benefit-share","permalink":"https://leaderliang.coding.me/categories/benefit-share/"}],"tags":[{"name":"ç¦åˆ©åˆ†äº«","slug":"benefit-share","permalink":"https://leaderliang.coding.me/tags/benefit-share/"}]},{"title":"ä½¿ç”¨ Mac å°† iPhone æ•°æ®å¤‡ä»½åˆ°ç§»åŠ¨ç¡¬ç›˜","slug":"ä½¿ç”¨-Mac-å°†-iPhone-æ•°æ®å¤‡ä»½åˆ°ç§»åŠ¨ç¡¬ç›˜","date":"2019-11-15T12:54:27.000Z","updated":"2019-11-20T14:09:09.818Z","comments":true,"path":"3415.html","link":"","permalink":"https://leaderliang.coding.me/3415.html","excerpt":"æœ€è¿‘ç”¨ç”µè„‘å¤‡ä»½ iphone æ•°æ®æ—¶æç¤ºæˆ‘çš„ mac å†…å­˜ä¸è¶³ï¼Œå› ä¸ºæ‰‹æœºä¸Šçš„æ•°æ®ä¹±ä¸ƒå…«ç³Ÿå¤§æ¦‚ 100G+","text":"æœ€è¿‘ç”¨ç”µè„‘å¤‡ä»½ iphone æ•°æ®æ—¶æç¤ºæˆ‘çš„ mac å†…å­˜ä¸è¶³ï¼Œå› ä¸ºæ‰‹æœºä¸Šçš„æ•°æ®ä¹±ä¸ƒå…«ç³Ÿå¤§æ¦‚ 100G+ï¼› åˆšå¥½æ£å­èŠ‚ä¹°äº†ä¸ªç¡¬ç›˜ï¼Œè€ƒè™‘æŠŠå¤‡ä»½å†…å®¹å®‰æ’åˆ°æˆ‘çš„ç¡¬ç›˜ä¸Šã€‚æˆ‘çš„ç”µè„‘ç³»ç»Ÿæ˜¯ macOS Catalina ç‰ˆæœ¬ 10.15.1 æ‰€ä»¥è¿™ä¸ªç‰ˆæœ¬ç”¨çš„æ˜¯ Finder æ¥å¤‡ä»½æ‰‹æœºï¼Œè€ç³»ç»Ÿçš„è¯ï¼Œè¿˜ç»§ç»­ä½¿ç”¨ iTunesï¼Œæ“ä½œæ˜¯ä¸€æ ·çš„ã€‚ å¯ä»¥å‚è€ƒä»¥ä¸‹æ­¥éª¤ ç¡¬ç›˜è¿æ¥åˆ° Mac åï¼Œç¡®ä¿ç¡¬ç›˜çš„å‰©ä½™ç©ºé—´è¶³å¤Ÿå®¹çº³ iPhone çš„å¤‡ä»½;åœ¨å¤–ç½®ç¡¬ç›˜æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªåä¸º MobileSync çš„æ–‡ä»¶å¤¹ï¼Œçœ‹å¥½å•Šæ˜¯æ ¹ç›®å½•ï¼Œåœ¨ MobileSync ä¸‹æ–°å»º Backup çš„æ–‡ä»¶å¤¹ï¼Œä¸»è¦æ˜¯å› ä¸ºç³»ç»Ÿé»˜è®¤å¤‡ä»½æ—¶åˆ›å»ºçš„ç›®å½•ç»“æ„æ˜¯ /Users/devliang/Library/Application\\ Support/MobileSync/Backupï¼Œè¿™ä¸ªè·¯å¾„æ˜¯æˆ‘ä¸ªäººç”µè„‘è·¯å¾„ï¼Œå¯ä»¥ç±»æ¯”çœ‹ä¸‹è‡ªå·±çš„ã€‚æ‰“å¼€ mac çš„ Finder æ‰¾åˆ° å‰å¾€æ–‡ä»¶å¤¹ï¼ŒæŠŠåˆšç³»ç»Ÿçš„å¤‡ä»½è·¯å¾„å¤åˆ¶è¿›å»æ‰“å¼€ï¼Œæ‰¾åˆ°å¯¹åº”çš„å¤‡ä»½ç›®å½•ï¼Œç„¶ååˆ é™¤ MobileSync ä¸‹çš„ Backup æ–‡ä»¶å¤¹ï¼› æ‰“å¼€ç»ˆç«¯å‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤ 1ln -s /Volumes/Micro\\ SD/MobileSync/Backup /Users/liangyanqiao/Library/Application\\ Support/MobileSync æè¿°ä¸‹å‘½ä»¤è¡Œå¤§è‡´æ˜¯è¿™æ ·çš„ ln -s ç§»åŠ¨ç¡¬ç›˜ä¸­çš„ Backup è·¯å¾„ ç³»ç»Ÿ MobileSync è·¯å¾„æ³¨æ„ï¼š æ–‡ä»¶å¤¹è·¯å¾„ä¸ä¼šæ“ä½œï¼Œå¯ä»¥ç›´æ¥æŠŠæ–‡ä»¶å¤¹æ‹–æ‹½åˆ°ç»ˆç«¯é‡Œå³å¯çœ‹åˆ°è·¯å¾„ï¼ æ–‡ä»¶å¤¹åå­—å¦‚æœæœ‰ç©ºæ ¼çš„ä½¿ç”¨ \\ç©ºæ ¼ è¡¨ç¤ºï¼ ç§»åŠ¨ç¡¬ç›˜åå­—ä¸çŸ¥é“çš„ï¼Œå¯ä»¥åœ¨ç£ç›˜å·¥å…·é‡ŒæŸ¥çœ‹ï¼ æ‰§è¡Œå‘½ä»¤åå¯ä»¥çœ‹åˆ°ç³»ç»Ÿçº§åˆ«ç›®å½•é‡Œå¤šå‡ºä¸€ä¸ªå¿«æ·é”®å›¾æ ‡çš„ç›®å½• Backupï¼Œç„¶åå½“ Backup ä¸‹æœ‰æ–‡ä»¶çš„æ—¶å€™ï¼Œå®é™…æ‰“å¼€çš„æ˜¯å¤–ç½®ç¡¬ç›˜çš„ç›®å½•ï¼› åˆ°è¿™ä¸€æ­¥æ“ä½œåŸºæœ¬ç»“æŸäº†ï¼Œä¹‹åä½¿ç”¨ Finder å¤‡ä»½çš„è¯ï¼Œå°±ä¼šå¤‡ä»½åˆ°æ–°çš„è·¯å¾„ä¸Šäº†ï¼Œå‰ææ˜¯ç§»åŠ¨è®¾å¤‡éœ€è¦æå‰è¿æ¥ä¸Šï¼› ä¸€äº›å…¶ä»–é—®é¢˜ å¯èƒ½å‡ºç°å¤‡ä»½è¿‡ç¨‹ä¸­æ‰‹æœºæ–­å¼€äº†ï¼Œå¯¼è‡´å¤‡ä»½å¤±è´¥ï¼Œä¸‹æ¬¡å¼€æœºåé‡è¿å¤‡ä»½å¤šæ¬¡ä¸æˆåŠŸçš„ï¼Œæç«¯çš„åŠæ³•å°±æ˜¯æ¸…é™¤å¤–ç½®ç¡¬ç›˜ Backup æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚","categories":[{"name":"Tools","slug":"tools","permalink":"https://leaderliang.coding.me/categories/tools/"}],"tags":[{"name":"Mac","slug":"mac","permalink":"https://leaderliang.coding.me/tags/mac/"},{"name":"Tools","slug":"tools","permalink":"https://leaderliang.coding.me/tags/tools/"}]},{"title":"Kotlin å…¥é—¨ç¬”è®°æ•´ç†","slug":"Kotlin-å…¥é—¨ç¬”è®°æ•´ç†","date":"2019-11-07T11:02:05.000Z","updated":"2019-11-08T11:04:15.586Z","comments":true,"path":"aa8e.html","link":"","permalink":"https://leaderliang.coding.me/aa8e.html","excerpt":"æŠ½å‡ºæ—¶é—´æŠŠè‡ªå·±å­¦ä¹  kotlin è¿‡ç¨‹çš„ç¬”è®°æ•´ç†æ€»ç»“ä¸€ä¸‹å•¦â€¦","text":"æŠ½å‡ºæ—¶é—´æŠŠè‡ªå·±å­¦ä¹  kotlin è¿‡ç¨‹çš„ç¬”è®°æ•´ç†æ€»ç»“ä¸€ä¸‹å•¦â€¦æš‚æ—¶å…ˆæŠŠæˆ‘è‡ªå·±æ•´æˆç¬”è®°çš„ PDF è´´å‡ºæ¥ã€‚pdf å±•ç¤ºä¸Šè¿˜æœ‰äº›é—®é¢˜ï¼Œå‚è€ƒäº† http://lingr7.coding.me/2019/10/02/theme-hexo-pdfä½¿ç”¨æŠ€å·§-è§£å†³hexo-pdfæ–‡ä»¶æ˜¾ç¤ºä¸å…¨çš„é—®é¢˜.html é«˜åº¦è¿˜æ˜¯ä¸å¤Ÿï¼Œä¸å¤ªå¥½å“ˆ å¦‚æœä¸æ–¹ä¾¿ä¹Ÿå¯ä»¥ç‚¹å‡»ä¸‹é¢é“¾æ¥æœ‰é“äº‘ç¬”è®°","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"Kotlin","slug":"android/Kotlin","permalink":"https://leaderliang.coding.me/categories/android/Kotlin/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"Kotlin","slug":"Kotlin","permalink":"https://leaderliang.coding.me/tags/Kotlin/"}]},{"title":"Android ä½¿ç”¨ Charles æŠ“åŒ…å¤±è´¥æŠ¥ SSLHandshake: Received fatal alert: certificate_unknown æœ€æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆ","slug":"ä½¿ç”¨-Charles-Android-æŠ“åŒ…å¤±è´¥æŠ¥-SSLHandshake-Received-fatal-alert-certificate-unknown-æœ‰æ•ˆè§£å†³æ–¹æ¡ˆ","date":"2019-08-22T03:46:10.000Z","updated":"2019-08-22T04:06:19.582Z","comments":true,"path":"adb1.html","link":"","permalink":"https://leaderliang.coding.me/adb1.html","excerpt":"Android ä½¿ç”¨ Charles æŠ“å– Https è¯·æ±‚çš„æŠ¥æ–‡æ—¶ï¼ŒAndroid å’Œ Charles éƒ½æ­£ç¡®å®‰è£…äº†è¯ä¹¦ä¹‹åå‡ºç°æŠ“åŒ…å¤±è´¥ï¼ŒæŠ¥é”™ SSLHandshake: Received fatal alert: certificate_unknown,","text":"Android ä½¿ç”¨ Charles æŠ“å– Https è¯·æ±‚çš„æŠ¥æ–‡æ—¶ï¼ŒAndroid å’Œ Charles éƒ½æ­£ç¡®å®‰è£…äº†è¯ä¹¦ä¹‹åå‡ºç°æŠ“åŒ…å¤±è´¥ï¼ŒæŠ¥é”™ SSLHandshake: Received fatal alert: certificate_unknown, å®˜æ–¹æœ‰ä¸ªè¯´æ˜æ–‡æ¡£ï¼Œç‚¹å‡»æŸ¥çœ‹ åŸå› å®‰å“7ä¹‹åè°ƒæ•´äº†å®‰å…¨ç­–ç•¥ä¼šå¯¼è‡´éƒ¨åˆ†æ‰‹æœºæŠ“åŒ…å¤±è´¥ï¼Œè¯·å‚è€ƒæ­¤é“¾æ¥ï¼šhttps://android-developers.googleblog.com/2016/07/changes-to-trusted-certificate.html ï¼Œæ–‡ä¸­æåˆ°é»˜è®¤æƒ…å†µä¸‹ï¼Œé’ˆå¯¹ API Level 24 åŠæ›´é«˜ç‰ˆæœ¬çš„åº”ç”¨ç¨‹åºä¸å†ä¿¡ä»»ç”¨æˆ·æˆ–ç®¡ç†å‘˜æ·»åŠ çš„CAç”¨äºå®‰å…¨è¿æ¥ã€‚ è§£å†³æ–¹æ³•æ–¹æ³•ä¸€ä¸ªäººæ‰‹æœºä¸Šå·²ç»æ­£ç¡®å®‰è£…äº† Charles è¯ä¹¦ï¼Œè¯ä¹¦ä¸æ‡‚æ€ä¹ˆå®‰è£…çš„å¯ä»¥è‡ªè¡Œæœç´¢ã€‚åœ¨ä½ çš„ AndroidManifest.xml æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š 1234567&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;manifest ... &gt; &lt;application android:networkSecurityConfig=&quot;@xml/network_security_config&quot; ... &gt;...&lt;/application&gt;&lt;/manifest&gt; åœ¨resç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªxmlæ–‡ä»¶å¤¹ï¼Œä¹‹ååœ¨res/xml/è·¯å¾„ä¸‹æ–°å»ºæ–‡ä»¶ network_security_config.xml,åå­—å¯ä»¥éšæ„å®šä¹‰ï¼Œè·¯å¾„res/xml/network_security_config.xmlï¼š 123456789&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;network-security-config&gt; &lt;domain-config&gt; &lt;domain includeSubdomains=&quot;true&quot;&gt;ä½ è¦æŠ“å–çš„åŸŸå(eg:baidu.com)&lt;/domain&gt; &lt;trust-anchors&gt; &lt;certificates src=&quot;user&quot;/&gt;//ä¿¡ä»»ç”¨æˆ·è‡ªå·±å®‰è£…çš„è¯ä¹¦ &lt;/trust-anchors&gt; &lt;/domain-config&gt;&lt;/network-security-config&gt; æ–¹æ³•äºŒæ‰‹æœºä¸Šæ˜¯å¦æœ‰è£…è¯ä¹¦ä¹Ÿéƒ½å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•ï¼šåœ¨ä½ çš„AndroidManifest.xmlæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š 1234567&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;manifest ... &gt; &lt;application android:networkSecurityConfig=&quot;@xml/network_security_config&quot; ... &gt;...&lt;/application&gt;&lt;/manifest&gt; åœ¨resç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªxmlæ–‡ä»¶å¤¹ï¼Œä¹‹ååœ¨ res/xml/ è·¯å¾„ä¸‹æ–°å»ºæ–‡ä»¶ network_security_config.xmlï¼Œè·¯å¾„res/xml/network_security_config.xmlï¼š 123456789&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;network-security-config&gt; &lt;domain-config&gt; &lt;domain includeSubdomains=&quot;true&quot;&gt;ä½ è¦æŠ“å–çš„åŸŸåï¼ˆeg:baidu.comï¼‰&lt;/domain&gt; &lt;trust-anchors&gt; &lt;certificates src=&quot;@raw/è¯ä¹¦æ–‡ä»¶å&quot;/&gt; &lt;/trust-anchors&gt; &lt;/domain-config&gt;&lt;/network-security-config&gt; åœ¨resç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªrawæ–‡ä»¶å¤¹ï¼Œå°†æ‰‹æœºä¸Šå®‰è£…çš„è¯ä¹¦æ–‡ä»¶ copy åˆ°ä½ çš„å·¥ç¨‹ç›®å½•ï¼Œres/raw/ ç›®å½•ä¸‹ï¼Œè¯ä¹¦æ ¼å¼ï¼špemï¼Œcrtç­‰ï¼ˆchalesçš„è¯å°±æ˜¯å°†ä½ åœ¨æ‰‹æœºæµè§ˆå™¨æ‰“å¼€ http://charlesproxy.com/getssl ä¸‹è½½çš„è¯ä¹¦æ”¾å…¥å³å¯ï¼‰ï¼Œè¯ä¹¦æ–‡ä»¶åï¼Œå°±æ˜¯ä½ æ”¾å…¥res/raw/ç›®å½•ä¸‹æ–‡ä»¶çš„åå­—é…ç½®å®Œé‡æ–°è¿è¡Œé¡¹ç›®ï¼Œå°±å¯ä»¥çœ‹åˆ°æŠ¥æ–‡äº†ï¼ PS:å¦‚æœé…ç½®åè¿˜æ˜¯æ²¡çœ‹åˆ° https å¯¹åº”çš„æŠ¥æ–‡ï¼Œå†æ¬¡æ£€æŸ¥ä¸‹ä½ è¾“å…¥çš„åŸŸåï¼Œæœ‰æ²¡æœ‰å¸¦ httpsï¼š//ï¼Œå»æ‰å³å¯ï¼","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"}]},{"title":"é‡é€¢é¤å…æ¯å­æƒŠå–œç›¸è§ï¼Œå…±å“å½¼æ­¤æœ€ç†Ÿæ‚‰çš„å‘³é“","slug":"é‡é€¢é¤å…æ¯å­æƒŠå–œç›¸è§ï¼Œå…±å“å½¼æ­¤æœ€ç†Ÿæ‚‰çš„å‘³é“","date":"2019-08-08T05:27:23.000Z","updated":"2019-08-08T05:32:56.257Z","comments":true,"path":"e48f.html","link":"","permalink":"https://leaderliang.coding.me/e48f.html","excerpt":"ç‹å®å¼ºï¼šæå’é€ä½ çš„é¡¹é“¾å¤šå°‘é’±ï¼Ÿå¦ˆå¦ˆçš„å›ç­”ï¼Œç‹å®å¼ºç¬é—´ä¹å•¦â€¦","text":"ç‹å®å¼ºï¼šæå’é€ä½ çš„é¡¹é“¾å¤šå°‘é’±ï¼Ÿå¦ˆå¦ˆçš„å›ç­”ï¼Œç‹å®å¼ºç¬é—´ä¹å•¦â€¦","categories":[{"name":"è§†é¢‘æ¨è","slug":"video","permalink":"https://leaderliang.coding.me/categories/video/"}],"tags":[{"name":"è§†é¢‘æ¨è","slug":"video","permalink":"https://leaderliang.coding.me/tags/video/"},{"name":"video","slug":"video","permalink":"https://leaderliang.coding.me/tags/video/"}]},{"title":"æ­å»º React Native å¼€å‘ç¯å¢ƒä¸­é‡åˆ°çš„é—®é¢˜è®°å½•","slug":"æ­å»º-React-Native-å¼€å‘ç¯å¢ƒä¸­é‡åˆ°çš„é—®é¢˜è®°å½•","date":"2019-07-02T09:20:18.000Z","updated":"2019-07-31T02:57:21.409Z","comments":true,"path":"c994.html","link":"","permalink":"https://leaderliang.coding.me/c994.html","excerpt":"æœ€è¿‘å› ä¸ºå·¥ä½œéœ€è¦åœ¨å­¦ä¹  React Nativeï¼Œè¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œç®€å•æ•´ç†ä¸€ä¸‹ï¼Œæ–¹ä¾¿ä»¥åæŸ¥é˜…~","text":"æœ€è¿‘å› ä¸ºå·¥ä½œéœ€è¦åœ¨å­¦ä¹  React Nativeï¼Œè¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œç®€å•æ•´ç†ä¸€ä¸‹ï¼Œæ–¹ä¾¿ä»¥åæŸ¥é˜…~ ï¼Œä¸»è¦å‚è€ƒçš„æ˜¯ React Native ä¸­æ–‡å®˜ç½‘çš„ä¸€äº›æŒ‡å—ï¼Œé‡åˆ°é—®é¢˜å†é’ˆå¯¹æ€§çš„è§£å†³ã€‚æ¯”å¦‚å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºä½  NVM ç¯å¢ƒå˜é‡æ²¡é…ç½®å•¦ï¼Œä½ éœ€è¦æŒ‰ç…§ log æç¤ºè¿›è¡Œé…ç½®ç­‰è¯¸å¦‚æ­¤ç±»é—®é¢˜~ nvmï¼Œnodeï¼Œnpmï¼Œnrm ä¹‹é—´çš„åŒºåˆ«nvmï¼šnodejs ç‰ˆæœ¬ç®¡ç†å·¥å…·nodejsï¼šåœ¨é¡¹ç›®å¼€å‘æ—¶çš„æ‰€éœ€è¦çš„ä»£ç åº“(node -v)npmï¼šnodejs åŒ…ç®¡ç†å·¥å…·nrm: (npm registry manager )æ˜¯npmçš„é•œåƒæºç®¡ç†å·¥å…·ï¼Œæœ‰æ—¶å€™å›½å¤–èµ„æºå¤ªæ…¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªæ¥åˆ‡æ¢é•œåƒæº You need to run â€œnvm install N/Aâ€ to install it before using itæ‰“å¼€ç»ˆç«¯åä¸€ç›´æç¤ºè¿™ä¸ªï¼Œå¾ˆçƒ¦ï¼Œè§£å†³æ–¹æ³•ï¼šæŸ¥çœ‹ node ç‰ˆæœ¬ node -v æ‰§è¡Œå‘½ä»¤ï¼š nvm ls æŸ¥çœ‹ â€œdefaultâ€ Node ç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯ default -&gt; node (-&gt; N/A) ç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼Œè¿™æ˜¯å¼•èµ·æŠ¥é”™çš„åŸå› ã€‚æ‰§è¡Œå‘½ä»¤ï¼šnvm alias default nodeæ‰§è¡Œå‘½ä»¤ï¼šnvm ls æŸ¥çœ‹å±•ç¤ºä¸­é—´å¯èƒ½ä¼šå‡ºç°ä¸€äº›ä¸èƒ½è®¾ç½®é»˜è®¤ç‰ˆæœ¬çš„ï¼Œé‚£å¯ä»¥å†ä¸‹è½½ä¸€ä¸ªåˆ«çš„ç‰ˆæœ¬ï¼Œç„¶åå†æ¬¡åˆ‡æ¢ã€‚ åœ¨åˆ›å»º android demo æ—¶å€™ï¼Œæ‰“å¼€ app ç•Œé¢å¾ˆå¤šçº¢è‰²èƒŒæ™¯çš„ log ä¿¡æ¯å¯èƒ½æ˜¯å› ä¸ºæœåŠ¡æ²¡æœ‰å¯åŠ¨æ‰§è¡Œ 1react-native start å¦‚æœæç¤ºä»€ä¹ˆç«¯å£è¢«å ç”¨ï¼Œè¿˜éœ€è¦æŠŠå ç”¨çš„ç«¯å£å…³æ‰ 123456å¼‚å¸¸å¦‚ï¼šMetro Bundler can&apos;t listen on port 8081æ‰§è¡Œï¼šsudo lsof -i :8081 åˆ—å‡ºå ç”¨çš„åˆ—è¡¨kill æŸ¥åˆ°çš„ å¯¹åº”çš„ pid å· nvm çš„æœ‰å…³å‘½ä»¤1234567891011nvm install stable ## å®‰è£…æœ€æ–°ç¨³å®šç‰ˆ nodenvm install &lt;version&gt; ## å®‰è£…æŒ‡å®šç‰ˆæœ¬nvm uninstall &lt;version&gt; ## åˆ é™¤å·²å®‰è£…çš„æŒ‡å®šç‰ˆæœ¬nvm use &lt;version&gt; ## åˆ‡æ¢ä½¿ç”¨æŒ‡å®šçš„ç‰ˆæœ¬nodenvm ls ## åˆ—å‡ºæ‰€æœ‰å®‰è£…çš„ç‰ˆæœ¬nvm ls-remote ## åˆ—å‡ºæ‰€æœ‰è¿œç¨‹æœåŠ¡å™¨çš„ç‰ˆæœ¬nvm current ## æ˜¾ç¤ºå½“å‰çš„ç‰ˆæœ¬nvm alias &lt;name&gt; &lt;version&gt; ## ç»™ä¸åŒçš„ç‰ˆæœ¬å·æ·»åŠ åˆ«ånvm unalias &lt;name&gt; ## åˆ é™¤å·²å®šä¹‰çš„åˆ«ånvm reinstall-packages &lt;version&gt; ## åœ¨å½“å‰ç‰ˆæœ¬ node ç¯å¢ƒä¸‹ï¼Œé‡æ–°å…¨å±€å®‰è£…æŒ‡å®šç‰ˆæœ¬å·çš„ npm åŒ…nvm alias default [nodeç‰ˆæœ¬å·] ##è®¾ç½®é»˜è®¤ç‰ˆæœ¬ react-native ä¸€äº›å‘½ä»¤react-native link build node_modules åº“react-native start å¼€å¯æœåŠ¡react-native run-android ç¼–è¯‘å®‰å“ç¨‹åºåˆ°æ‰‹æœº æ‰§è¡Œ brew install watchman æ²¡æœ‰æƒé™ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤è·å– usr/local æ–‡ä»¶å¤¹çš„å†™å…¥æƒé™sudo chown -R $(whoami) /usr/local/*é‡æ–°è°ƒç”¨ brew install watchman ï¼Œå³å¯æ­£å¸¸å®Œæˆå®‰è£…ã€‚ â€˜whoamiâ€™ linux å‘½ä»¤ï¼Œå‘½ä»¤ç”¨äºæ‰“å°å½“å‰æœ‰æ•ˆçš„ç”¨æˆ·åç§°ï¼Œç›¸å½“äºæ‰§è¡Œ id -un å‘½ä»¤ã€‚","categories":[{"name":"React Native","slug":"react-native","permalink":"https://leaderliang.coding.me/categories/react-native/"}],"tags":[{"name":"React Native","slug":"react-native","permalink":"https://leaderliang.coding.me/tags/react-native/"}]},{"title":"RxJava2.0 ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„ bug æ€»ç»“","slug":"RxJava2-0-ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„-bug-æ€»ç»“","date":"2019-06-27T10:51:50.000Z","updated":"2019-11-20T13:22:00.750Z","comments":true,"path":"a450.html","link":"","permalink":"https://leaderliang.coding.me/a450.html","excerpt":"æ—¥å¸¸å¼€å‘ä¸­é‡åˆ°çš„ RxJava2.0 é—®é¢˜ï¼Œåœ¨è¿™é‡Œè¿›è¡Œä¸€ä¸ªç®€å•çš„è®°å½•ï¼Œä¹Ÿå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°æ›´å¤šè¢«è¿™äº›é—®é¢˜å›°æ‰°çš„å°ä¼™ä¼´ä»¬","text":"æ—¥å¸¸å¼€å‘ä¸­é‡åˆ°çš„ RxJava2.0 é—®é¢˜ï¼Œåœ¨è¿™é‡Œè¿›è¡Œä¸€ä¸ªç®€å•çš„è®°å½•ï¼Œä¹Ÿå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°æ›´å¤šè¢«è¿™äº›é—®é¢˜å›°æ‰°çš„å°ä¼™ä¼´ä»¬ï¼ŒæŒç»­æ›´æ–°â€¦ io.reactivex.exceptions.UndeliverableException RxJava2 å–æ¶ˆè®¢é˜…åï¼ŒæŠ›å‡ºçš„å¼‚å¸¸æ— æ³•æ•è·ï¼Œå¯¼è‡´ç¨‹åºå´©æºƒï¼š è¯¦ç»†å¼‚å¸¸æ‰“å°æ—¥å¿—ï¼šï¼ˆio.reactivex.exceptions.UndeliverableException:The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with.ï¼‰ UndeliverableException ä»å­—é¢æ„æ€çœ‹ï¼Œæ„æ€æ˜¯ä¸å¯é€è¾¾çš„å¼‚å¸¸ã€‚é€šè¿‡æºç è·Ÿè¸ªï¼Œå‘ç°æŠ›å‡ºio.reactivex.exceptions.UndeliverableException å”¯ä¸€åœ°æ–¹æ˜¯ RxJavaPlugins ç±»ã€‚ RxJava2 å½“å–æ¶ˆè®¢é˜…å(dispose())ï¼ŒRxJava æŠ›å‡ºçš„å¼‚å¸¸åç»­æ— æ³•æ¥æ”¶(æ­¤æ—¶åå°çº¿ç¨‹ä»åœ¨è·‘ï¼Œå¯èƒ½ä¼šæŠ›å‡ºIOç­‰å¼‚å¸¸),å…¨éƒ¨ç”± RxJavaPlugin æ¥æ”¶ï¼Œéœ€è¦æå‰è®¾ç½® ErrorHandler. RxJava2çš„ä¸€ä¸ªé‡è¦çš„è®¾è®¡ç†å¿µæ˜¯ï¼šä¸åƒæ‰ä»»ä½•ä¸€ä¸ªå¼‚å¸¸ã€‚äº§ç”Ÿçš„é—®é¢˜æ˜¯ï¼Œå½“RxJava2â€œdownStreamâ€å–æ¶ˆè®¢é˜…åï¼Œâ€œupStreamâ€ä»æœ‰å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œè¿™æ—¶ç”±äºå·²ç»å–æ¶ˆè®¢é˜…ï¼Œâ€œdownStreamâ€æ— æ³•å¤„ç†å¼‚å¸¸ï¼Œæ­¤æ—¶çš„å¼‚å¸¸æ— äººå¤„ç†ï¼Œä¾¿ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚ ä¸ªäººå‡ºé—®é¢˜çš„ä»£ç ï¼Œä¹Ÿæ˜¯å¸¸è§„å†™æ³• 123456789101112131415161718192021222324252627282930Observable.create((ObservableOnSubscribe&lt;HouseVOListSchema&gt;) emitter -&gt; &#123; if (isViewAttached()) &#123; try &#123; ResultBean result = apiInstance.requestData(token); if (result == null) &#123; emitter.onError(new NullPointerException()); &#125; else &#123; emitter.onNext(result); emitter.onComplete(); &#125; &#125; catch (ApiException e) &#123; Trace.e(&quot;Rxjava æ¥å£è°ƒç”¨å¼‚å¸¸&quot;, &quot;getSearchPageIndex123 e.getMessage() &quot;+e.getMessage() + &quot; e.getCode() &quot;+e.getCode()+&quot; e.getResponseBody() &quot; +e.getResponseBody()); emitter.onError(e); &#125; &#125;&#125;).subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) // Memory leak .as(mMvpView.bindAutoDispose()) .subscribe(result -&gt; &#123; mMvpView.dismissLoading(); if (isViewAttached()) &#123; if (AppConstant.RESPONSE_RESULE_CODE == result.getCode()) &#123; mMvpView.onSuccess(result.getResult()); &#125; else &#123; mMvpView.onError(result.getMessage()); &#125; &#125; &#125;, throwable -&gt; mMvpView.onThrowable(throwable) ); å°±è¿™ç§å¸¸è§„æ“ä½œçš„ä»£ç ï¼Œå‡ºé—®é¢˜äº†ã€‚ è§£å†³æ–¹æ¡ˆï¼šåœ¨ Application åˆå§‹åŒ–æ—¶å€™è®¾ç½® RxJavaPlugin çš„ ErrorHandler 123456private void setRxJavaErrorHandler() &#123; RxJavaPlugins.setErrorHandler(throwable -&gt; &#123; throwable.printStackTrace(); Trace.e(&quot;MyApplication&quot;, &quot;MyApplication setRxJavaErrorHandler &quot; + throwable.getMessage()); &#125;); &#125;","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/categories/java/"},{"name":"RxJava","slug":"rxjava","permalink":"https://leaderliang.coding.me/categories/rxjava/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/tags/java/"},{"name":"RxJava","slug":"rxjava","permalink":"https://leaderliang.coding.me/tags/rxjava/"}]},{"title":"Android æ—¥å¸¸å¼€å‘ bug æ€»ç»“ ","slug":"Android-æ—¥å¸¸å¼€å‘-bug-æ€»ç»“","date":"2019-06-21T11:11:23.000Z","updated":"2019-11-20T14:04:15.317Z","comments":true,"path":"484.html","link":"","permalink":"https://leaderliang.coding.me/484.html","excerpt":"æ—¥å¸¸å¼€å‘ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œåœ¨è¿™é‡Œè¿›è¡Œä¸€ä¸ªç®€å•çš„è®°å½•ï¼Œä¹Ÿå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°æ›´å¤šè¢«è¿™äº›é—®é¢˜å›°æ‰°çš„å°ä¼™ä¼´ä»¬~","text":"æ—¥å¸¸å¼€å‘ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œåœ¨è¿™é‡Œè¿›è¡Œä¸€ä¸ªç®€å•çš„è®°å½•ï¼Œä¹Ÿå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°æ›´å¤šè¢«è¿™äº›é—®é¢˜å›°æ‰°çš„å°ä¼™ä¼´ä»¬~ Gradle Permission denied è§£å†³æ–¹æ¡ˆè§£å†³æ–¹æ¡ˆçš„åœ°å€ https://stackoverflow.com/questions/17668265/gradlew-permission-denied è¾“å…¥ chmod +x gradlew å°±å¯ä»¥è§£é™¤æ‰§è¡Œæƒé™äº†ï¼","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/categories/java/"},{"name":"RxJava","slug":"rxjava","permalink":"https://leaderliang.coding.me/categories/rxjava/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/tags/java/"},{"name":"RxJava","slug":"rxjava","permalink":"https://leaderliang.coding.me/tags/rxjava/"}]},{"title":"Android å·¥ç¨‹ä¸­æ–¹æ³•æ•°è¶…è¿‡ 65536 è§£å†³æ–¹æ¡ˆ","slug":"Android-å·¥ç¨‹ä¸­æ–¹æ³•æ•°è¶…è¿‡-65536-è§£å†³æ–¹æ¡ˆ","date":"2019-05-16T12:10:09.000Z","updated":"2019-05-16T12:38:10.806Z","comments":true,"path":"8c75.html","link":"","permalink":"https://leaderliang.coding.me/8c75.html","excerpt":"","text":"Android Studio é”™è¯¯æç¤º Error: null, Cannot fit requested classes in a single dex file (# methods: 66457 &gt; 65536) è§£å†³æ–¹æ¡ˆbuild.gradle æ–‡ä»¶ android çš„ defaultConfig é‡Œé¢å¢åŠ  multiDexEnabled true build.gradle æ–‡ä»¶ dependencies é‡Œé¢å¢åŠ  implementation â€˜com.android.support:multidex:1.0.3â€™ Application ç±»ä¸­å¢åŠ  kotlin å†™æ³• 1234 override fun attachBaseContext(base: Context) &#123; super.attachBaseContext(base) MultiDex.install(this)&#125; Application ç±»ä¸­å¢åŠ  java å†™æ³• 12345@Override protected void attachBaseContext(Context base) &#123; super.attachBaseContext(base); MultiDex.install(this); &#125;","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"}]},{"title":"æå‡å¼€å‘æ•ˆç‡å·¥å…·æ•´ç†","slug":"æå‡å¼€å‘æ•ˆç‡å·¥å…·æ•´ç†","date":"2019-04-27T02:45:22.000Z","updated":"2020-03-05T13:25:28.204Z","comments":true,"path":"4794.html","link":"","permalink":"https://leaderliang.coding.me/4794.html","excerpt":"","text":"è¿™é‡Œè®°å½•çš„è½¯ä»¶å’Œç›¸å…³é…ç½®éƒ½æ˜¯åŸºäº MacOs æ“ä½œç³»ç»Ÿä¸‹â€¦ æå‡å¼€å‘æ•ˆç‡å·¥å…·æ•´ç†APKPureAPKä¸‹è½½å™¨åœ¨çº¿æé€Ÿä¸‹è½½åŸç‰ˆåº”ç”¨ - APKPureå®˜ç½‘,ä¸èƒ½ç¿»å¢™ä¸‹è½½ GooglePlay çš„æ–¹ä¾¿å•¦ ScrcpyScrcpy android å®¢æˆ·ç«¯æŠ•å±æ’ä»¶ This application provides display and control of Android devices connected on USB (or over TCP/IP). It does not require any root access. It works on GNU/Linux, Windows and MacOS. 12brew install scrcpyrun: scrcpy å‘½ä»¤ CodotaCodota AS å¿«æ·é”®ï¼Œå‡ ä¸ªå¿«æ·é”®åå­—è®°å½•related symbol ï¼Œopen xml source;Jump to Sourcedeclaration or usages Apple Command Line Tools ä»App Storeä¸Šä¸‹è½½çš„Xcodeï¼Œé»˜è®¤æ˜¯ä¸ä¼šå®‰è£…Command Line Toolsçš„ï¼ŒCommand Line Toolsæ˜¯åœ¨Xcodeä¸­çš„ä¸€æ¬¾å·¥å…·ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ C ç¨‹åºã€‚ 123The bottle needs the Apple Command Line Tools to be installed.You can install them, if desired, with:xcode-select --install mac ä¸‹ä½¿ç”¨ brew åŒ…ç®¡ç†å·¥å…·å®‰è£… tree ç›¸ä¿¡å¾ˆå¤šä½¿ç”¨è¿‡Linuxçš„ç”¨æˆ·éƒ½ç”¨è¿‡ tree å‘½ä»¤ï¼Œå®ƒå¯ä»¥åƒwindowsçš„æ–‡ä»¶ç®¡ç†å™¨ä¸€æ ·æ¸…æ¥šæ˜äº†çš„æ˜¾ç¤ºç›®å½•ç»“æ„ã€‚æ›´å¤šå¯å‚è€ƒï¼šhttps://www.jianshu.com/p/008b4c696bf1 1brew install tree åœ¨å¯¹åº”æŸä¸ªç›®å½•ä¸‹ï¼Œå¯ç›´æ¥ä½¿ç”¨ tree æŸ¥çœ‹å½“å¤© ç›®å½•ç»“æ„ï¼› ä½¿ç”¨ tree â€“help æŸ¥çœ‹æ›´å¤šå¸®åŠ©ä¿¡æ¯ï¼› MacOS ä¸‹å®‰è£… JAVA JDK ç›¸å…³é—®é¢˜ ä¹‹å‰å®‰è£… java jdk éƒ½æ˜¯åœ¨å®˜ç½‘ä¸‹è½½ pkg åŒ…å®‰è£…ï¼Œæœ‰æ–°ç‰ˆæœ¬ç„¶åå†é‡æ–°ä¸‹ï¼Œç®¡ç†ã€å‡çº§å’Œå¸è½½èµ·æ¥éƒ½æä¸æ–¹ä¾¿ï¼Œå¦å¤–ç°åœ¨ç›´æ¥åœ¨å®˜ç½‘ä¸‹è½½è¿˜æ˜¯ä¼šä»¥ 0 kb æç¤ºç”¨æˆ·ä¸‹è½½å¤±è´¥ï¼Œ vpn ä¹Ÿè¯•äº†æœ€åæ²¡æˆåŠŸï¼Œç›¸è¾ƒè€Œè¨€ï¼Œä½¿ç”¨ brew æä¾›è‡ªåŠ¨å®‰è£…å’Œå¸è½½çš„åŠŸèƒ½ï¼Œç®¡ç†èµ·æ¥ä¹Ÿæ¯”è‡ªè¡Œå®‰è£…æ–¹ä¾¿è½»æ¾ã€‚å¦‚æœè¿˜æ²¡ç”¨è¿‡ brew çš„è¯å¯ä»¥è‡ªè¡Œ google å®‰è£…ï¼›æ•´ç†å€Ÿé‰´ï¼šhttps://juejin.im/post/5d550c5d51882504fb3022f7ï¼› å¦‚æœå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ JDKï¼Œç›´æ¥æ‰§è¡Œ brew cask install java,å¾ˆå¤šæ—¶å€™å¼€å‘ç¯å¢ƒå¹¶ä¸ä¸€å®šéœ€è¦æœ€æ–°ç‰ˆçš„ JDK çš„ç‰¹æ€§ï¼Œè¿˜éœ€è¦åœ¨ä¸€äº›ä½ç‰ˆæœ¬çš„ JDK åŸºç¡€ä¸Šå¼€å‘ï¼Œå¦‚æœä½¿ç”¨ brew å®‰è£…å…¶ä»–ç‰ˆæœ¬çš„ JDK è¿˜éœ€è¦ä½¿ç”¨ homebrew-cask-versionsï¼Œæ­¤å‘½ä»¤è¡Œå·¥å…·ä¸»è¦ç”¨äºå®‰è£…åº”ç”¨çš„å†å²ç‰ˆæœ¬ï¼Œå¦‚æœä½ æœªæ›¾ä½¿ç”¨è¿‡åˆ™éœ€è¦å…ˆè¿›è¡Œä»¥ä¸‹çš„å‘½ä»¤é…ç½®ä¸‹ å¯èƒ½ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å‘½ä»¤ brew tap caskroom/versionsï¼Œè¿™ä¸ªæ˜¯ç›¸å¯¹è€ç‰ˆæœ¬çš„é…ç½®äº†ï¼Œä¼šæç¤º caskroom/versions was moved. Tap homebrew/cask-versions instead. æ›¿æ¢ä»¥ä¸‹å°±å¥½ 1brew tap homebrew/cask-versions å¯ä»¥æ‰§è¡Œ brew çš„ search å‘½ä»¤çœ‹çœ‹æœ‰å“ªäº› JDK ç‰ˆæœ¬å¯ä¾›å®‰è£…çš„ï¼šbrew search javaï¼› å®‰è£…æŒ‡å®šç‰ˆæœ¬æ—¶æ—©äº›æ—¥å­å¸¸ç”¨ brew cask install java8 æ¥å®‰è£…ï¼Œä½†æ˜¯ä¼šæç¤º Error: Cask &#39;java8&#39; is unavailable: No Cask with this name exists. å¯ä»¥å°è¯• 1234567891011âœ ~ brew tap AdoptOpenJDK/openjdkUpdating Homebrew...==&gt; Tapping adoptopenjdk/openjdkCloning into &apos;/usr/local/Homebrew/Library/Taps/adoptopenjdk/homebrew-openjdk&apos;...remote: Enumerating objects: 40, done.remote: Counting objects: 100% (40/40), done.remote: Compressing objects: 100% (37/37), done.remote: Total 40 (delta 23), reused 6 (delta 0), pack-reused 0Unpacking objects: 100% (40/40), done.Tapped 26 casks (98 files, 100.6KB). å®Œäº‹å„¿åå†æ‰§è¡Œ 123456789101112131415161718# å®‰è£…çš„å°±æ˜¯ jdk8 æœ€æ–°çš„ç‰ˆæœ¬âœ ~ brew cask install adoptopenjdk8Updating Homebrew...==&gt; Downloading https://github.com/AdoptOpenJDK/openjdk8-binaries/releases/download/jdk8u232-b09/OpenJDK8U-jdk_x64_mac_hotsp==&gt; Downloading from https://github-production-release-asset-2e65be.s3.amazonaws.com/140418865/f8992f00-f3f0-11e9-951b-b9bbc######################################################################## 100.0%==&gt; Verifying SHA-256 checksum for Cask &apos;adoptopenjdk8&apos;.==&gt; Installing Cask adoptopenjdk8==&gt; Creating Caskroom at /usr/local/Caskroom==&gt; We&apos;ll set permissions properly so we won&apos;t need sudo in the future.Password:è¾“å…¥å¯†ç ==&gt; Running installer for adoptopenjdk8; your password may be necessary.==&gt; Package installers may write to any location; options such as --appdir are ignored.installer: Package name is AdoptOpenJDKinstaller: Installing at base path /installer: The install was successful.ğŸº adoptopenjdk8 was successfully installed! å®‰è£…è¿‡ç¨‹å¯èƒ½ä¼šå› ä¸ºç½‘ç»œä¸ç¨³å®šå¤šæ¬¡å¤±è´¥ï¼Œå¤šæ“ä½œå‡ æ¬¡å³å¯ï¼›æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€è¦è¾“å…¥å¯†ç æˆæƒã€‚æ‰§è¡Œè¿‡ç¨‹ä¸­åˆ›å»ºçš„è·¯å¾„/usr/local/Caskroomï¼Œå¯¹åº”æˆ‘çš„ç”µè„‘è·¯å¾„ä¸‹æ˜¯è¿™æ ·çš„ /usr/local/Caskroom/adoptopenjdk8/8,232:b09/OpenJDK8U-jdk_x64_mac_hotspot_8u232b09.pkgï¼Œæˆ‘ç†è§£çš„åº”è¯¥ä¼šæŠŠ pkg æ–‡ä»¶è§£å‹å®‰è£…åˆ° mac ç›®å½•/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk ä¸‹ï¼Œè¿™ä¸ª pkg æ–‡ä»¶å¯¹åº”çš„å¯ä»¥åˆ æ‰ã€‚ æ­¤æ—¶æ‰§è¡Œ java -version 12345âœ ~ java -versionopenjdk version &quot;1.8.0_232&quot;OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_232-b09)OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.232-b09, mixed mode) ä¹‹å‰åœ¨å®˜ç½‘ä¸‹è½½åé…ç½®æ•ˆæœï¼Œå¯¹æ¯”ä¸€ä¸‹ 12345âœ ~ java -versionjava version &quot;1.8.0_212&quot;Java(TM) SE Runtime Environment (build 1.8.0_212-b10)Java HotSpot(TM) 64-Bit Server VM (build 25.212-b10, mixed mode) æŸ¥çœ‹æ‰€æœ‰å·²å®‰è£…çš„ JDK ç‰ˆæœ¬è·¯å¾„åœ°å€ï¼š12/usr/libexec/java_home -V/usr/libexec/java_home -- v","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"Tools","slug":"tools","permalink":"https://leaderliang.coding.me/categories/tools/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"Tools","slug":"tools","permalink":"https://leaderliang.coding.me/tags/tools/"}]},{"title":"å°ç±³æ‰‹æœº Toast æ˜¾ç¤ºå¸¦åº”ç”¨åç§°é—®é¢˜è§£å†³æ–¹æ³•","slug":"å°ç±³æ‰‹æœºToast-æ˜¾ç¤ºå¸¦åº”ç”¨åç§°é—®é¢˜è§£å†³æ–¹æ³•","date":"2019-04-24T06:26:46.000Z","updated":"2019-04-24T06:39:47.675Z","comments":true,"path":"e95e.html","link":"","permalink":"https://leaderliang.coding.me/e95e.html","excerpt":"","text":"å°ç±³ Toast é—®é¢˜å°ç±³ é’æ˜¥8 æ‰‹æœºï¼Œæœ‰ä¸å°‘é€‚é…é—®é¢˜ï¼Œæœ€ä»¤äººä¸èˆ’æœçš„æ˜¯ Toast å†…å®¹å‰å¸¦åº”ç”¨åç§°ã€‚ ç½‘ä¸Šçš„æ–¹æ¡ˆç½‘ä¸Šçš„è§£å†³æ–¹æ³•å¾ˆå¤šï¼Œè¯¸å¦‚ä¸‹é¢è¿™ç§æ–¹å¼çš„å¾ˆå¤š: 12345678910private Toast toast;public void show(String text) &#123; if (toast == null) &#123; toast = Toast.makeText(this, null, Toast.LENGTH_SHORT); toast.setText(text); &#125; else &#123; toast.setText(text); &#125; toast.show();&#125; makeText() åç¬¬äºŒä¸ªå‚æ•°ä¸º null ï¼Œè‡ªæµ‹äº†ä¸‹ï¼Œç¡®å®æ˜¯æ²¡æœ‰äº†çƒ¦äººçš„åº”ç”¨åç§°ã€‚ ä½†æ˜¯å¦‚æœç•™å¿ƒçœ‹ log æ—¥å¿—çš„è¯ï¼Œä¼šæŠ¥è¿™æ ·ä¸€ä¸ªå¼‚å¸¸ï¼š 123456789101112131415161718192021W/System.err: java.lang.NullPointerException: Attempt to invoke interface method &apos;java.lang.String java.lang.CharSequence.toString()&apos; on a null object referenceW/System.err: at android.widget.ToastInjector.addAppName(ToastInjector.java:50)W/System.err: at android.widget.Toast.makeText(Toast.java:287)W/System.err: at android.widget.Toast.makeText(Toast.java:270)W/System.err: at com.android.rxjavaproject.MainActivity.show(MainActivity.java:105)W/System.err: at com.android.rxjavaproject.MainActivity.onCreate(MainActivity.java:98)W/System.err: at android.app.Activity.performCreate(Activity.java:7210)W/System.err: at android.app.Activity.performCreate(Activity.java:7201)W/System.err: at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)W/System.err: at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2926)W/System.err: at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)W/System.err: at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)W/System.err: at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)W/System.err: at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)W/System.err: at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)W/System.err: at android.os.Handler.dispatchMessage(Handler.java:106)W/System.err: at android.os.Looper.loop(Looper.java:201)W/System.err: at android.app.ActivityThread.main(ActivityThread.java:6806)W/System.err: at java.lang.reflect.Method.invoke(Native Method)W/System.err: at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)W/System.err: at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873) NullPointerException å¼‚å¸¸ï¼Œè¿™æ ·çš„é—®é¢˜æ˜¯å°ç±³æ‰‹æœºæ–°ç‰ˆæœ¬ç³»ç»Ÿï¼Œæ·±åº¦å®šåˆ¶å¯¼è‡´çš„ã€‚ ä¸ªäººçš„å¤„ç†æ–¹å¼æ˜¯è¿™æ ·çš„ï¼š 123456789public void show(String text) &#123; if (toast == null) &#123; toast = Toast.makeText(this, text, Toast.LENGTH_SHORT); toast.setText(text); &#125; else &#123; toast.setText(text); &#125; toast.show();&#125; makeText() text å‚æ•°æ­£å¸¸è®¾ç½®ï¼Œä¹‹åå†é‡æ–° set ä¸‹ï¼Œè¿™æ ·æ—¢ä¿è¯äº†å»æ‰åŒ…åï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å¼‚å¸¸ã€‚å¦å¤–æˆ‘ä»¬ä¹Ÿå¯ä»¥å°è¯•è‡ªå®šä¹‰ toast æ¥æ»¡è¶³ toast éœ€æ±‚ã€‚","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"XiaoMi","slug":"android/XiaoMi","permalink":"https://leaderliang.coding.me/categories/android/XiaoMi/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"XiaoMi","slug":"XiaoMi","permalink":"https://leaderliang.coding.me/tags/XiaoMi/"}]},{"title":"Android å¸¸è§é¢è¯•é—®é¢˜æ•´ç†","slug":"Android-å¸¸è§é¢è¯•é—®é¢˜æ•´ç†","date":"2019-04-10T13:25:29.000Z","updated":"2019-11-23T05:42:20.527Z","comments":true,"path":"242f.html","link":"","permalink":"https://leaderliang.coding.me/242f.html","excerpt":"å¯¹ Android é¢è¯•å¸¸è§é—®é¢˜ç‚¹è¿›è¡Œæ€»ç»“åˆ†æï¼Œæ–¹ä¾¿å¯¹ç¢ç‰‡çŸ¥è¯†è¿›è¡Œå›é¡¾","text":"å¯¹ Android é¢è¯•å¸¸è§é—®é¢˜ç‚¹è¿›è¡Œæ€»ç»“åˆ†æï¼Œæ–¹ä¾¿å¯¹ç¢ç‰‡çŸ¥è¯†è¿›è¡Œå›é¡¾ã€‚Android åŸºç¡€å¸¸è§é¢è¯•é—®é¢˜çš„æ•´ç†ï¼Œä¼šæŒç»­æ›´æ–°â€¦ Handlerè¯´ä¸‹ handler æœºåˆ¶ï¼ŒLooper é€šè¿‡ MessageQueue å–æ¶ˆæ¯ï¼Œæ¶ˆæ¯é˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºæ¨¡å¼ï¼Œé‚£æˆ‘å»¶è¿Ÿå‘ä¸¤ä¸ªæ¶ˆæ¯ï¼Œç¬¬ä¸€ä¸ªæ¶ˆæ¯å»¶è¿Ÿ 2 ä¸ªå°æ—¶ï¼Œç¬¬äºŒä¸ªæ¶ˆæ¯å»¶è¿Ÿ 1 ä¸ªå°æ—¶ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªæ¶ˆæ¯éœ€è¦ç­‰ 3 ä¸ªå°æ—¶æ‰èƒ½å–åˆ°å—ï¼Ÿ å‚è€ƒï¼šhttps://www.jianshu.com/p/558ed68d6888 MessageQueue çš„å®ç°ä¸æ˜¯é˜Ÿåˆ—ï¼Œä¸è¦è¢«åç§°è¿·æƒ‘ï¼Œä»–æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼›æ¯æ¬¡å‘é€æ¶ˆæ¯éƒ½ä¼šæŒ‰ç…§ delay å€¼ä»å°åˆ°å¤§è¿›è¡Œé‡æ’ï¼›æ‰€æœ‰çš„ delay æ¶ˆæ¯éƒ½æ˜¯å¹¶è¡Œçš„ï¼Œä¸æ˜¯ä¸²è¡Œçš„ï¼›ç¬¬ä¸€ä¸ªå»¶è¿Ÿ 2 ä¸ªå°æ—¶ï¼Œç¬¬äºŒä¸ªå»¶è¿Ÿ 1 å°æ—¶ï¼Œä¼šä¼˜å…ˆæ‰§è¡Œç¬¬äºŒä¸ªï¼Œå†è¿‡ 1 å°æ—¶æ‰§è¡Œç¬¬ä¸€ä¸ªã€‚ Android ä¸ºä»€ä¹ˆä¸èƒ½åœ¨å­çº¿ç¨‹æ›´æ–° UI ï¼Ÿè°·æ­Œæå‡ºï¼šâ€œä¸€å®šè¦åœ¨ä¸»çº¿ç¨‹æ›´æ–°UIâ€ï¼Œå®é™…æ˜¯ä¸ºäº†æé«˜ç•Œé¢çš„æ•ˆç‡å’Œå®‰å…¨æ€§ï¼Œå¸¦æ¥æ›´å¥½çš„æµç•…æ€§ï¼›åæ¨ä¸€ä¸‹ï¼Œå‡å¦‚å…è®¸å¤šçº¿ç¨‹æ›´æ–°UIï¼Œä½†æ˜¯è®¿é—® UI æ˜¯æ²¡æœ‰åŠ é”çš„ï¼Œä¸€æ—¦å¤šçº¿ç¨‹æŠ¢å äº†èµ„æºï¼Œé‚£ä¹ˆç•Œé¢å°†ä¼šä¹±å¥—æ›´æ–°äº†ï¼Œä½“éªŒæ•ˆæœå°±ä¸è¨€è€Œå–»äº†ï¼›UI æ§ä»¶æ˜¯éçº¿ç¨‹å®‰å…¨ï¼Œåœ¨å¤šçº¿ç¨‹ä¸­å¹¶å‘è®¿é—®å¯èƒ½ä¼šå¯¼è‡´UIæ§ä»¶å¤„äºä¸å¯é¢„æœŸçš„çŠ¶æ€ã€‚æ‰€ä»¥åœ¨Androidä¸­è§„å®šå¿…é¡»åœ¨ä¸»çº¿ç¨‹æ›´æ–°UIã€‚ ä¸å¯¹ UI æ§ä»¶çš„è®¿é—®åŠ ä¸Šé”æœºåˆ¶çš„åŸå› ï¼Ÿä¸Šé”ä¼šè®©UIæ§ä»¶å˜å¾—å¤æ‚å’Œä½æ•ˆï¼›ä¸Šé”åä¼šé˜»å¡æŸäº›è¿›ç¨‹çš„æ‰§è¡Œï¼› åœ¨ Activity çš„ onCreate é‡Œå¼€ä¸€ä¸ªå­çº¿ç¨‹æ›´æ–° UIï¼Œå¯ä»¥è¿è¡Œå—ï¼Ÿ1234567891011121314151617181920public class MainActivity extends Activity &#123; private TextView tvText; @Override public void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); tvText = (TextView) findViewById(R.id.main_tv); new Thread(new Runnable() &#123; @Override public void run() &#123; try &#123; Thread.sleep(200); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; tvText.setText(&quot;OtherThread&quot;); &#125; &#125;).start(); &#125; &#125; äº‹ä»¶ç»“æœæ˜¯å¯ä»¥è¿è¡Œã€‚ åŸå› å¦‚ä¸‹ 12345678910111213public final class ViewRootImpl implements ViewParent, View.AttachInfo.Callbacks, HardwareRenderer.HardwareDrawCallbacks &#123; // çœç•¥ä»£ç â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ void checkThread() &#123; if (mThread != Thread.currentThread()) &#123; throw new CalledFromWrongThreadException( &quot;Only the original thread that created a view hierarchy can touch its views.&quot;); &#125; &#125; // çœç•¥ä»£ç â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ &#125; ViewRootImpl å¯¹è±¡æ˜¯åœ¨ onResume æ–¹æ³•å›è°ƒä¹‹åæ‰åˆ›å»ºï¼Œé‚£ä¹ˆå°±è¯´æ˜äº†ä¸ºä»€ä¹ˆåœ¨ç”Ÿå‘½å‘¨æœŸçš„ onCreate() æ–¹æ³•é‡Œï¼Œç”šè‡³æ˜¯ onResume() æ–¹æ³•é‡Œéƒ½å¯ä»¥å®ç°å­çº¿ç¨‹æ›´æ–° UIï¼Œå› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰åˆ›å»º ViewRootImpl å¯¹è±¡ï¼Œå¹¶ä¸ä¼šè¿›è¡Œæ˜¯å¦ä¸ºä¸»çº¿ç¨‹çš„åˆ¤æ–­, ä¹Ÿå°±æ˜¯ ViewRootImpl çš„ checkThread() ä¼šæ£€æŸ¥ï¼Œè€Œ ViewRootImpl æ˜¯åœ¨ onResume() æ–¹æ³•é‡Œåˆ›å»ºã€‚onCreate() é‡Œè¿˜æ²¡æœ‰åˆ›å»º ViewRootImplï¼Œæ‰€ä»¥ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ å¦‚æœè€—æ—¶çš„è¯ï¼Œæ‰ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¯ä»¥å°è¯•è®©çº¿ç¨‹ä¼‘çœ  100ms or 1000msã€‚","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"é¢è¯•","slug":"interview","permalink":"https://leaderliang.coding.me/categories/interview/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"é¢è¯•","slug":"interview","permalink":"https://leaderliang.coding.me/tags/interview/"}]},{"title":"Fragment ç”Ÿå‘½å‘¨æœŸæµ…æåŠå¸¸è§é—®é¢˜æ•´ç†","slug":"Fragment-ç”Ÿå‘½å‘¨æœŸæ€»ç»“-ä»¥åŠå¸¸è§é—®é¢˜æ•´ç†","date":"2019-04-02T09:17:23.000Z","updated":"2019-04-02T15:59:01.715Z","comments":true,"path":"4492.html","link":"","permalink":"https://leaderliang.coding.me/4492.html","excerpt":"å¹³æ—¶é¡¹ç›®ä¸­å°‘ä¸äº† Fragment çš„ä½¿ç”¨ï¼Œä¹Ÿä¼šé‡åˆ°ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ï¼Œä»Šå¤©æŠ½æ—¶é—´å¯¹ Fragment çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¥‡è‘©é—®é¢˜è¿›è¡Œä¸€ä¸ªç¨å¾®å…¨é¢çš„æ€»ç»“","text":"å¹³æ—¶é¡¹ç›®ä¸­å°‘ä¸äº† Fragment çš„ä½¿ç”¨ï¼Œä¹Ÿä¼šé‡åˆ°ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ï¼Œä»Šå¤©æŠ½æ—¶é—´å¯¹ Fragment çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¥‡è‘©é—®é¢˜è¿›è¡Œä¸€ä¸ªç¨å¾®å…¨é¢çš„æ€»ç»“ ã€‚å®˜æ–¹æŒ‡å— Fragment å„ä¸ªç”Ÿå‘½å‘¨æœŸä½œç”¨å’Œæ‹“å±•Fragment å„ä¸ªç”Ÿå‘½å‘¨æœŸä»‹ç»å…ˆä¸Šä¸¤å¼ å®˜æ–¹å›¾ï¼Œå·¦ä¾§ Activity å’Œ Fragment ç”Ÿå‘½å‘¨æœŸå¯¹æ¯”ï¼Œå³ä¾§æ˜¯ Fragment ç”Ÿå‘½å‘¨æœŸã€‚ onAttach()æ‰§è¡Œè¯¥æ–¹æ³•æ—¶ï¼ŒFragment ä¸ Activity å·²ç»å®Œæˆç»‘å®šï¼ŒonAttach (Activity activity) è¯¥æ–¹æ³•æœ‰ä¸€ä¸ª Activity ç±»å‹çš„å‚æ•°ï¼Œä»£è¡¨ç»‘å®šçš„ Activityï¼Œè¿™æ—¶å€™ä½ å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œ mActivity = activity èµ‹å€¼æ“ä½œã€‚ æ‹“å±•ï¼šFragment å…³è”åˆ° Activity æ—¶çš„å›è°ƒï¼Œæ­¤æ—¶ Activity å·²ç»ä¸ Fragment å…³è”ï¼Œé€šè¿‡ Context å‘ä¸‹è½¬å‹ï¼Œå°±å¯ä»¥ä¸ Activity é€šä¿¡å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ getActivity(),å‰ææ˜¯è¿™ä¸ª fragment å·²ç»å’Œå®¿ä¸»çš„ activity å…³è”ï¼Œå¹¶ä¸”æ²¡æœ‰è„±ç¦»ã€‚onAttach åªè°ƒç”¨ä¸€æ¬¡ã€‚ onCreate()åˆå§‹åŒ–Fragmentã€‚å¯é€šè¿‡å‚æ•° savedInstanceState è·å–ä¹‹å‰ä¿å­˜çš„å€¼ã€‚ æ‹“å±•ï¼šç³»ç»Ÿåˆ›å»º Fragment çš„æ—¶å€™å›è°ƒï¼Œä»‹äº onAttach() å’Œ onCreateView() ä¹‹é—´ï¼Œä¸€èˆ¬ç”¨äºåˆå§‹åŒ–ä¸€äº›æ•°æ®ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ—¶ Activity è¿˜åœ¨åˆ›å»ºä¸­ï¼Œå› æ­¤ä¸èƒ½åœ¨æ‰§è¡Œä¸€äº›è·Ÿ Activity UI ç›¸å…³çš„æ“ä½œï¼Œå¦åˆ™ä¼šå‡ºç°ä¸€äº›éš¾ä»¥é¢„æ–™çš„é—®é¢˜ï¼Œå¦‚NullPointException å¦‚æœè¦å¯¹ Activity ä¸Šçš„ UI è¿›è¡Œæ“ä½œï¼Œå¯åœ¨ onActivityCreated() ä¸­æ“ä½œã€‚ onCreateView()åˆå§‹åŒ– Fragment çš„å¸ƒå±€ã€‚åŠ è½½å¸ƒå±€å’Œ findViewById çš„æ“ä½œé€šå¸¸åœ¨æ­¤å‡½æ•°å†…å®Œæˆï¼Œä½†æ˜¯ä¸å»ºè®®æ‰§è¡Œè€—æ—¶çš„æ“ä½œï¼Œæ¯”å¦‚è¯»å–æ•°æ®åº“æ•°æ®åˆ—è¡¨ã€‚ æ‹“å±•ï¼šåˆ›å»º Fragment éœ€è¦æ˜¾ç¤ºçš„ Viewï¼Œé»˜è®¤è¿”å› nullã€‚å½“è¿”å›çš„ View ä¸ä¸º null æ—¶ï¼ŒView è¢«é”€æ¯æ—¶ä¼šè°ƒç”¨onDestroyView()ï¼Œæ­¤å¤„åº”è¯¥åªè¿›è¡Œå¸ƒå±€çš„åˆå§‹åŒ–ï¼Œè€Œä¸åº”è¯¥æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œå¦‚ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“è¯»å–ç­‰ã€‚å¦å¤–æœ‰æ—¶å€™ onCreateView ä¼šè¢«å¤šæ¬¡è°ƒç”¨, å¯ä»¥æŠŠåˆå§‹åŒ–å¸ƒå±€ã€view çš„è¿‡ç¨‹æ”¾åœ¨ onCreate ä¸­ï¼ŒonCreateView ä¸­ç›´æ¥ return View å¯¹è±¡å³å¯ã€‚ onActivityCreated()æ‰§è¡Œè¯¥æ–¹æ³•æ—¶ï¼Œä¸ Fragment ç»‘å®šçš„ Activity çš„ onCreate æ–¹æ³•å·²ç»æ‰§è¡Œå®Œæˆå¹¶è¿”å›ï¼Œåœ¨è¯¥æ–¹æ³•å†…å¯ä»¥è¿›è¡Œä¸ Activity äº¤äº’çš„ UI æ“ä½œï¼Œæ‰€ä»¥åœ¨è¯¥æ–¹æ³•ä¹‹å‰ Activity çš„ onCreate æ–¹æ³•å¹¶æœªæ‰§è¡Œå®Œæˆï¼Œå¦‚æœæå‰è¿›è¡Œäº¤äº’æ“ä½œï¼Œä¼šå¼•å‘ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚ æ‹“å±•ï¼šå½“ Activity æ‰§è¡Œå®Œ onCreate() æ–¹æ³•åä¼šè¢«è°ƒç”¨ï¼Œæ­¤æ—¶å¯ä»¥æ‰§è¡Œä¸ Activity ç›¸å…³çš„ UI æ“ä½œ onSaveInstanceState()ä¿å­˜å½“å‰Fragmentçš„çŠ¶æ€ã€‚è¯¥æ–¹æ³•ä¼šè‡ªåŠ¨ä¿å­˜Fragmentçš„çŠ¶æ€ï¼Œæ¯”å¦‚EditTexté”®å…¥çš„æ–‡æœ¬ï¼Œå³ä½¿Fragmentè¢«å›æ”¶åˆé‡æ–°åˆ›å»ºï¼Œä¸€æ ·èƒ½æ¢å¤EditTextä¹‹å‰é”®å…¥çš„æ–‡æœ¬ã€‚ ###### ----------------------------- ä»¥ä¸‹å‡ ä¸ªè·Ÿ Activity ä¸­å¯¹åº”æ–¹æ³•ç±»ä¼¼ start ---------------------------- onStart()æ‰§è¡Œè¯¥æ–¹æ³•æ—¶ï¼ŒFragment ç”±ä¸å¯è§å˜ä¸ºå¯è§çŠ¶æ€ã€‚ onResume()æ‰§è¡Œè¯¥æ–¹æ³•æ—¶ï¼ŒFragment å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œç”¨æˆ·å¯ä¸ä¹‹äº¤äº’ã€‚ onPause()æ‰§è¡Œè¯¥æ–¹æ³•æ—¶ï¼ŒFragment å¤„äºæš‚åœçŠ¶æ€ï¼Œä½†ä¾ç„¶å¯è§ï¼Œç”¨æˆ·ä¸èƒ½ä¸ä¹‹äº¤äº’ã€‚ onStop()æ‰§è¡Œè¯¥æ–¹æ³•æ—¶ï¼ŒFragment å®Œå…¨ä¸å¯è§ã€‚ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ ä»¥ä¸Šå‡ ä¸ªè·Ÿ Activity ä¸­å¯¹åº”æ–¹æ³•ç±»ä¼¼ end â€”â€”â€”â€”â€”â€”â€”â€”â€”- onDestroyView()é”€æ¯ä¸ Fragment æœ‰å…³çš„è§†å›¾ï¼Œä½†æœªä¸ Activity è§£é™¤ç»‘å®šï¼Œä¾ç„¶å¯ä»¥é€šè¿‡ onCreateView æ–¹æ³•é‡æ–°åˆ›å»ºè§†å›¾ã€‚é€šå¸¸åœ¨ViewPager + Fragment ç»“åˆä½¿ç”¨æ—¶ä¼šè°ƒç”¨æ­¤æ–¹æ³•ã€‚ æ‹“å±•ï¼šè¡¨ç¤ºé”€æ¯ Fragment ç›¸å…³è”çš„ UI å¸ƒå±€ï¼Œæ¸…é™¤æ‰€æœ‰è·Ÿè§†å›¾ç›¸å…³çš„èµ„æºã€‚ä¸ä¸€å®šåœ¨ Activity çš„ onDestroy() æ–¹æ³•ä¸­è°ƒç”¨ã€‚ onDestroy()é”€æ¯ Fragmentã€‚é€šå¸¸æŒ‰ Back é”®é€€å‡ºæˆ–è€… Fragment è¢«å›æ”¶æ—¶è°ƒç”¨æ­¤æ–¹æ³•ã€‚ æ‹“å±•ï¼šé”€æ¯ Fragment å¯¹è±¡çš„æ—¶å€™è°ƒç”¨ï¼Œä¸€èˆ¬æ˜¯è°ƒç”¨ Activity çš„ onDestroy() çš„æ—¶å€™æ‰§è¡Œã€‚ onDetach()è§£é™¤ä¸ Activity çš„ç»‘å®šï¼ˆè§£é™¤ Fragment ä¸ Activity çš„å…³è”ï¼‰ã€‚åœ¨ onDestroy æ–¹æ³•ä¹‹åè°ƒç”¨ã€‚ setUserVisibleHint()è®¾ç½®Fragmentå¯è§æˆ–è€…ä¸å¯è§æ—¶ä¼šè°ƒç”¨æ­¤æ–¹æ³•ã€‚åœ¨è¯¥æ–¹æ³•é‡Œé¢å¯ä»¥é€šè¿‡è°ƒç”¨ getUserVisibleHint() è·å¾— Fragment çš„çŠ¶æ€æ˜¯å¯è§è¿˜æ˜¯ä¸å¯è§çš„ï¼Œå¦‚æœå¯è§åˆ™è¿›è¡Œæ‡’åŠ è½½æ“ä½œã€‚ æ‹“å±•ï¼šå½“ Fragment ä¸ ViewPager ç»“åˆä½¿ç”¨æ—¶ï¼Œåˆ‡æ¢ Pager æ—¶å›è°ƒæ–¹æ³•ã€‚ ### ViewPager åˆ‡æ¢ Fragment ç›¸å…³ç”Ÿå‘½å‘¨æœŸ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283// Fragment åˆå§‹åŒ–åˆ›å»º04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: setUserVisibleHint04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onAttach04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onCreate04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onCreateView04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onActivityCreated04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onStart04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onResume// Fragmentå˜ä¸ºä¸å¯è§çŠ¶æ€// å±å¹•é”å±ã€å›åˆ°æ¡Œé¢ã€è¢«Activityå®Œå…¨è¦†ç›– ç»å†ä¸€æ ·çš„ç”Ÿå‘½å‘¨æœŸ04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onPause04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onSaveInstanceState04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onStop// å±å¹•è§£é”04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onStart04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onResume// åˆ‡æ¢åˆ°å…¶ä»– Fragment04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onPause04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onStop04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onDestroyView// åˆ‡æ¢å›æœ¬èº«çš„ Fragment04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onCreateView04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onActivityCreated04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onStart04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onResume// å›åˆ°åº”ç”¨04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onStart04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onResume// Fragment é€€å‡ºï¼ˆæ³¨æ„é€€å‡ºä¸ä¼šè°ƒç”¨onSaveInstanceStateæ–¹æ³•ï¼Œå› ä¸ºæ˜¯äººä¸ºé€€å‡ºï¼Œæ²¡æœ‰å¿…è¦å†ä¿å­˜æ•°æ®ï¼‰04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onPause04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onStop04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onDestroyView04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onDestroy04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onDetach// Fragmentå˜ä¸ºéƒ¨åˆ†å¯è§çŠ¶æ€ï¼ˆæ‰“å¼€Dialogæ ·å¼çš„Activityï¼‰04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onPause04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onSaveInstanceState// Fragment ç”±ä¸å¯è§å˜ä¸ºæ´»åŠ¨çŠ¶æ€04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onStart04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onResume// Fragmentç”±éƒ¨åˆ†å¯è§å˜ä¸ºæ´»åŠ¨çŠ¶æ€04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onResume// Fragment è¢«å›æ”¶åˆé‡æ–°åˆ›å»º// è¢«å›æ”¶æ‰§è¡Œ04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onPause04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onSaveInstanceState04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onStop04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onDestroyView04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onDestroy04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onDetach// é‡æ–°åˆ›å»ºæ‰§è¡Œ04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onAttach04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onCreate04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onCreateView04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onActivityCreated04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onStart04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: onResume04-02 21:24:48.240 2049-2448/? I/Fragment Lifecycle: setUserVisibleHint// æ¨ªç«–å±åˆ‡æ¢ï¼šä¸Fragmentè¢«å›æ”¶åˆé‡æ–°åˆ›å»ºä¸€æ ·ã€‚ ### **è¡¥å……** onAttach() å’Œ onCreate() åªåœ¨ Fragment ä¸ Activity ç¬¬ä¸€æ¬¡å…³è”æ—¶è°ƒç”¨ã€‚ onDestroy() å’Œ onDetach() åªåœ¨ Fragment çš„å®¿ä¸» Activity é”€æ¯æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚ æ ¹æ®å‰ 2 ç‚¹ï¼Œå°† Fragment é€šè¿‡ addToBackStack() åªæ¶‰åŠ onCreateView() å’Œ onDestroyView() è¿™ä¹‹é—´çš„ç”Ÿå‘½å‘¨æœŸã€‚add() å’Œ replace() ä¸ä¼šå¯¹ Fragment çš„ç”Ÿå‘½å‘¨æœŸäº§ç”Ÿå½±å“ï¼Œä½† add() æ–¹æ³•ä¼šé€ æˆ Fragment å åŠ æ˜¾ç¤ºã€‚ Fragment ä¸ ViewPager ç»“åˆä½¿ç”¨æ—¶çš„ç”Ÿå‘½å‘¨æœŸä¸ç¬¬ 3 ç‚¹ç›¸ä¼¼ã€‚ é€šè¿‡ hide() ã€show() æ¥éšè—ã€æ˜¾ç¤ºFragmentï¼Œæ­¤æ—¶ Fragment åªæ”¹å˜äº†å¯è§æ€§ï¼Œå¹¶ä¸æ¶‰åŠç”Ÿå‘½å‘¨æœŸçš„æ”¹å˜ã€‚ ä¸è¦åœ¨ Fragment çš„ onCreate() æ–¹æ³•ä¸­æ“ä½œå®¿ä¸» Activity çš„ UIã€‚å› ä¸ºæ— æ³•ä¿è¯æ­¤æ—¶å®¿ä¸» Activity çš„ UI å·²ç»å®Œå…¨åˆå§‹åŒ–ï¼ŒæŸäº›æƒ…å†µä¸‹ä¹Ÿæ˜¯å¯ä»¥ç¡®ä¿å®¿ä¸» Activity å·²ç»åˆå§‹åŒ–å®Œæˆçš„ã€‚ onViewCreated() è¯¥æ–¹æ³•åœ¨ onCreateView() ä¹‹åä¼šè¢«ç«‹å³æ‰§è¡Œï¼Œæ­¤æ—¶å¯ä»¥å¯¹ View å¯¹è±¡è¿›è¡Œèµ‹å€¼ï¼ŒonCreateView æ˜¯åˆ›å»ºçš„æ—¶å€™è°ƒç”¨ï¼ŒonViewCreated æ˜¯åœ¨ onCreateView åè¢«è§¦å‘çš„äº‹ä»¶ï¼Œå‰åå…³ç³»ã€‚ Fragment ä¸­æœ‰å‡ ä¸ªæ¯”è¾ƒç›¸ä¼¼çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³• onCreateã€onCreatViewã€onViewCreatedï¼Œéœ€è¦ä»”ç»†åŒºåˆ†ä¸€ä¸‹ã€‚ 12345678/** * Called immediately after onCreateView(android.view.LayoutInflater, android.view.ViewGroup, * android.os.Bundle) has returned, but before any saved state has been restored in to the view. * This gives subclasses a chance to initialize themselves once they know their view hierarchy has * been completely created. The fragment&apos;s view hierarchy is not however attached to its parent at * this point. */void onViewCreated(View view, Bundle savedInstanceState) å®˜æ–¹çš„ä¸€æ®µä»‹ç»ï¼Œ onCreateView æ˜¯åˆ›å»ºçš„æ—¶å€™è°ƒç”¨ï¼ŒonViewCreated ä¼šåœ¨ onCreateView è¢«è§¦å‘åè°ƒç”¨ï¼Œå‰åå…³ç³»ï¼›ä¹Ÿæ˜¯ fragment ä¸­çš„ onCreateView å’Œ onViewCreated çš„åŒºåˆ«å’Œè”ç³»ã€‚å¦å¤– onStart è¿è¡Œæ—¶é—´ä½äº onViewCreated ä¹‹åã€‚ Fragment ç›¸å…³å¥‡è‘©é—®é¢˜æ•´ç†onCreateViewï¼ˆï¼‰è°ƒç”¨å¤šæ¬¡ï¼Ÿé‡åˆ°åœ¨æ»‘åŠ¨ Fragment çš„è¿‡ç¨‹ä¸­ä¸æ–­é‡å¤è°ƒç”¨ onCreateView çš„é—®é¢˜ï¼Œå¯¼è‡´æ§ä»¶ä¸æ–­åˆå§‹åŒ–ï¼Œå½±å“ç¨‹åºçš„æ•´ä½“é€»è¾‘ã€‚å¯ä»¥å°è¯•æŠŠåˆå§‹åŒ–æ“ä½œå†™åœ¨ OnCreate() ä¸­ï¼Œæ˜¯ä¸ºäº†æ§ä»¶åªåˆå§‹åŒ–ä¸€æ¬¡ã€‚oncreateView ä¼šè¢«å¤šæ¬¡æ‰§è¡Œã€‚ å¦ä¸€ç§æ–¹æ¡ˆï¼š private View mView; @Override public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) { if (null != mView){ ViewGroup parent = (ViewGroup) mView.getParent(); if (null != parent) { parent.removeView(mView); } }else { mView = inflater.inflate(R.layout.main_layout, container, false); // åˆå§‹åŒ– Viewï¼Œ findViewById(); } return mView; }setUserVisibleHint() ä¸è¢«è°ƒç”¨ï¼Ÿé€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯å› ä¸ºç»§æ‰¿çš„æ˜¯ PagerAdapter è€Œä¸æ˜¯ FragmentPagerAdapter é€ æˆçš„ï¼ŒFragmentPagerAdapter å†…éƒ¨å®ç°äº†å¯¹setUserVisibleHint()æ–¹æ³•çš„è°ƒç”¨ï¼Œæ‰€ä»¥éœ€è¦æ‡’åŠ è½½çš„ç»“æ„æœ€å¥½ä½¿ç”¨ FragmentPagerAdapter + Fragment çš„ç»“æ„ï¼Œå°‘ç”¨PagerAdapterã€‚ FragmentStatePagerAdapter å’Œ FragmentPagerAdapter åŒºåˆ«ï¼ŸFragmentPagerAdapter æ˜¯å¦ä¸€ç§å¯ç”¨çš„ PagerAdapterï¼Œå…¶ç”¨æ³•å’Œ FragmentStatePagerAdapter åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯åœ¨å¸è½½ä¸éœ€è¦çš„ fragment æ—¶ï¼Œå„è‡ªé‡‡ç”¨çš„å¤„ç†æ–¹æ³•ä¸åŒã€‚ FragmentStatePagerAdapter ä¼šé”€æ¯ä¸éœ€è¦çš„ fragmentï¼Œè€Œ FragmentPagerAdapter æ˜¯è°ƒç”¨ detach(Fragment) æ–¹æ³•æ¥å¤„ç†å®ƒï¼Œåªæ˜¯é”€æ¯äº† fragment çš„è§†å›¾ï¼Œè€Œ fragment çš„å®ä¾‹ç”± FragmentManager ç»´æŠ¤ï¼Œå› æ­¤ï¼ŒFragmentPagerAdapter åˆ›å»ºçš„ fragment æ°¸è¿œä¸ä¼šè¢«é”€æ¯ã€‚ æ‰€ä»¥å½“æ•°æ®é‡å¤§æ—¶ï¼Œå¯ä»¥é€‰æ‹© FragmentStatePagerAdapterï¼Œç”¨æˆ·ç•Œé¢åªæœ‰å°‘é‡å›ºå®šçš„ fragment æ—¶ï¼Œå¯ä»¥é€‰æ‹© FragmentPagerAdapterã€‚ FragmentPagerAdapter+ViewPager çš„æ³¨æ„äº‹é¡¹ ?ä½¿ç”¨ FragmentPagerAdapter + ViewPager æ—¶ï¼Œåˆ‡æ¢å›ä¸Šä¸€ä¸ª Fragment é¡µé¢æ—¶ï¼ˆå·²ç»åˆå§‹åŒ–å®Œæ¯•ï¼‰ï¼Œä¸ä¼šå›è°ƒä»»ä½•ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä»¥åŠonHiddenChanged()ï¼Œåªæœ‰ setUserVisibleHint(boolean isVisibleToUser)ä¼šè¢«å›è°ƒï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³è¿›è¡Œä¸€äº›æ‡’åŠ è½½ï¼Œéœ€è¦åœ¨è¿™é‡Œå¤„ç†ã€‚ åœ¨ç»™ViewPagerç»‘å®šFragmentPagerAdapteræ—¶ï¼Œnew FragmentPagerAdapter(fragmentManager)çš„FragmentManagerï¼Œä¸€å®šè¦ä¿è¯æ­£ç¡®ï¼Œå¦‚æœViewPageræ˜¯Activityå†…çš„æ§ä»¶ï¼Œåˆ™ä¼ é€’getSupportFragmentManager()ï¼Œå¦‚æœæ˜¯Fragmentçš„æ§ä»¶ä¸­ï¼Œåˆ™åº”è¯¥ä¼ é€’getChildFragmentManager()ã€‚åªè¦è®°ä½ViewPagerå†…çš„Fragmentsæ˜¯å½“å‰ç»„ä»¶çš„å­Fragmentè¿™ä¸ªåŸåˆ™å³å¯ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘åœ¨â€œå†…å­˜é‡å¯â€çš„æƒ…å†µä¸‹ï¼Œå»æ¢å¤çš„Fragmentsçš„é—®é¢˜ï¼Œå› ä¸ºFragmentPagerAdapterå·²ç»å¸®æˆ‘ä»¬å¤„ç†å•¦ã€‚ æœªå®Œå¾…æ›´æ–°â€¦æœªå®Œå¾…æ›´æ–°â€¦","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"Fragment","slug":"fragment","permalink":"https://leaderliang.coding.me/tags/fragment/"}]},{"title":"Design Patterns in Android","slug":"Design-Patterns-in-Android","date":"2019-03-23T14:51:06.000Z","updated":"2019-12-19T02:40:45.303Z","comments":true,"path":"ebf2.html","link":"","permalink":"https://leaderliang.coding.me/ebf2.html","excerpt":"å¯¹æ—¥å¸¸åœ¨ Android ä¸­å®ç”¨è®¾è®¡æ¨¡å¼è¿›è¡Œä¸€ä¸‹æ¢³ç†å’Œæ€»ç»“","text":"å¯¹æ—¥å¸¸åœ¨ Android ä¸­å®ç”¨è®¾è®¡æ¨¡å¼è¿›è¡Œä¸€ä¸‹æ¢³ç†å’Œæ€»ç»“ï¼Œæ–‡ä¸­å‚è€ƒäº†ä¸€äº›ç½‘ç«™å’Œå¤§ä½¬çš„åšå®¢ï¼Œå¦‚ MichaelXï¼ˆxiong_itï¼‰ ã€èœé¸Ÿæ•™ç¨‹ã€å››æœˆè‘¡è„ã€IAMå››åäºŒç­‰ï¼Œåœ¨è¿™é‡Œæ³¨æ˜ä¸‹~å¦å¤–å¼ºçƒˆæ¨èå›¾è¯´è®¾è®¡æ¨¡å¼ï¼Œçœ‹äº†ä¸€éƒ¨åˆ†ï¼Œæœ‰äº›ä»‹ç»çš„è¿˜æ˜¯å¾ˆé€šä¿—æ˜“æ‡‚çš„ã€‚ è®¾è®¡æ¨¡å¼ï¼ˆæŒç»­æ›´æ–°ingâ€¦ï¼‰å•ä¾‹æ¨¡å¼ (Singleton pattern)ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”è‡ªè¡Œå®ä¾‹åŒ–å¹¶å‘æ•´ä¸ªç³»ç»Ÿæä¾›è¿™ä¸ªå®ä¾‹(å¹¶æä¾›å¯¹è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®) é¥¿æ±‰å¼ã€æ‡’æ±‰å¼åè¯è§£é‡Šï¼šé¥¿æ±‰å¼ï¼šä¸ç®¡ç¨‹åºæ˜¯å¦éœ€è¦è¿™ä¸ªå¯¹è±¡çš„å®ä¾‹ï¼Œæ€»æ˜¯åœ¨ç±»åŠ è½½çš„æ—¶å€™å°±å…ˆåˆ›å»ºå¥½å®ä¾‹ï¼Œç†è§£èµ·æ¥å°±åƒä¸ç®¡ä¸€ä¸ªäººæƒ³ä¸æƒ³åƒä¸œè¥¿éƒ½æŠŠåƒçš„å…ˆä¹°å¥½ï¼Œå¦‚åŒé¥¿æ€•äº†ä¸€æ ·ã€‚ 1234567891011121314/** * é¥¿æ±‰å¼ */public class Singleton &#123; private static Singleton instance = new Singleton(); private Singleton() &#123; &#125; public static Singleton getInstance() &#123; return instance; &#125;&#125; ä¼˜ç‚¹ï¼šå†™æ³•ç®€å•ï¼Œçº¿ç¨‹å®‰å…¨ã€‚ ç¼ºç‚¹ï¼šæ²¡æœ‰æ‡’åŠ è½½çš„æ•ˆæœï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨è¿‡çš„è¯ä¼šé€ æˆå†…å­˜æµªè´¹ æ‡’æ±‰å¼ï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡ä½¿ç”¨é¢‘ç‡ä¸é«˜ï¼Œå ç”¨å†…å­˜è¿˜ç‰¹åˆ«å¤§ï¼Œæ˜æ˜¾å°±ä¸åˆé€‚ç”¨é¥¿æ±‰å¼äº†ï¼Œè¿™æ—¶å°±éœ€è¦ä¸€ç§æ‡’åŠ è½½çš„æ€æƒ³ï¼Œå½“ç¨‹åºéœ€è¦è¿™ä¸ªå®ä¾‹çš„æ—¶å€™æ‰å»åˆ›å»ºå¯¹è±¡ï¼Œå°±å¦‚åŒä¸€ä¸ªäººæ‡’çš„é¥¿åˆ°ä¸è¡Œäº†æ‰å»åƒä¸œè¥¿ã€‚ 12345678910111213141516171819202122232425262728/** * æ‡’æ±‰å¼ */public class Singleton &#123; /** * volatile å…³é”®å­—ä¿®é¥°çš„å˜é‡ï¼Œä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ“ä½œè¯¥å˜é‡ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ * volatile èƒ½å¤Ÿé˜²æ­¢ä»£ç çš„é‡æ’åºï¼Œä¿è¯å¾—åˆ°çš„å¯¹è±¡æ˜¯åˆå§‹åŒ–è¿‡ */ private volatile static Singleton mSingleton; private Singleton ()&#123; &#125; /** * åŒé‡æ ¡éªŒé”æ¨¡å¼ */ public static Singleton getSingleton() &#123; if (mSingleton == null) &#123; // ç¬¬ä¸€æ¬¡æ£€æŸ¥ï¼Œé¿å…ä¸å¿…è¦çš„åŒæ­¥ synchronized (Singleton.class) &#123; // åŒæ­¥ if (mSingleton == null) &#123; // ç¬¬äºŒæ¬¡æ£€æŸ¥ï¼Œä¸ºnullæ—¶æ‰åˆ›å»ºå®ä¾‹ mSingleton = new Singleton(); &#125; &#125; &#125; return mSingleton; &#125; &#125; ä¼˜ç‚¹ï¼šæ‡’åŠ è½½ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡è¾ƒé«˜ ç¼ºç‚¹ï¼švolatile å½±å“ä¸€ç‚¹æ€§èƒ½ï¼Œé«˜å¹¶å‘ä¸‹æœ‰ä¸€å®šçš„ç¼ºé™·ï¼ŒæŸäº›æƒ…å†µä¸‹ DCL ä¼šå¤±æ•ˆï¼Œè™½ç„¶æ¦‚ç‡è¾ƒå° volatile å…³é”®å­—ä¿®é¥°çš„å˜é‡ï¼Œä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ“ä½œè¯¥å˜é‡ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚ ä¸ºä»€ä¹ˆè¦åœ¨å˜é‡ singleton åŠ ä¸Š volatile å…³é”®å­—ï¼Ÿè¦ç†è§£è¿™ä¸ªé—®é¢˜ï¼Œå…ˆè¦äº†è§£å¯¹è±¡çš„æ„é€ è¿‡ç¨‹ï¼Œå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡å…¶å®å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š åˆ†é…å†…å­˜ç©ºé—´ åˆå§‹åŒ–å¯¹è±¡ å°†å†…å­˜ç©ºé—´çš„åœ°å€èµ‹å€¼ç»™å¯¹åº”çš„å¼•ç”¨ ä½†æ˜¯ç”±äºæ“ä½œç³»ç»Ÿå¯ä»¥å¯¹æŒ‡ä»¤è¿›è¡Œé‡æ’åºï¼Œæ‰€ä»¥ä¸Šé¢çš„è¿‡ç¨‹ä¹Ÿå¯èƒ½ä¼šå˜æˆå¦‚ä¸‹è¿‡ç¨‹ï¼š åˆ†é…å†…å­˜ç©ºé—´ å°†å†…å­˜ç©ºé—´çš„åœ°å€èµ‹å€¼ç»™å¯¹åº”çš„å¼•ç”¨ åˆå§‹åŒ–å¯¹è±¡ å¦‚æœæ˜¯è¿™ä¸ªæµç¨‹ï¼Œå¤šçº¿ç¨‹ç¯å¢ƒä¸‹å°±å¯èƒ½å°†ä¸€ä¸ªæœªåˆå§‹åŒ–çš„å¯¹è±¡å¼•ç”¨æš´éœ²å‡ºæ¥ï¼Œä»è€Œå¯¼è‡´ä¸å¯é¢„æ–™çš„ç»“æœã€‚å› æ­¤ï¼Œä¸ºäº†é˜²æ­¢è¿™ä¸ªè¿‡ç¨‹çš„é‡æ’åºï¼Œæˆ‘ä»¬éœ€è¦å°†å˜é‡è®¾ç½®ä¸ºvolatileç±»å‹çš„å˜é‡ã€‚ åŒé‡æ ¡éªŒé”ä¸­ä¸¤ä¸ª if åˆ¤æ–­çš„ä½œç”¨ï¼Ÿç¬¬ä¸€ï¼šæ˜¯ä¸ºäº†æé«˜ç¨‹åºçš„ æ•ˆç‡ï¼Œå½“ Singleton å¯¹è±¡è¢«åˆ›å»ºä»¥åï¼Œå†è·å– Singleton å¯¹è±¡æ—¶å°± ä¸ç”¨å»éªŒè¯åŒæ­¥ä»£ç å—çš„é”åŠåé¢çš„ä»£ç ï¼Œç›´æ¥è¿”å›Singleton å¯¹è±¡ã€‚ç¬¬äºŒï¼šæ˜¯ä¸ºäº†è§£å†³å¤šçº¿ç¨‹ä¸‹çš„å®‰å…¨æ€§é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ä¿è¯å¯¹è±¡çš„å”¯ä¸€ã€‚å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ª if åˆ¤æ–­ï¼ŒAã€Bä¸¤ä¸ªçº¿ç¨‹ï¼ŒA å…ˆæ‰§è¡Œï¼Œ çº¿ç¨‹ B å†è¿›å…¥ synchronized (instance)å—ï¼Œä¸ç”¨å»éªŒè¯instance æ˜¯å¦ä¸º nullï¼Œå°±ä¼šç›´æ¥åˆ›å»ºä¸€ä¸ª Singleton æ–°å¯¹è±¡ï¼Œè¿™æ ·æ•´ä¸ªç¨‹åºè¿è¡Œä¸‹æ¥å°±æœ‰å¯èƒ½åˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚ æ³¨æ„ï¼šå¦‚æœå¤„äºå¤šçº¿ç¨‹ç¯å¢ƒï¼Œæ³¨æ„ä¿æŒçº¿ç¨‹å®‰å…¨ï¼Œä¸ç„¶å°±æ— æ³•ä¿è¯å•ä¾‹äº†ï¼›å•ä¾‹æ¨¡å¼çš„é»˜è®¤æ„é€ æ–¹æ³•çš„ä¿®é¥°ç¬¦éœ€æ”¹ä¸º privateï¼Œåªèƒ½ç±»å†…éƒ¨è®¿é—®ï¼Œç¡®ä¿å¤–éƒ¨ä¸èƒ½ç›´æ¥ new å‡ºè¯¥å®ä¾‹ï¼›å•ä¾‹æ¨¡å¼éœ€è¦æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®å…¥å£ï¼Œè¿™ä¸ªå…¥å£é€šå¸¸ä»¥ getInstance() çš„ public é™æ€æ–¹æ³•å½¢å¼å‘ˆç°ã€‚ ç®€å•å·¥å‚æ¨¡å¼ (Simple Factory Pattern ) æ›´å¤šè¯¦ç»†ä»‹ç»å·¥ç¨‹æ¨¡å¼ï¼Œå¯é“¾æ¥æŸ¥çœ‹ å››æœˆè‘¡è„ å®šä¹‰ä¸€ä¸ªæ¥å£ç”¨äºåˆ›å»ºå¯¹è±¡ï¼Œä½†æ˜¯è®©å­ç±»å†³å®šåˆå§‹åŒ–å“ªä¸ªç±»ã€‚å·¥å‚æ–¹æ³•æŠŠä¸€ä¸ªç±»çš„åˆå§‹åŒ–ä¸‹æ”¾åˆ°å­ç±»ã€‚ ç”Ÿæˆå¤æ‚å¯¹è±¡æ—¶ï¼Œç¡®å®šåªæœ‰ä¸€ä¸ªå·¥å‚ç±»ï¼Œå¯ä»¥ä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼ã€‚å¦åˆ™æœ‰å¤šä¸ªå·¥å‚ç±»çš„è¯ï¼Œä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ã€‚ ä¼˜ç‚¹ä»£ç è§£è€¦ï¼Œåˆ›å»ºå®ä¾‹çš„å·¥ä½œä¸ä½¿ç”¨å®ä¾‹çš„å·¥ä½œåˆ†å¼€ï¼Œä½¿ç”¨è€…ä¸å¿…å…³å¿ƒç±»å¯¹è±¡å¦‚ä½•åˆ›å»ºã€‚ ç¼ºç‚¹è¿èƒŒå¼€æ”¾å°é—­åŸåˆ™ï¼Œè‹¥éœ€æ·»åŠ æ–°äº§å“åˆ™å¿…é¡»ä¿®æ”¹å·¥å‚ç±»é€»è¾‘ï¼Œä¼šé€ æˆå·¥å‚é€»è¾‘è¿‡äºå¤æ‚ã€‚ç®€å•å·¥å‚æ¨¡å¼ä½¿ç”¨äº†é™æ€å·¥å‚æ–¹æ³•ï¼Œå› æ­¤é™æ€æ–¹æ³•ä¸èƒ½è¢«ç»§æ‰¿å’Œé‡å†™ã€‚å·¥å‚ç±»åŒ…å«äº†æ‰€æœ‰å®ä¾‹ï¼ˆäº§å“ï¼‰çš„åˆ›å»ºé€»è¾‘ï¼Œè‹¥å·¥å‚ç±»å‡ºé”™ï¼Œåˆ™ä¼šé€ æˆæ•´ä¸ªç³»ç»Ÿéƒ½ä¼šä¼šå—åˆ°å½±å“ã€‚ Android å¼€å‘ä¸­çš„å·¥å‚æ¨¡å¼å®è·µåœºæ™¯ï¼šé¡¹ç›®ä¸­ä½¿ç”¨äº† Universal Image Loaderä½œä¸ºå›¾ç‰‡åŠ è½½æ¡†æ¶ï¼Œè¿‡ä¸€æ®µæ—¶é—´åï¼Œå‘ç° UIL å·²ç»ä¸æµè¡Œäº†ï¼Œæƒ³ç”¨æ›´åŠ  fashionçš„ Glide æ¥ä»£æ›¿ UILï¼Œå†æˆ–è€…æœ‰ä¸€å¤©ï¼ŒGlide ä¸æ›´æ–°ï¼Œä¹Ÿä¸ fashion äº†â€¦ éš¾é“åˆè¦æ¢å…¶ä»–å›¾ç‰‡åŠ è½½æ¡†æ¶ï¼Ÿéš¾é“åˆæ”¹å—ï¼Ÿï¼Ÿï¼Ÿè¿™ä¸ªæ—¶å€™ï¼Œå·¥å‚æ–¹æ³•å¯èƒ½å¯ä»¥å¸®ä¸Šå¿™ï¼šä½¿ç”¨å·¥å‚ç±»éš”ç¦»å›¾ç‰‡åŠ è½½çš„å…·ä½“å®ç°ï¼Œå¯¹å¤–åªæš´éœ²ä¸€ä¸ªå·¥å‚æ–¹æ³•ç”¨æ¥å¤–éƒ¨ç”Ÿäº§æƒ³è¦çš„åŠ è½½æ¡†æ¶å®ä¾‹ï¼Œå°±å¯é¿å…ä¸Šè¿°æåˆ°çš„å°´å°¬ã€‚ å›¾ç‰‡åŠ è½½æ¥å£ 1234567891011/** * å›¾ç‰‡åŠ è½½æ¥å£ */public interface ImageLoaderInterf &#123; interface CallBack &#123; void onSuccess(Bitmap result); void onFailure(); &#125; void load(Context context, String imgUrl, ImageView view);&#125; å›¾ç‰‡åŠ è½½å·¥å‚ç±» 123456789101112131415161718public class ImgLoaderClientFactory &#123; public static final GLIDE = 0; public static final UIL = 1; public static final PICASSO = 2; public static ImageLoaderInterf getImageLoaderClient(int type) &#123; switch (type) &#123; case GLIDE: return GlideClient.getInstance(); case UIL: return UilClient.getInstance(); default: return PicassoClient.getInstance(); &#125; &#125;&#125; UilClientï¼šUniversal Image Loaderå°è£… 1234567891011121314151617181920public class UilClient implements ImageLoaderInterf &#123; private static UilClient sInstance; private UilClient() &#123;&#125; public static UilClient getInstance() &#123; synchronized (UilClient.class) &#123; if (sInstance == null) &#123; sInstance = new UilClient(); &#125; &#125; return sInstance; &#125; @Override public void load(Context context, String imgUrl, ImageView view) &#123; ImageLoader.getInstance().displayImage(imgUrl, view); &#125;&#125; GlideClientï¼šGlideçš„äºŒæ¬¡å°è£… 12345678910111213141516171819public class GlideClient implements ImageLoaderInterf &#123; private static GlideClient sInstance; private GlideClient() &#123;&#125; public static GlideClient getInstance() &#123; synchronized (GlideClient.class) &#123; if (sInstance == null) &#123; sInstance = new GlideClient(); &#125; &#125; return sInstance; &#125; @Override public void load(Context context, String imgUrl, ImageView view) &#123; Glide.with(context).load(imgUrl).into(view); &#125;&#125; PicassoClientï¼šPicassoå°è£…ç±» 123456789101112131415161718192021public class PicassoClient implements ImageLoaderInterf &#123; private static PicassoClient sInstance; private PicassoClient() &#123; &#125; public static PicassoClient getInstance() &#123; synchronized (PicassoClient.class) &#123; if (sInstance == null) &#123; sInstance = new PicassoClient(); &#125; &#125; return sInstance; &#125; @Override public void load(Context context, String imgUrl, ImageView view) &#123; Picasso.with(context).load(imgUrl).into(view); &#125;&#125; é‚£ä¹ˆåŠ è½½å›¾ç‰‡è®¾ç½®å°±å˜æˆäº†ä¸‹é¢è¿™æ ·ï¼š 1ImgLoaderClientFactory.getImageLoaderClient(ImgLoaderClientFactory.UIL).load(mContext, imgUrl, imageView); è¦åˆ‡æ¢å›¾ç‰‡æ¡†æ¶å‘¢ï¼Ÿæ€ä¹ˆåŠï¼Ÿå¯ä»¥å•ç‹¬å†™ä¸€ä¸ªå˜é‡é€šè¿‡èµ‹å€¼ï¼Œå…¨å±€ä½¿ç”¨ï¼Œæˆ–è€… å…¨å±€æœç´¢æ›¿æ¢ ImgLoaderClientFactory.UIL ä¹Ÿè¡Œï¼Œæ¯”å¦‚æƒ³åˆ‡åˆ°Glideï¼Œå°†ç”¨åˆ° ImgLoaderClientFactory.UIL åœ°æ–¹æ”¹æˆ ImgLoaderClientFactory.GLIDE å³å¯ã€‚ 1ImgLoaderClientFactory.getImageLoaderClient(ImgLoaderClientFactory.GLIDE).load(mContext, imgUrl, imageView); ç­–ç•¥æ¨¡å¼ (Strategy pattern)å®šä¹‰ä¸€ç»„ç®—æ³•ï¼Œå°†å…¶å„ä¸ªå°è£…ï¼Œå¹¶ä¸”ä½¿ä»–ä»¬æœ‰äº¤æ¢æ€§ ç­–ç•¥æ¨¡å¼å¥½å¤„åœ¨äºä½¿å¾—ç®—æ³•åœ¨ç”¨æˆ·ä½¿ç”¨çš„æ—¶å€™èƒ½ç‹¬ç«‹çš„æ”¹å˜ï¼Œå•ä¸€çš„ä¿®æ”¹ï¼Œå¹¶ä¸”æœ‰è‰¯å¥½æ‰©å±•æ€§ã€‚ ç®—æ³•ï¼šæŒ‡çš„æ˜¯å„ä¸ªç­–ç•¥çš„å®ç°é€»è¾‘ï¼Œè€Œéç®—æ³•é¢†åŸŸçš„æ•°æ®ç®—æ³•ã€‚ ä¼˜ç‚¹ ç­–ç•¥ç±»å¯ä»¥äº’ç›¸æ›¿æ¢ç”±äºç­–ç•¥ç±»éƒ½å®ç°åŒä¸€ä¸ªæ¥å£ï¼Œå› æ­¤ä»–ä»¬èƒ½å¤Ÿäº’ç›¸æ›¿æ¢ã€‚ è€¦åˆåº¦ä½ï¼Œæ–¹ä¾¿æ‰©å±•å¢åŠ ä¸€ä¸ªæ–°çš„ç­–ç•¥åªéœ€è¦æ·»åŠ ä¸€ä¸ªå…·ä½“çš„ç­–ç•¥ç±»å³å¯ï¼ŒåŸºæœ¬ä¸éœ€è¦æ”¹å˜åŸæœ‰çš„ä»£ç ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ã€‚ é¿å…ä½¿ç”¨å¤šé‡æ¡ä»¶é€‰æ‹©è¯­å¥ï¼ˆif-elseæˆ–è€…switchï¼‰ã€‚ ç¼ºç‚¹ ç­–ç•¥çš„å¢å¤šä¼šå¯¼è‡´å­ç±»çš„ä¹Ÿä¼šå˜å¤š å®¢æˆ·ç«¯å¿…é¡»çŸ¥é“æ‰€æœ‰çš„ç­–ç•¥ç±»ï¼Œå¹¶è‡ªè¡Œå†³å®šä½¿ç”¨å“ªä¸€ä¸ªç­–ç•¥ç±»ã€‚ ä½¿ç”¨åœºæ™¯ å¦‚æœåœ¨ä¸€ä¸ªç³»ç»Ÿé‡Œé¢æœ‰è®¸å¤šç±»ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ä»…åœ¨äºå®ƒä»¬çš„è¡Œä¸ºï¼Œé‚£ä¹ˆä½¿ç”¨ç­–ç•¥æ¨¡å¼å¯ä»¥åŠ¨æ€åœ°è®©ä¸€ä¸ªå¯¹è±¡åœ¨è®¸å¤šè¡Œä¸ºä¸­é€‰æ‹©ä¸€ç§è¡Œä¸ºã€‚ ä¸€ä¸ªç³»ç»Ÿéœ€è¦åŠ¨æ€åœ°åœ¨å‡ ç§ç®—æ³•ä¸­é€‰æ‹©ä¸€ç§ã€‚ å¦‚æœä¸€ä¸ªå¯¹è±¡æœ‰å¾ˆå¤šçš„è¡Œä¸ºï¼Œå¦‚æœä¸ç”¨æ°å½“çš„æ¨¡å¼ï¼Œè¿™äº›è¡Œä¸ºå°±åªå¥½ä½¿ç”¨å¤šé‡çš„æ¡ä»¶é€‰æ‹©è¯­å¥æ¥å®ç°ã€‚ UML ç±»å›¾ ç­–ç•¥æ¨¡å¼å„è§’è‰²è®²è§£ï¼šStrategyï¼šç­–ç•¥åŸºç±»ï¼ˆæ¥å£æˆ–è€…æŠ½è±¡ç±»å†æˆ–è€…æŠ½è±¡ç­–ç•¥ç±»ï¼‰ï¼Œå®šä¹‰å­ç­–ç•¥éœ€è¦å®ç°çš„æ–¹æ³•ï¼Œæ¯”å¦‚ algorithm()ï¼Œè¯¥æ–¹æ³•å–å†³äºå®¢æˆ·ç«¯ä»£ç ï¼ˆé«˜å±‚ä»£ç ï¼‰éœ€è¦è¯¥ç­–ç•¥å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Œå­ç±»åˆ™å®ç°è¯¥æ–¹æ³•ï¼Œå°è£…è‡ªå·±çš„ç®—æ³•ï¼Œä¾›å¤–éƒ¨è°ƒç”¨ã€‚Contextï¼šæ­¤ Contextï¼Œéå½¼ï¼ˆAndroidä¸­çš„ï¼‰Contextï¼Œå®ƒæŒæœ‰ Strategy çœŸå®çš„å®ä¾‹å¯¹è±¡ï¼Œæä¾›ç»™å®¢æˆ·ç«¯è°ƒç”¨ Strategy æ—¶çš„ä¸Šä¸‹æ–‡è°ƒåº¦è€…ã€‚ConcreteStrategyAï¼šå®ç°çˆ¶ç±» Strategy çš„æ–¹æ³•ï¼Œå°è£…è‡ªèº«ç®—æ³•é€»è¾‘ã€‚ConcreteStrategyBï¼šåŒä¸Š ä¾‹å­ï¼šä¸€ä¸ªåŠ å‡ä¹˜é™¤çš„ç­–ç•¥ï¼Œå®šä¹‰ä¸€ä¸ª Strategy æ¥å£ï¼Œç„¶åé’ˆå¯¹æ¥å£å®ç°å¯¹åº”çš„åŠ å‡ä¹˜é™¤çš„å®ä½“ç­–ç•¥ç±»ã€‚ android ä¸­çš„ç­–ç•¥æ¨¡å¼åº”ç”¨å®è·µï¼šéœ€æ±‚ï¼šæ¥å…¥å¾®ä¿¡æ”¯ä»˜ï¼Œæ”¯ä»˜å®æ”¯ä»˜ï¼Œé“¶è”æ”¯ä»˜ç­‰ç§»åŠ¨ç«¯é€šç”¨æ”¯ä»˜æ–¹å¼ã€‚ ä»¥ä¸‹æ˜¯å¤§è‡´å®ç°ï¼š PayActivityï¼šå®¢æˆ·ç«¯è§’è‰²ï¼Œæ”¯ä»˜æ–¹å¼é€‰æ‹©ç•Œé¢ AbsPayStrategyï¼šä½œä¸ºæ”¯ä»˜ç­–ç•¥åŸºç±»ï¼Œå®šä¹‰äº†ä¸€ä¸ªpayæ–¹æ³• PayContextï¼šä¸Šä¸‹æ–‡è§’è‰²ï¼Œç”¨æ¥å°è£…æ”¯ä»˜AbsPayStrategyå¯¹è±¡ WeChatPayStrategyï¼šå°è£…äº†å¾®ä¿¡æ”¯ä»˜ç®—æ³•é€»è¾‘ ALiPayStrategyï¼šå°è£…äº†æ”¯ä»˜å®æ”¯ä»˜ç®—æ³•é€»è¾‘ BankCardPayStrategyï¼šå°è£…äº†é“¶è¡Œå¡æ”¯ä»˜ç®—æ³•é€»è¾‘ æ”¯ä»˜åŠŸèƒ½çš„ç¤ºæ„ä»£ç ï¼šAbsPayStrategyçš„å®é™…å®ç°åº”è¯¥ä¸ºæŠ½è±¡ç±»ï¼Œå®ƒéœ€è¦æŒæœ‰Activityå¯¹è±¡ã€‚ 12345public interface AbsPayStrategy &#123; // private Activity mActivity; // æœ¬ç­–ç•¥ä¸»è¦å°±æ˜¯å®ç°æ”¯ä»˜åŠŸèƒ½ void pay();&#125; Context ä¸Šä¸‹æ–‡è§’è‰² 1234567891011public class PayContext &#123; private AbsPayStrategy mPayStrategy; public PayContext(AbsPayStrategy payStrategy) &#123; mPayStrategy = payStrategy; &#125; public void pay() &#123; mPayStrategy.pay(); &#125;&#125; å¾®ä¿¡æ”¯ä»˜ç­–ç•¥å®ç° 123456789/** * å¾®ä¿¡æ”¯ä»˜ç­–ç•¥ */public class WeChatPayStrategy implements AbsPayStrategy &#123; public void pay() &#123; // æ­¤å¤„å°è£…å¾®ä¿¡æ”¯ä»˜é€»è¾‘ &#125;&#125; æ”¯ä»˜å®æ”¯ä»˜ç­–ç•¥å®ç° 123456789/** * æ”¯ä»˜å®æ”¯ä»˜ç­–ç•¥ */public class ALiPayStrategy implements AbsPayStrategy &#123; public void pay() &#123; // æ­¤å¤„å°è£…æ”¯ä»˜å®æ”¯ä»˜é€»è¾‘ &#125;&#125; å…·ä½“çš„å®¢æˆ·ç«¯ä»£ç ï¼Œæ­¤å¤„ä¸ºPayActivity 123456789101112131415161718192021222324public class PayActivity extends Activity implements View.OnclickListener&#123; private PayContext mPayContext; @Override public void onClick(View view) &#123; switch(v.getId()) &#123;// å®¢æˆ·ç«¯æ¥å†³å®šä½¿ç”¨å“ªç§æ”¯ä»˜ç­–ç•¥ case R.id.wechat_pay: mPayContext = new PayContext(new WechatPayStrategy()); break; case R.id.wechat_pay: mPayContext = new PayContext(new ALiPayStrategy()); break; case R.id.wechat_pay: mPayContext = new PayContext(BankCardPayStrategy()); break; default: mPayContext = new PayContext(new WechatPayStrategy()); break; &#125; // åˆ©ç”¨å®é™…çš„æ”¯ä»˜ç­–ç•¥å¯¹è±¡è¿›è¡Œæ”¯ä»˜ mPayContext.pay(); &#125; &#125; è¿™æ ·å°±å®ç°äº†ä¸€ä¸ª app å†…çš„æ”¯ä»˜åŠŸèƒ½ï¼Œå¦‚æœå¾®ä¿¡æ”¯ä»˜å‡ºç°é—®é¢˜äº†ï¼Œæ”¹åŠ¨å¾®ä¿¡æ”¯ä»˜ç­–ç•¥ä»£ç ï¼Œæ”¯ä»˜å®æ”¯ä»˜å‡ºç°é—®é¢˜ï¼Œæ”¹åŠ¨æƒ³è¦å®ç°å³å¯ï¼ŒèŒè´£å•ä¸€ã€‚å¦‚æœPMæœ‰ä¸€å¤©è¯´ï¼šæˆ‘ä»¬éœ€è¦æ¥å…¥æ›´å¤šæ”¯ä»˜ï¼Œæ€ä¹ˆåŠï¼Ÿ ç®€å•å•Šï¼Œå®ç°ç›¸åº”çš„æ”¯ä»˜ç­–ç•¥å³å¯ï¼Œå®Œç¾é€‚åº”éœ€æ±‚å˜æ›´ï¼Œå®ç°åŠŸèƒ½æ‰©å±•ã€‚ è§‚å¯Ÿè€…æ¨¡å¼ (Observer pattern)å®šä¹‰å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œä½¿å¾—æ¯å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶ç›¸å…³ä¾èµ–å¯¹è±¡çš†å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚è§‚å¯Ÿè€…æ¨¡å¼åˆå«åšå‘å¸ƒ-è®¢é˜…ï¼ˆPublish/Subscribeï¼‰æ¨¡å¼ã€æ¨¡å‹-è§†å›¾ï¼ˆModel/Viewï¼‰æ¨¡å¼ã€æº-ç›‘å¬å™¨ï¼ˆSource/Listenerï¼‰æ¨¡å¼æˆ–ä»å±è€…ï¼ˆDependentsï¼‰æ¨¡å¼ã€‚ ä»‹ç»è§‚å¯Ÿè€…æ¨¡å¼å±äºï¼ˆå¯¹è±¡ï¼‰è¡Œä¸ºå‹æ¨¡å¼ã€‚è§‚å¯Ÿè€…æ¨¡å¼åˆè¢«ç§°ä½œå‘å¸ƒ/è®¢é˜…æ¨¡å¼ã€‚è§‚å¯Ÿè€…æ¨¡å¼ä¸»è¦ç”¨æ¥è§£è€¦ï¼Œå°†è¢«è§‚å¯Ÿè€…å’Œè§‚å¯Ÿè€…è§£è€¦ï¼Œè®©ä»–ä»¬ä¹‹é—´æ²¡æœ‰æ²¡æœ‰ä¾èµ–æˆ–è€…ä¾èµ–å…³ç³»å¾ˆå°ã€‚ ä¼˜ç‚¹è§£é™¤è§‚å¯Ÿè€…ä¸ä¸»é¢˜ä¹‹é—´çš„è€¦åˆã€‚è®©è€¦åˆçš„åŒæ–¹éƒ½ä¾èµ–äºæŠ½è±¡ï¼Œè€Œä¸æ˜¯ä¾èµ–å…·ä½“ã€‚ä»è€Œä½¿å¾—å„è‡ªçš„å˜åŒ–éƒ½ä¸ä¼šå½±å“å¦ä¸€è¾¹çš„å˜åŒ–ã€‚æ˜“äºæ‰©å±•ï¼Œå¯¹åŒä¸€ä¸»é¢˜æ–°å¢è§‚å¯Ÿè€…æ—¶æ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç ã€‚ ç¼ºç‚¹ä¾èµ–å…³ç³»å¹¶æœªå®Œå…¨è§£é™¤ï¼ŒæŠ½è±¡ä¸»é¢˜ä»ç„¶ä¾èµ–æŠ½è±¡è§‚å¯Ÿè€…ã€‚ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼æ—¶éœ€è¦è€ƒè™‘ä¸€ä¸‹å¼€å‘æ•ˆç‡å’Œè¿è¡Œæ•ˆç‡çš„é—®é¢˜ï¼Œç¨‹åºä¸­åŒ…æ‹¬ä¸€ä¸ªè¢«è§‚å¯Ÿè€…ã€å¤šä¸ªè§‚å¯Ÿè€…ï¼Œå¼€å‘ã€è°ƒè¯•ç­‰å†…å®¹ä¼šæ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”åœ¨Javaä¸­æ¶ˆæ¯çš„é€šçŸ¥ä¸€èˆ¬æ˜¯é¡ºåºæ‰§è¡Œï¼Œé‚£ä¹ˆä¸€ä¸ªè§‚å¯Ÿè€…å¡é¡¿ï¼Œä¼šå½±å“æ•´ä½“çš„æ‰§è¡Œæ•ˆç‡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€èˆ¬ä¼šé‡‡ç”¨å¼‚æ­¥å®ç°ã€‚å¯èƒ½ä¼šå¼•èµ·å¤šä½™çš„æ•°æ®é€šçŸ¥ UML ç­–ç•¥æ¨¡å¼å„è§’è‰²è¯´æ˜ï¼šSubjectï¼ˆæŠ½è±¡ä¸»é¢˜ï¼‰ï¼šåˆå«æŠ½è±¡è¢«è§‚å¯Ÿè€…ï¼ŒæŠŠæ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡çš„å¼•ç”¨ä¿å­˜åˆ°ä¸€ä¸ªé›†åˆé‡Œï¼Œæ¯ä¸ªä¸»é¢˜éƒ½å¯ä»¥æœ‰ä»»ä½•æ•°é‡çš„è§‚å¯Ÿè€…ã€‚æŠ½è±¡ä¸»é¢˜æä¾›ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥å¢åŠ å’Œåˆ é™¤è§‚å¯Ÿè€…å¯¹è±¡ã€‚ConcreteSubjectï¼ˆå…·ä½“ä¸»é¢˜ï¼‰ï¼šåˆå«å…·ä½“è¢«è§‚å¯Ÿè€…ï¼Œå°†æœ‰å…³çŠ¶æ€å­˜å…¥å…·ä½“è§‚å¯Ÿè€…å¯¹è±¡ï¼›åœ¨å…·ä½“ä¸»é¢˜å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œç»™æ‰€æœ‰ç™»è®°è¿‡çš„è§‚å¯Ÿè€…å‘å‡ºé€šçŸ¥ã€‚Observer (æŠ½è±¡è§‚å¯Ÿè€…):ä¸ºæ‰€æœ‰çš„å…·ä½“è§‚å¯Ÿè€…å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œåœ¨å¾—åˆ°ä¸»é¢˜é€šçŸ¥æ—¶æ›´æ–°è‡ªå·±ã€‚ConcrereObserverï¼ˆå…·ä½“è§‚å¯Ÿè€…ï¼‰ï¼šå®ç°æŠ½è±¡è§‚å¯Ÿè€…å®šä¹‰çš„æ›´æ–°æ¥å£ï¼Œå½“å¾—åˆ°ä¸»é¢˜æ›´æ”¹é€šçŸ¥æ—¶æ›´æ–°è‡ªèº«çš„çŠ¶æ€ã€‚ java ä»£ç å®ç°åˆ›å»ºæŠ½è±¡è§‚å¯Ÿè€…1234567891011/** * TODO Observer (æŠ½è±¡è§‚å¯Ÿè€…):ä¸ºæ‰€æœ‰çš„å…·ä½“è§‚å¯Ÿè€…å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œåœ¨å¾—åˆ°ä¸»é¢˜é€šçŸ¥æ—¶æ›´æ–°è‡ªå·±ã€‚ * å®šä¹‰ä¸€ä¸ªæ¥åˆ°é€šçŸ¥çš„æ›´æ–°æ–¹æ³•ï¼Œå³æ”¶ä»¶äººæ”¶åˆ°é€šçŸ¥åçš„ååº” * * @author dev.liang &lt;a href=&quot;mailto:dev.liang@outlook.com&quot;&gt;Contact me.&lt;/a&gt; * @version 1.0 * @since 2019/03/24 16:29 */public interface Observer &#123; void update(String msg);&#125; åˆ›å»ºå…·ä½“è§‚å¯Ÿè€…1234567891011121314151617181920/** * TODO ï¼ˆå…·ä½“è§‚å¯Ÿè€…ï¼‰ï¼šå®ç°æŠ½è±¡è§‚å¯Ÿè€…å®šä¹‰çš„æ›´æ–°æ¥å£ï¼Œå½“å¾—åˆ°ä¸»é¢˜æ›´æ”¹é€šçŸ¥æ—¶æ›´æ–°è‡ªèº«çš„çŠ¶æ€ã€‚ * * @author dev.liang &lt;a href=&quot;mailto:dev.liang@outlook.com&quot;&gt;Contact me.&lt;/a&gt; * @version 1.0 * @since 2019/03/24 16:55 */public class ConcreteObserver implements Observer &#123; String mObserverName; public ConcreteObserver(String mObserverName) &#123; this.mObserverName = mObserverName; &#125; @Override public void update(String msg) &#123; System.out.println(&quot;å…·ä½“è§‚å¯Ÿè€…&quot; + mObserverName + &quot;,æ”¶åˆ°äº†ä¿¡æ¯:&quot; + msg); &#125;&#125; åˆ›å»ºæŠ½è±¡ä¸»é¢˜12345678910111213141516171819202122232425262728293031323334/** * TODO * Subjectï¼ˆæŠ½è±¡ä¸»é¢˜ï¼‰ï¼š * åˆå«æŠ½è±¡è¢«è§‚å¯Ÿè€…ï¼ŒæŠŠæ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡çš„å¼•ç”¨ä¿å­˜åˆ°ä¸€ä¸ªé›†åˆé‡Œï¼Œ * æ¯ä¸ªä¸»é¢˜éƒ½å¯ä»¥æœ‰ä»»ä½•æ•°é‡çš„è§‚å¯Ÿè€…ã€‚ * æŠ½è±¡ä¸»é¢˜æä¾›ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥å¢åŠ å’Œåˆ é™¤è§‚å¯Ÿè€…å¯¹è±¡ã€‚ * * @author dev.liang &lt;a href=&quot;mailto:dev.liang@outlook.com&quot;&gt;Contact me.&lt;/a&gt; * @version 1.0 * @since 2019/03/24 16:11 */public interface Subject &#123; /** * æ·»åŠ è§‚å¯Ÿè€… * * @param observer */ void attach(Observer observer); /** * åˆ é™¤è§‚å¯Ÿè€… * * @param observer */ void detach(Observer observer); /** * é€šçŸ¥è§‚å¯Ÿè€… * * @param msg */ void notify(String msg);&#125; åˆ›å»ºå…·ä½“ä¸»é¢˜12345678910111213141516171819202122232425262728293031323334/** * subscribe * TODO ConcreteSubjectï¼ˆå…·ä½“ä¸»é¢˜ï¼‰ï¼š * åˆå«å…·ä½“è¢«è§‚å¯Ÿè€…ï¼Œå°†æœ‰å…³çŠ¶æ€å­˜å…¥å…·ä½“è§‚å¯Ÿè€…å¯¹è±¡ï¼› * åœ¨å…·ä½“ä¸»é¢˜å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œç»™æ‰€æœ‰ç™»è®°è¿‡çš„è§‚å¯Ÿè€…å‘å‡ºé€šçŸ¥. * * @author dev.liang &lt;a href=&quot;mailto:dev.liang@outlook.com&quot;&gt;Contact me.&lt;/a&gt; * @version 1.0 * @since 2019/03/24 16:34 */public class ConcreteSubject implements Subject&#123; private List&lt;Observer&gt; observerList = new ArrayList(); @Override public void attach(Observer observer) &#123; observerList.add(observer); &#125; @Override public void detach(Observer observer) &#123; observerList.remove(observer); &#125; @Override public void notify(String msg) &#123; /*å¾ªç¯é€šçŸ¥æ”¶ä»¶äººï¼ˆè§‚å¯Ÿè€…ï¼‰*/ if(!CollectionUtils.isEmpty(observerList)) &#123; for (Observer observer : observerList) &#123; observer.update(msg); &#125; &#125; &#125;&#125; æµ‹è¯•12345678910111213public class ObserverTest &#123; public static void main(String[] str) &#123; ConcreteSubject concreteSubject = new ConcreteSubject(); Observer observerLiang = new ConcreteObserver(&quot;è€æ¢&quot;); Observer observerWang = new ConcreteObserver(&quot;è€ç‹&quot;); concreteSubject.attach(observerLiang); concreteSubject.attach(observerWang); concreteSubject.notify(&quot;ä»Šå¤©å‘å·¥èµ„~&quot;); /*è€æ¢æ²¡å‘å·¥èµ„*/ concreteSubject.detach(observerLiang); concreteSubject.notify(&quot;å‘äº†å·¥èµ„~&quot;); &#125;&#125; æ‰“å°123å…·ä½“è§‚å¯Ÿè€…è€æ¢,æ”¶åˆ°äº†ä¿¡æ¯:å‘å·¥èµ„å•¦~å…·ä½“è§‚å¯Ÿè€…è€ç‹,æ”¶åˆ°äº†ä¿¡æ¯:å‘å·¥èµ„å•¦~å…·ä½“è§‚å¯Ÿè€…è€ç‹,æ”¶åˆ°äº†ä¿¡æ¯:å‘äº†å·¥èµ„~ Android ä¸­çš„è§‚å¯Ÿè€…æ¨¡å¼æ§ä»¶ä¸­Listenerç›‘å¬æ–¹å¼Adapterçš„notifyDataSetChanged()æ–¹æ³•BroadcastReceiverBroadcastReceiver ä½œä¸º Android çš„å››å¤§ç»„ä»¶ä¹‹ä¸€,å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå…¸å‹çš„è§‚å¯Ÿè€…æ¨¡å¼.é€šè¿‡ sendBroadcast å‘é€å¹¿æ’­æ—¶,åªæœ‰æ³¨å†Œäº†ç›¸åº”çš„ IntentFilter çš„ BroadcastReceiver å¯¹è±¡æ‰ä¼šæ”¶åˆ°è¿™ä¸ªå¹¿æ’­ä¿¡æ¯,å…¶onReceiveæ–¹æ³•æ‰ä¼šè¢«è°ƒèµ·ã€‚ ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ä¸ºç›®æ ‡å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ï¼Œå®¢æˆ·ç«¯é€šè¿‡ä»£ç†å»è®¿é—®ç›®æ ‡å¯¹è±¡ã€‚ å‰æï¼šå¦‚æœä»å†™ä»£ç çš„è§’åº¦å‡ºå‘ï¼Œå½“æˆ‘ä»¬é‡åˆ°ä»¥ä¸‹åœºæ™¯ï¼š æ— æ³•ç›´æ¥è®¿é—®æŸä¸ªå¯¹è±¡ ä¸æƒ³ç›´æ¥è®¿é—®æŸä¸ªå¯¹è±¡ è®¿é—®æŸä¸ªå¯¹è±¡å­˜åœ¨å›°éš¾ çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸€ä¸ªä»£ç†ï¼Œé€šè¿‡å®ƒæ¥é—´æ¥è®¿é—®çœŸæ­£çš„å¯¹è±¡ã€‚ UML å›¾ ä»ä»£ç†æ¨¡å¼çš„ UML ç±»å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“è®ºï¼š ä»£ç†å¯¹è±¡å’Œå§”æ‰˜å¯¹è±¡éœ€è¦å®ç°ç›¸åŒçš„æ¥å£ï¼ˆæŠ½è±¡ç±»ï¼‰; ä»£ç†å¯¹è±¡æŒæœ‰å§”æ‰˜å¯¹è±¡çš„å¼•ç”¨; å¯ä»¥çœ‹åˆ°ï¼Œä»£ç†æ¨¡å¼éå¸¸ç®€æ´ï¼Œæ€»å…±å°±ä¸‰ä¸ªè§’è‰²ï¼ŒåŒ…æ‹¬æŠ½è±¡ä¸»é¢˜ï¼Œå§”æ‰˜è€…å’Œä»£ç†è€…ã€‚ç”¨ä»£ç å®ç°ä»¥ä¸‹ä»£ç†æ¨¡å¼ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041public interface Subject &#123; void doSomething();&#125;/** * å§”æ‰˜ç±» */public class RealSubject implements Subject &#123; @Override public void doSomething() &#123; System.out.println(&quot;This is real doSomeThing&quot;); &#125;&#125;/** * ä»£ç†ç±» */public class ProxySubject implements Subject &#123; private Subject mSubject; // ä»£ç†ç±»æŒæœ‰å§”æ‰˜ç±»çš„å¼•ç”¨ public ProxySubject(Subject realSubject) &#123; mSubject = realSubject; &#125; @Override public void doSomething() &#123; mSubject.doSomething(); &#125;&#125;public class Client &#123; public static void main(String[] args) &#123; //åˆ›å»ºå§”æ‰˜ç±» Subject mRealSubject=new RealSubject(); //åˆ›å»ºä»£ç†ç±» ProxySubject mProxy = new ProxySubject(mRealSubject); //ç”±ä»£ç†ç±»å»åšå…·ä½“çš„æ“ä½œ mProxy.doSomething(); &#125;&#125; å¯ä»¥çœ‹åˆ° RealSubject å’Œ ProxySubject éƒ½å®ç°äº†æ¥å£ Subjectã€‚åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ProxySubject çš„å®ä¾‹è°ƒç”¨ doSomething() æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ RealSubject çš„å®ä¾‹æ¥å®ç°ã€‚ ä½ å¯èƒ½ä¼šå¥½å¥‡ï¼Œè¿™ä¹ˆåšçš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç›´æ¥ç”¨ RealSubject çš„å®ä¾‹æ¥è°ƒç”¨ doSomething æ–¹æ³•ä¸ä¹Ÿå¯ä»¥å—ï¼Ÿä½•å¿…å¤šæ­¤ä¸€ä¸¾ã€‚è¯•æƒ³ï¼Œå¦‚æœç°åœ¨æœ‰å¾ˆå¤šä¸ªå§”æ‰˜ç±»ï¼Œä»–ä»¬å„è‡ªçš„å®ç°éƒ½ä¸åŒï¼Œå®¢æˆ·ç«¯åªå…³å¿ƒdoSomething çš„è°ƒç”¨ï¼Œè€Œä¸å…³å¿ƒå…·ä½“çš„å®ç°ï¼Œè¿™æ ·ä»£ç†ç±»å°±å¯ä»¥åœ¨å…¶å†…éƒ¨å±è”½å§”æ‰˜ç±»ä¹‹é—´çš„å·®å¼‚äº†ï¼Œè¿™ä¹Ÿæ˜¯å®¢æˆ·ç«¯ä¸æƒ³å…³æ³¨çš„äº‹æƒ…ã€‚ åŠ¨æ€ä»£ç†ä»¥ä¸Šçš„åˆ†æä¸­ï¼Œä»£ç†ç±»æ˜¯ç”±æˆ‘ä»¬ç›´æ¥åˆ›å»ºå¥½çš„ï¼›ç°å®ä¸­å¯èƒ½è¿˜æœ‰è¿™æ ·ä¸€ç§åœºæ™¯ï¼Œä»£ç†ç±»å¹¶ä¸æ˜¯åœ¨ç¨‹åºç¼–è¯‘çš„æ—¶å€™åˆ›å»ºï¼Œè€Œæ˜¯åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­é€šè¿‡Javaçš„åå°„æœºåˆ¶åŠ¨æ€çš„è¿›è¡Œåˆ›å»ºï¼Œè¿™æ ·çš„ä»£ç†æ¨¡å¼æˆä¸ºåŠ¨æ€ä»£ç†ï¼Œå¯¹åº”çš„ä¹‹å‰æˆ‘ä»¬æ‰€è¯´çš„å°±æ˜¯é™æ€ä»£ç†äº†ã€‚ å…¶å®ï¼ŒåŠ¨æ€ä»£ç†çš„å®ç°æ²¡æœ‰ä»€ä¹ˆå¯è¯´çš„ï¼Œè¯´ç™½äº†éƒ½æ˜¯æ¨¡æ¿ä»£ç ï¼ŒJavaä¸ºå¼€å‘è€…æä¾›äº†InvocationHandler,å®ç°è¯¥æ¥å£é‡å†™å…¶invoke æ–¹æ³•å³å¯ã€‚ ä»£ç ç¤ºä¾‹å¯åœ¨ Github ä¸ŠæŸ¥çœ‹ã€‚ åœ¨ Android ä¸­ï¼Œå…³äºåŠ¨æ€ä»£ç†çš„ä½¿ç”¨ï¼Œæœ€ç»å…¸çš„å°±æ˜¯ Retrofit äº†ã€‚è¿™é‡Œå¯ä»¥ç®€å•çœ‹ä¸€ä¸‹ã€‚ 123456789/** * å£°æ˜è‡ªå·±çš„ç½‘ç»œè¯·æ±‚æ¥å£ */public interface GithubService &#123; @GET(&quot;/users/leaderliang/repos&quot;) Call&lt;List&lt;Repo&gt;&gt; getUserRepos();&#125; åˆå§‹åŒ– Retrofitï¼Œå‘èµ·ç½‘ç»œè¯·æ±‚ 123456789101112131415161718Retrofit retrofit = new Retrofit.Builder() .baseUrl(&quot;https://api.github.com&quot;) .addConverterFactory(GsonConverterFactory.create()) .build(); GithubService mGithubService = retrofit.create(GithubService.class);Call&lt;List&lt;Repo&gt;&gt; repos = mGithubService.getUserRepos();repos.enqueue(new Callback&lt;List&lt;Repo&gt;&gt;() &#123; @Override public void onResponse(Call&lt;List&lt;Repo&gt;&gt; call, Response&lt;List&lt;Repo&gt;&gt; response) &#123; System.out.println(response.code() + &quot; &quot; + new Gson().toJson(response.body())); &#125; @Override public void onFailure(Call&lt;List&lt;Repo&gt;&gt; call, Throwable t) &#123; Toast.makeText(MainActivity.this, &quot;onFailure&quot;, Toast.LENGTH_SHORT).show(); &#125;&#125;); ä¸Šé¢ä»£ç ä½¿ç”¨è¿‡ Retrofit çš„åº”è¯¥ç†Ÿæ‚‰å§ã€‚å½“æˆ‘ä»¬ç”¨ Retrofit å®ä¾‹ï¼Œè°ƒç”¨å…¶ create æ–¹æ³•æ—¶ï¼Œå‘ç°å°±å·²ç»å¸®æˆ‘ä»¬åšå¥½äº† GithubService çš„å®ç°ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢æ˜¯ creat ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718192021222324public &lt;T&gt; T create(final Class&lt;T&gt; service) &#123; Utils.validateServiceInterface(service); if (validateEagerly) &#123; eagerlyValidateMethods(service); &#125; // new Class&lt;?&gt;[] &#123; service &#125; å£°æ˜äº† serviceï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ä¸ªè¿‡ç¨‹æ˜¯æ€ä¹ˆå»å®ç°çš„ã€‚ return (T) Proxy.newProxyInstance(service.getClassLoader(), new Class&lt;?&gt;[] &#123; service &#125;, new InvocationHandler() &#123; private final Platform platform = Platform.get(); private final Object[] emptyArgs = new Object[0]; @Override public Object invoke(Object proxy, Method method, @Nullable Object[] args) throws Throwable &#123; // If the method is a method from Object then defer to normal invocation. if (method.getDeclaringClass() == Object.class) &#123; return method.invoke(this, args); &#125; if (platform.isDefaultMethod(method)) &#123; return platform.invokeDefaultMethod(method, service, proxy, args); &#125; return loadServiceMethod(method).invoke(args != null ? args : emptyArgs); &#125; &#125;); &#125; createï¼ˆï¼‰ æ–¹æ³•é‡Œçš„ 1return (T) Proxy.newProxyInstance(service.getClassLoader(), new Class&lt;?&gt;[] &#123; service &#125;, new InvocationHandler() &#123;&#125;); å®é™…ä½“ç°çš„å°±æ˜¯åŠ¨æ€ä»£ç†çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ª return å°±ç›¸å½“äºåŠ¨æ€åˆ›å»ºäº† ProxyService è¿™ä¸ªä»£ç†ç±»ï¼Œå†™ä¸€æ®µä¼ªä»£ç ï¼Œåº”è¯¥å¯ä»¥å¸®åŠ©è¿›ä¸€æ­¥ç†è§£äº†ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243public class ProxyService implements GithubService &#123; InvocationHandler invocationHandler = new InvocationHandler() &#123; private final Platform platform = Platform.get(); private final Object[] emptyArgs = new Object[0]; @Override public Object invoke(Object proxy, Method method, @Nullable Object[] args) throws Throwable &#123; // If the method is a method from Object then defer to normal invocation. if (method.getDeclaringClass() == Object.class) &#123; return method.invoke(this, args); &#125; if (platform.isDefaultMethod(method)) &#123; return platform.invokeDefaultMethod(method, service, proxy, args); &#125; return loadServiceMethod(method).invoke(args != null ? args : emptyArgs); &#125; &#125;; @Override public Call&lt;List&lt;Repo&gt;&gt; getUserRepos() &#123; try &#123; Method method = GithubService.class.getMethod(&quot;getUserRepos&quot;); return (Call&lt;List&lt;Repo&gt;&gt;) invocationHandler.invoke(this, method, null); &#125; catch (NoSuchMethodException e) &#123; e.printStackTrace(); &#125; catch (Throwable throwable) &#123; throwable.printStackTrace(); &#125; return null; &#125; /** * å…¶ä»–æ¥å£ */ @Override public Call&lt;User&gt; getOtherMethod()&#123; //... return ...; &#125;&#125; å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„åŠ¨æ€ä»£ç†å®ç°ï¼Œé€šè¿‡serviceMethod.callAdapter.adaptè¿”å›äº†ä¸€ä¸ªserviceå¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œå°±æ˜¯è¿”å›äº†ä¸€ä¸ªGitHubServiceçš„ä»£ç†å¯¹è±¡ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™æ ·ä¸€ä¸ªå¯¹è±¡å»è°ƒç”¨GitHubServiceä¸­å®šä¹‰å¥½çš„å„ç§ç½‘ç»œè¯·æ±‚ï¼Œè€Œä¸ç”¨åœ¨ä½¿ç”¨çš„æ—¶å€™å†å»å†³å®šæ˜¯POSTè¯·æ±‚è¿˜æ˜¯GETè¯·æ±‚,å‚æ•°æ˜¯æ”¾åœ¨Bodyé‡Œè¿˜æ˜¯paramsé‡Œï¼Œå› ä¸ºRetrofit é€šè¿‡æŠŠåå°„æ³¨è§£å’ŒåŠ¨æ€ä»£ç†çš„å·§å¦™ç»“åˆï¼Œå±è”½äº†å¤æ‚çš„å‚æ•°æ‹¼æ¥æ“ä½œï¼ŒæŠŠæ‰€æœ‰æˆ‘ä»¬éœ€è¦å¯¹OKHttpçš„è¿›è¡Œä¼ é€’çš„å‚æ•°ï¼ŒåŠ¨æ€çš„å¸®æˆ‘ä»¬ä¼ é€’äº†ï¼Œä¸€æ—¦åœ¨æ¥å£ä¸­å®šä¹‰å¥½äº†ä½¿ç”¨æ–¹å¼ï¼Œå°±å¯ä»¥éå¸¸æ–¹ä¾¿çš„è·å–åˆ°okhttpä¸­æœ€å…³é”®çš„Calläº†ï¼Œæœ‰äº†Callæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡executeæˆ–è€…æ˜¯enqueueå‘èµ·ç½‘ç»œè¯·æ±‚äº†ã€‚ ä»¥ä¸Šå°±æ˜¯å¯¹ä»£ç†æ¨¡å¼çš„åˆ†æï¼Œæ€»çš„æ¥è¯´ä»£ç†æ¨¡å¼çš„ç»“æ„éå¸¸ç®€å•ï¼›åŒ…æ‹¬æŠ½è±¡ä¸»é¢˜ï¼Œå§”æ‰˜ç±»ï¼Œä»£ç†ç±»ä¸‰ä¸ªæ ¸å¿ƒè§’è‰²ï¼Œä»å¤§çš„æ–¹å‘ä¸Šå¯ä»¥åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ä¸¤å¤§ç±»ï¼›é€šè¿‡é™æ€ä»£ç†çš„æ–¹å¼ï¼Œåœ¨å¼€å‘è¿­ä»£çš„è¿‡ç¨‹ä¸­ï¼Œä¸ºå®ç°å…¼å®¹æ€§æä¾›äº†ä¸€ç§éå¸¸å‹å¥½çš„å®ç°æ€è·¯ï¼›åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„å¯¹è±¡ä¹‹é—´æœ‰ç€å¼ºçƒˆçš„è€¦åˆï¼Œå¯æ˜¯æ€è€ƒä¸€ä¸‹æ˜¯å¦å¯ä»¥é€šè¿‡ä»£ç†æ¨¡å¼è§£è€¦ï¼›åŒæ—¶ï¼Œå½“æˆ‘ä»¬éœ€è¦æ‰©å±•æŸä¸ªç±»çš„éƒ¨åˆ†åŠŸèƒ½æ—¶ï¼Œä½†åˆä¸æƒ³å»ç ´ååŸæœ‰çš„åŠŸèƒ½æˆ–è€…æ˜¯æ ¹æœ¬æ— æ³•ä¿®æ”¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä»£ç†æ¨¡å¼ï¼Œä½†ä¹Ÿè¦æ˜ç™½ï¼Œé€šè¿‡ä»£ç†æ¨¡å¼æˆ‘ä»¬èƒ½åšçš„ä¹Ÿåªèƒ½æ˜¯åŠŸèƒ½æ‰©å±•ï¼Œæƒ³è¦æ›´æ–°å§”æ‰˜ç±»ä¸­å·²ç»å®ç°çš„å†…å®¹ä»–æ˜¯æ— èƒ½ä¸ºåŠ›çš„ã€‚ åŠ¨æ€ä»£ç†ï¼Œå¯ä»¥æ ¹æ®è¿è¡Œæ—¶çš„å§”æ‰˜ç±»åŠ¨æ€çš„ç”Ÿæˆä»£ç†ç±»ï¼Œè¿™æ ·å°±å‡è½»äº†ä»£ç†ç±»çš„è´Ÿæ‹…ï¼Œé¿å…åœ¨ç¼–ç é˜¶æ®µå°±å…·ä½“çš„å§”æ‰˜ç±»å†åšå„ç§åˆ¤æ–­äº†ã€‚ ä»£ç†æ¨¡å¼å¾ˆç®€å•ï¼Œä¹Ÿå¾ˆå®ç”¨ï¼Œä½†ä¸è¦å¿˜è®°ä»£ç†ç±»å’Œå§”æ‰˜ç±»éœ€è¦å®ç°åŠŸèƒ½çš„æ¥å£æˆ–æŠ½è±¡ç±»ï¼Œä¸è¦å¿½ç•¥äº†è¿™ä¸€ç‚¹ã€‚ å‚è€ƒé“¾æ¥ï¼šhttps://juejin.im/post/5a4e4725f265da3e2c37e36e","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"design-patterns","permalink":"https://leaderliang.coding.me/categories/design-patterns/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"design-patterns","permalink":"https://leaderliang.coding.me/tags/design-patterns/"}]},{"title":"P2P æŠ•èµ„äº¤æµä¹‹è·åŒ…é‡‘è","slug":"P2P-æŠ•èµ„äº¤æµä¹‹è·åŒ…é‡‘è","date":"2019-03-18T07:58:37.000Z","updated":"2019-11-26T08:59:28.156Z","comments":true,"path":"128b.html","link":"","permalink":"https://leaderliang.coding.me/128b.html","excerpt":"è·åŒ…é‡‘èæŠ•èµ„çš„å°ä¼™ä¼´å¯ä»¥çœ‹è¿‡æ¥äº†ï¼Œä¸ºäº†æ–¹ä¾¿å¤§å®¶äº¤æµï¼Œåœ¨è¿™é‡Œåˆ›å»ºäº† QQ å’Œå¾®ä¿¡ç¾¤ç»„ï¼Œå–·å­ã€å¹¿å‘Šå‹¿åŠ â€¦.","text":"è·åŒ…é‡‘èæŠ•èµ„çš„å°ä¼™ä¼´å¯ä»¥çœ‹è¿‡æ¥äº†ï¼Œä¸ºäº†æ–¹ä¾¿å¤§å®¶äº¤æµï¼Œåœ¨è¿™é‡Œåˆ›å»ºäº† QQ å’Œå¾®ä¿¡ç¾¤ç»„ï¼Œå–·å­ã€å¹¿å‘Šå‹¿åŠ â€¦.æˆ‘ä½œä¸ºè·åŒ…çš„æŠ•èµ„è€…ï¼Œå»ºç¾¤ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†è®©å¤§å®¶æ›´å¤šçš„å»äº†è§£è·åŒ…çš„ç›¸å…³èµ„è®¯ï¼Œç›®å‰å¹³å°åœ¨æ”¿åºœçš„å¸®åŠ©ä¸‹ï¼Œåœ¨é€æ­¥çš„å¼€å§‹å…‘ä»˜å·¥ä½œï¼Œè¯·å¤§å®¶ä¸ä¿¡è°£ä¸ä¼ è°£ï¼Œç§¯æé¢å¯¹ï¼ è·åŒ… QQ äº¤æµç¾¤ï¼ˆ 643645871 ï¼‰ è·åŒ…å¾®ä¿¡äº¤æµç¾¤å¾®ä¿¡ç¾¤å¯èƒ½ä¼šæœ‰æœ‰æ•ˆæœŸï¼Œå½“ä¸èƒ½æ·»åŠ æ—¶ï¼Œå¤§å®¶å¯ä»¥æ·»åŠ æˆ‘çš„ä¸ªäºº å¾®ä¿¡æˆ– QQï¼ˆ565100605ï¼‰ï¼Œå¤‡æ³¨è·åŒ…ï¼Œæ‹‰ä½ ä¸Šè½¦ã€‚ã€‚ç›®å‰å¾®ä¿¡ç¾¤äººè¾ƒå¤šä¸€äº›ï¼Œå»ºè®®åŠ å¾®ä¿¡ç¾¤ã€‚ã€‚ ä¸ªäººå¾®ä¿¡æ·»åŠ å¾®ä¿¡è¯·å¤‡æ³¨æ¥æº â€œè·åŒ…-ä¸ªäººåšå®¢â€, æ·»åŠ å¾®ä¿¡åï¼Œè¯·ä¸»åŠ¨å½•åˆ¶ä¸ªäººè·åŒ…å®æ—¶ èµ„äº§ã€é¦–é¡µç­‰ç•Œé¢è§†é¢‘ä»¥ä½œæŸ¥éªŒï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¿è¯æ¯ä¸ªæŠ•èµ„è€…çš„çœŸå®æ€§ã€‚","categories":[{"name":"ç†è´¢","slug":"manage-money","permalink":"https://leaderliang.coding.me/categories/manage-money/"}],"tags":[{"name":"è·åŒ…","slug":"p2p","permalink":"https://leaderliang.coding.me/tags/p2p/"},{"name":"P2P","slug":"p2p","permalink":"https://leaderliang.coding.me/tags/p2p/"}]},{"title":"Android ä½¿ç”¨ adb å‘½ä»¤å¯¼å‡ºæƒ³è¦çš„æ‰‹æœºå®‰è£…åŒ…","slug":"Android-ä½¿ç”¨-adb-å‘½ä»¤å¯¼å‡ºæƒ³è¦çš„æ‰‹æœºå®‰è£…åŒ…","date":"2019-03-09T05:37:48.000Z","updated":"2019-03-11T15:48:44.183Z","comments":true,"path":"f7d8.html","link":"","permalink":"https://leaderliang.coding.me/f7d8.html","excerpt":"æœ‰æ—¶å€™ä¼šé‡åˆ°æƒ³å¿«é€Ÿæ‰¾åˆ°æ‰‹æœºçš„å®‰è£…åŒ…ï¼Œæˆ–è€…æ‰‹æœºé‡Œæ²¡æœ‰è¿™ä¸ªç‰ˆæœ¬çš„å®‰è£…åŒ…æ–‡ä»¶ï¼Œæ€ä¹ˆåŠå‘¢â€¦","text":"æœ‰æ—¶å€™ä¼šé‡åˆ°æƒ³å¿«é€Ÿæ‰¾åˆ°æ‰‹æœºçš„å®‰è£…åŒ…ï¼Œæˆ–è€…æ‰‹æœºé‡Œæ²¡æœ‰è¿™ä¸ªç‰ˆæœ¬çš„å®‰è£…åŒ…æ–‡ä»¶ï¼Œæ€ä¹ˆåŠå‘¢â€¦ adb å–å‡ºåœ¨æ‰‹æœºä¸­å®‰è£…çš„apkåˆ—å‡ºæ‰€æœ‰å®‰è£…çš„apk1adb shell pm list packages æ‰¾å‡ºè‡ªå·±æƒ³è¦å–å‡º çš„ apk åŒ…åï¼ˆcom.taobao.taobaoï¼‰æ‰“å° apk çš„è·¯å¾„ï¼ˆåé¢æ‹¼ä¸ŠåŒ…åï¼‰1adb shell pm path com.taobao.taobao package åé¢å³ä¸ºè·¯å¾„ å¯¼å‡º apkï¼Œpull åçš„æ˜¯è¦å¯¼å‡ºçš„ apk è·¯å¾„ï¼Œåé¢è·Ÿä¸Šä½ è¦å¯¼å‡ºçš„è·¯å¾„1adb pull /data/app/com.taobao.taobao-v9lhnghOe8tvxgfkp4AfDQ==/base.apk /Users/liangyanqiao/Downloads/adbpull/taobao.apk è¿›åº¦ å®Œæˆ æ–‡ä»¶å¤¹æ²¡æœ‰åˆ›å»ºï¼Œä¼šæç¤ºå¼‚å¸¸ï¼Œéœ€è¦è‡ªå·±ä¸ªåˆ›å»º å¯¼å‡º Finder","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"}]},{"title":"View çš„äº‹ä»¶åˆ†å‘æœºåˆ¶å’Œè§¦æ‘¸åé¦ˆæœºåˆ¶åŸç†è§£æ","slug":"View-çš„äº‹ä»¶åˆ†å‘å’Œè§¦æ‘¸åé¦ˆæœºåˆ¶åŸç†è§£æ","date":"2019-03-07T15:55:54.000Z","updated":"2020-06-29T10:38:57.376Z","comments":true,"path":"f129.html","link":"","permalink":"https://leaderliang.coding.me/f129.html","excerpt":"åœ¨å­¦ä¹ å’Œå®è·µä¸­å¯¹ View äº‹ä»¶åˆ†å‘çš„ä¸€äº›ç®€å•è®¤è¯†å’Œæ€»ç»“ï¼Œä»Šå¤©æ•´ç†ä¸€ä¸‹â€¦","text":"åœ¨å­¦ä¹ å’Œå®è·µä¸­å¯¹ View äº‹ä»¶åˆ†å‘çš„ä¸€äº›ç®€å•è®¤è¯†å’Œæ€»ç»“ï¼Œä»Šå¤©æ•´ç†ä¸€ä¸‹â€¦äº‹ä»¶åˆ†å‘æœºåˆ¶çš„è¿‡ç¨‹å°±æ˜¯ä¸€ä¸ª MotionEvent äº§ç”Ÿä»¥åï¼Œç³»ç»Ÿéœ€è¦æŠŠè¿™ä¸ªäº‹ä»¶ä¼ é€’ç»™å…·ä½“çš„viewï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯äº‹ä»¶åˆ†å‘è¿‡ç¨‹ã€‚ View çš„äº‹ä»¶åˆ†å‘æœºåˆ¶MotionEvent äº‹ä»¶ç±»å‹ äº‹ä»¶ç±»å‹ MotionEvent çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå°±æ˜¯æŒ‡ MotionEvent å¯¹è±¡æ‰€ä»£è¡¨çš„åŠ¨ä½œã€‚æ¯”å¦‚è¯´ï¼Œå½“ä½ çš„ä¸€ä¸ªæ‰‹æŒ‡åœ¨å±å¹•ä¸Šæ»‘åŠ¨ä¸€ä¸‹æ—¶ï¼Œç³»ç»Ÿä¼šäº§ç”Ÿä¸€ç³»åˆ—çš„è§¦æ‘¸äº‹ä»¶å¯¹è±¡,ä»–ä»¬æ‰€ä»£è¡¨çš„åŠ¨ä½œæœ‰æ‰€ä¸åŒã€‚æœ‰çš„äº‹ä»¶ä»£è¡¨ä½ æ‰‹æŒ‡æŒ‰ä¸‹è¿™ä¸ªåŠ¨ä½œ,æœ‰çš„äº‹ä»¶ä»£è¡¨ä½ æ‰‹æŒ‡åœ¨å±å¹•ä¸Šæ»‘åŠ¨,è¿˜æœ‰çš„äº‹ä»¶ä»£è¡¨ä½ æ‰‹æŒ‡ç¦»å¼€å±å¹•ã€‚è¿™äº›äº‹ä»¶çš„äº‹ä»¶ç±»å‹å°±åˆ†åˆ«ä¸ºACTION_DOWN,ACTION_MOVE,å’ŒACTION_UPã€‚ä¸Šè¿°è¿™äº›åŠ¨ä½œæ‰€äº§ç”Ÿçš„ä¸€ç³»åˆ—äº‹ä»¶ï¼Œè¢«ç§°ä¸ºä¸€ä¸ªäº‹ä»¶æµï¼Œå®ƒåŒ…æ‹¬ä¸€ä¸ªACTION_DOWN äº‹ä»¶ï¼Œå¾ˆå¤šä¸ª ACTION_MOVE äº‹ä»¶ï¼Œå’Œä¸€ä¸ª ACTION_UP äº‹ä»¶ã€‚ é™¤äº†å‰é¢è¯´çš„ä¸‰ä¸ªäº‹ä»¶ç±»å‹å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šä¸åŒçš„äº‹ä»¶ç±»å‹,æ¯”å¦‚ ACTION_CANCELã€‚å®ƒä»£è¡¨å½“å‰çš„æ‰‹åŠ¿è¢«å–æ¶ˆã€‚è¦ç†è§£è¿™ä¸ªç±»å‹ï¼Œå°±å¿…é¡»è¦äº†è§£ViewGroupåˆ†å‘äº‹ä»¶çš„æœºåˆ¶ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªå­è§†å›¾æ¥æ”¶äº†çˆ¶è§†å›¾åˆ†å‘ç»™å®ƒçš„ACTION_DOWNäº‹ä»¶ï¼Œé‚£ä¹ˆä¸ACTION_DOWNäº‹ä»¶ç›¸å…³çš„äº‹ä»¶æµå°±éƒ½è¦åˆ†å‘ç»™è¿™ä¸ªå­è§†å›¾ï¼Œä½†æ˜¯å¦‚æœçˆ¶è§†å›¾å¸Œæœ›æ‹¦æˆªå…¶ä¸­çš„ä¸€äº›äº‹ä»¶ï¼Œä¸å†ç»§ç»­è½¬å‘äº‹ä»¶ç»™è¿™ä¸ªå­è§†å›¾çš„è¯ï¼Œé‚£ä¹ˆå°±éœ€è¦ç»™å­è§†å›¾ä¸€ä¸ªACTION_CANCELäº‹ä»¶ã€‚ å¸¸ç”¨çš„äº‹ä»¶ç±»å‹å’Œå«ä¹‰MotionEvent è®°å½•æ‰‹æŒ‡æ¥è§¦å±å¹•ä»¥åæ‰€äº§ç”Ÿä¸€ç³»åˆ—çš„äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯äº‹ä»¶åˆ†å‘çš„å¯¹è±¡ï¼Œäº‹ä»¶çš„ç±»å‹ä¸å«ä¹‰å¦‚ä¸‹ï¼š äº‹ä»¶ç±»å‹ å…·ä½“åŠ¨ä½œ MotionEvent.ACTION_DOWN æŒ‰ä¸‹ View ï¼ˆæ‰€æœ‰äº‹ä»¶çš„å¼€å§‹ï¼‰ MotionEvent.ACTION_MOVE æ»‘åŠ¨ View MotionEvent.ACTION_UP æŠ¬èµ· View ï¼ˆä¸ DOWN å¯¹åº”ï¼‰ MotionEvent.ACTION_CANCEL å–æ¶ˆæˆ–ç»“æŸäº‹ä»¶ MotionEvent.ACTION_POINTER_DOWN ä»£è¡¨ç”¨æˆ·åˆä½¿ç”¨ä¸€ä¸ªæ‰‹æŒ‡è§¦æ‘¸åˆ°å±å¹•ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å·²ç»æœ‰ä¸€ä¸ªè§¦æ‘¸ç‚¹çš„æƒ…å†µä¸‹ï¼Œåˆæ–°å‡ºç°äº†ä¸€ä¸ªè§¦æ‘¸ç‚¹ MotionEvent.ACTION_POINTER_UP ä»£è¡¨ç”¨æˆ·çš„ä¸€ä¸ªæ‰‹æŒ‡ç¦»å¼€äº†è§¦æ‘¸å±ï¼Œä½†æ˜¯è¿˜æœ‰å…¶ä»–æ‰‹æŒ‡è¿˜åœ¨è§¦æ‘¸å±ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¤šä¸ªè§¦æ‘¸ç‚¹å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œå…¶ä¸­ä¸€ä¸ªè§¦æ‘¸ç‚¹æ¶ˆå¤±äº†ã€‚å®ƒä¸ACTION_UPçš„åŒºåˆ«å°±æ˜¯ï¼Œå®ƒæ˜¯åœ¨å¤šä¸ªè§¦æ‘¸ç‚¹ä¸­çš„ä¸€ä¸ªè§¦æ‘¸ç‚¹æ¶ˆå¤±æ—¶ï¼ˆæ­¤æ—¶ï¼Œè¿˜æœ‰è§¦æ‘¸ç‚¹å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·è¿˜æœ‰æ‰‹æŒ‡è§¦æ‘¸å±å¹•ï¼‰äº§ç”Ÿï¼Œè€ŒACTION_UPå¯ä»¥è¯´æ˜¯æœ€åä¸€ä¸ªè§¦æ‘¸ç‚¹æ¶ˆå¤±æ—¶äº§ç”Ÿ. äº‹ä»¶åˆ†å‘çš„é¡ºåº (Activity -&gt; Window -&gt; View)äº‹ä»¶æ€»æ˜¯å…ˆä¼ é€’ç»™ Activityï¼ŒActivity å†ä¼ é€’ç»™ Windowï¼Œæœ€å Window å†ä¼ é€’ç»™é¡¶çº§ View ( DecorView æœ¬è´¨æ˜¯ ViewGroupï¼ŒDecorViewä¸€èˆ¬å°±æ˜¯å½“å‰ç•Œé¢çš„åº•å±‚å®¹å™¨(å³setContentViewæ‰€è®¾ç½®çš„Viewçš„çˆ¶å®¹å™¨)ï¼Œé¡¶çº§ View æ¥æ”¶åˆ°äº‹ä»¶åï¼Œå°±ä¼šæŒ‰ç…§äº‹ä»¶åˆ†å‘æœºåˆ¶å»åˆ†å‘äº‹ä»¶ã€‚ å¦‚æœä¸€ä¸ªViewçš„ onTouchEvent è¿”å› falseï¼Œé‚£ä¹ˆå®ƒçš„çˆ¶å®¹å™¨çš„ onTouchEvent å°†ä¼šè¢«è°ƒç”¨ï¼Œä¾æ¬¡ç±»æ¨ï¼Œå¦‚æœæ‰€æœ‰çš„å…ƒç´ éƒ½ä¸å¤„ç†è¿™ä¸ªäº‹ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªäº‹ä»¶æœ€ç»ˆå°†ä¼šä¼ é€’ç»™ Activity å¤„ç†ã€‚ äº‹ä»¶åˆ†å‘æ ¸å¿ƒæ–¹æ³• æ–¹æ³•å ä½œç”¨ å¤‡æ³¨ dispatchTouchEvent(MotionEvent event) è¿›è¡Œäº‹ä»¶åˆ†å‘ æ˜¯ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨çš„æ–¹æ³•ï¼Œè‹¥äº‹ä»¶èƒ½å¤Ÿä¼ é€’ç»™å½“å‰çš„ View/ViewGroupï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°±ä¸€å®šä¼šè¢«è°ƒç”¨ onInterceptTouchEvent(MotionEvent event) è¿›è¡Œäº‹ä»¶æ‹¦æˆªæ“ä½œï¼ˆViewGroup æœ‰æ­¤æ–¹æ³•ï¼ŒView æ²¡æœ‰ï¼‰ åœ¨ dispatchTouchEvent() æ–¹æ³•ä¸­è°ƒç”¨ï¼Œå¦‚æœå½“å‰ view æ‹¦æˆªäº†æŸä¸€ä¸ªäº‹ä»¶ï¼Œé‚£ä¹ˆåŒä¸€ä¸ªäº‹ä»¶åºåˆ—å°†ä¸ä¼šå†è°ƒç”¨è¿™ä¸ªæ–¹æ³• onTouchEvent(MotionEvent event) è¿›è¡Œå¤„ç†ä¸Šé¢æåˆ°çš„äº‹ä»¶æµ onTouchEvent æ˜¯åœ¨ dispatchTouchEvent() æ–¹æ³•ä¸­è¢«è°ƒç”¨çš„ï¼Œ äº‹ä»¶åˆ†å‘å›¾ç¤ºï¼ˆçˆ¶ View/ ViewGroup åˆ°å­ View çš„äº‹ä»¶åˆ†å‘è¿‡ç¨‹ï¼‰å¦‚ä¸‹å›¾ï¼š ç®€å•æ¥è¯´ï¼Œview çš„ dispatchTouchEvent è‡ªèº«åšçš„äº‹æƒ…å¹¶ä¸å¤šï¼Œä¸»è¦æ˜¯ onTouchEvent()ï¼›æ€»ç»“ä¸€ä¸‹å°±æ˜¯ çˆ¶ view é€’å½’çš„è°ƒç”¨ å­ view çš„ dispatchTouchEvent çš„è¿‡ç¨‹ã€‚ ä¼ªä»£ç æ¼”ç¤ºä¸‹ä»–ä»¬çš„è°ƒç”¨å…³ç³»ï¼š 12345678910111213141516171819View.dispatchTouchEvent();public boolean dispatchTouchEvent(MotionEvent event) &#123; return onTouchEvent();&#125;ViewGroup.dispatchTouchEvent();public boolean dispatchTouchEvent(MotionEvent event) &#123; boolean result; if (interceptTouchEvent())&#123; result = onTouchEvent(); &#125; else &#123; result = è°ƒç”¨å­ view çš„ .dispatchTouchEvent(); &#125; return result;&#125; æŠŠ result ç»“æœè®°å½•ï¼Œç„¶åè¿”å›ï¼ˆä¸‹æ¬¡åœ¨æ‰§è¡Œæ—¶å€™ç›´æ¥ä¼šæ ¹æ®ä¸Šæ¬¡è®°å½•çš„ result è¿›è¡Œæ“ä½œ,åŒä¸€ä¸ªäº‹ä»¶åºåˆ—å°†ä¸ä¼šå†è°ƒç”¨ï¼‰ é€šè¿‡ä¸Šé¢çš„ä¼ªä»£ç ï¼Œå¯ä»¥å¤§è‡´äº†è§£ç‚¹å‡»äº‹ä»¶çš„ä¼ é€’è§„åˆ™ï¼šå¯¹äºä¸€ä¸ªæ ¹ ViewGroup æ¥è¯´ï¼Œç‚¹å‡»äº‹ä»¶äº§ç”Ÿåï¼Œé¦–å…ˆä¼šä¼ é€’ç»™å®ƒï¼Œè¿™æ˜¯å®ƒçš„ dispatchTouchEvent å°±ä¼šè¢«è°ƒç”¨ï¼Œå¦‚æœè¿™ä¸ª ViewGroup çš„ onInterceptTouchEvent æ–¹æ³•è¿”å› true å°±è¡¨ç¤ºå®ƒè¦æ‹¦æˆªå½“å‰äº‹ä»¶ï¼Œæ¥ç€äº‹ä»¶å°±ä¼šäº¤ç»™è¿™ä¸ª ViewGroup å¤„ç†ï¼Œè¿™æ—¶å¦‚æœå®ƒçš„ mOnTouchListener è¢«è®¾ç½®ï¼Œåˆ™ onTouch ä¼šè¢«è°ƒç”¨ï¼Œå¦åˆ™ onTouchEvent ä¼šè¢«è°ƒç”¨ã€‚åœ¨ onTouchEvent ä¸­ï¼Œå¦‚æœ è®¾ç½®äº† mOnCLickListenerï¼Œåˆ™ onClick ä¼šè¢«è°ƒç”¨ã€‚åªè¦ View çš„ CLICKABLE å’Œ LONG_CLICKABLE æœ‰ä¸€ä¸ªä¸º trueï¼ŒonTouchEvent() å°±ä¼šè¿”å› true æ¶ˆè€—è¿™ä¸ªäº‹ä»¶ã€‚å¦‚æœè¿™ä¸ª ViewGroup çš„ onInterceptTouchEvent æ–¹æ³•è¿”å› false å°±è¡¨ç¤ºå®ƒä¸æ‹¦æˆª å½“å‰äº‹ä»¶ï¼Œè¿™æ—¶å½“å‰äº‹ä»¶å°±ä¼šç»§ç»­ä¼ é€’ç»™å®ƒçš„å­å…ƒç´ ï¼Œæ¥ç€å­å…ƒç´ çš„ dispatchTouchEvent æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ï¼Œå¦‚æ­¤åå¤ç›´åˆ°äº‹ä»¶è¢«æœ€ç»ˆå¤„ç†å®Œã€‚ æœªå®Œå¾…ç»­â€¦","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"è‡ªå®šä¹‰ View","slug":"android/customize-view","permalink":"https://leaderliang.coding.me/categories/android/customize-view/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"}]},{"title":"Linux / Mac å·¥ä½œå¸¸ç”¨å‘½ä»¤è¡Œæ€»ç»“","slug":"Linux-Mac-å·¥ä½œå¸¸ç”¨å‘½ä»¤è¡Œæ€»ç»“","date":"2019-03-02T06:47:00.000Z","updated":"2019-03-11T13:45:22.454Z","comments":true,"path":"ffda.html","link":"","permalink":"https://leaderliang.coding.me/ffda.html","excerpt":"mac å¸¸ç”¨å‘½ä»¤è¡Œç®€å•æ€»ç»“ï¼Œæå‡å¼€å‘æ•ˆç‡","text":"mac å¸¸ç”¨å‘½ä»¤è¡Œç®€å•æ€»ç»“ï¼Œæå‡å¼€å‘æ•ˆç‡ æ—¥å¸¸æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶æ“ä½œcd æ˜¯è‹±æ–‡ change directory çš„ç¼©å†™ï¼Œæ›´æ”¹ç›®å½•çš„æ„æ€(å·§ç”¨ Tab é”®ä¼šè‡ªåŠ¨è¡¥é½)è¦è¿›å…¥æˆ‘ä»¬çš„å®¶ç›®å½• 1cd ~ æˆ‘ä»¬è¦è¿›å…¥ä¸‹è½½ç›®å½• 1cd ~/Downloads/ éœ€è¦è¿”å›ä¸Šçº§ç›®å½•ï¼ˆåœ¨ linux ç³»ç»Ÿä¸­ . ä»£è¡¨å½“å‰ç›®å½•ï¼Œ..ä»£è¡¨ä¸Šçº§ç›®å½•ã€‚å¦‚æœæ˜¯ä¸Šçº§çš„ä¸Šçº§ç›®å½•ï¼Œå°±æ˜¯ ../..ï¼‰ 1cd .. ls æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶å½“æˆ‘ä»¬è¿›å…¥åˆ°æŸä¸ªæ–‡ä»¶å¤¹ä¹‹åï¼Œæˆ‘ä»¬ä¸çŸ¥é“é‡Œé¢æœ‰ä»€ä¹ˆæ–‡ä»¶ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼ˆls æ˜¯è‹±æ–‡ list çš„ç¼©å†™ï¼‰ 1ls å¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥çœ‹æ›´å¤šçš„å†…å®¹ï¼Œå°±å¯ä»¥åœ¨ ls ååŠ ä¸Š -l å‚æ•°ï¼ˆæ‰§è¡Œå®Œå°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªä»¥åˆ—è¡¨çš„å½¢å¼æŠŠæ‰€æœ‰çš„å†…å®¹å…¨éƒ¨è¾“å‡ºï¼‰ 1ls -l æŸ¥çœ‹éšè—çš„æ–‡ä»¶ 1ls -a ls -l ä¹Ÿå¯ä»¥å’Œ ls -a ç»„åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥è‡ªå·±æŸ¥çœ‹ä¸‹æ•ˆæœå“ˆ 1ls -la linux/mac ç³»ç»Ÿå’Œ windows ç³»ç»Ÿæœ‰ä¸€ä¸ªå¾ˆå¤§çš„åŒºåˆ«ï¼Œå°±æ˜¯ï¼Œéšè—æ–‡ä»¶ã€‚åœ¨ linux é‡Œï¼Œåªè¦ä¸€ä¸ªæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹çš„åå­—ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ä»¥ . å¼€å¤´ï¼Œå°±è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªéšè—æ–‡ä»¶ã€‚è€Œ windows ç³»ç»Ÿæ˜¯å³é”®æ–‡ä»¶å±æ€§æ¥è®¾ç½®çš„ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨ linux ç³»ç»Ÿï¼Œä½ å¦‚æœæƒ³è¦ç»™æŸä¸ªæ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶éšè—ï¼Œå³å‡»å±æ€§æ˜¯æ²¡æœ‰è¿™äº›æ“ä½œçš„ã€‚åªéœ€é‡å‘½åæ–‡ä»¶ï¼ŒåŠ ä¸ª . å³å¯å¯¹æ–‡ä»¶è®¾ç½®éšè—ã€‚ ls æ›´å¤šæ‹“å±•å¯ä»¥æŸ¥çœ‹ Linuxå‘½ä»¤å¤§å…¨ clear æ¸…ç©ºå±å¹•çš„å†…å®¹1clear mv ç§»åŠ¨1mv index/text.html html/ å°† index ç›®å½•ä¸‹çš„ text.html æ–‡ä»¶è½¬ç§»åˆ° html ä¸‹ cp å¤åˆ¶æ–‡ä»¶å’Œæ–‡ä»¶å¤¹mv å‘½ä»¤ä¸€æ ·ï¼Œä¹Ÿæ˜¯å¯ä»¥è·¨ç›®å½•å¤åˆ¶çš„ 1cp index/text.html html/ å¦‚æœä½ éœ€è¦ä¿ç•™æ–‡ä»¶æ‰€æœ‰çš„æƒé™å±æ€§ä¹‹ç±»çš„ï¼Œå¯ä»¥åŠ ä¸Šå‚æ•° -a 1cp -a a b å¦‚æœä½ å¤åˆ¶çš„ä¸æ˜¯æ–‡ä»¶ï¼Œè€Œæ˜¯æ–‡ä»¶å¤¹ï¼Œåˆ™è¦åŠ ä¸Šä¸€ä¸ªé€’å½’çš„å‚æ•° -r 1cp -r a b å¤åˆ¶æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”è¦ä¿ç•™æ‰€æœ‰çš„æƒé™å±æ€§ï¼Œå¯ä»¥åŠ ä¸Šå‚æ•° -ra 1cp -ra a b å¦‚æœä½ å¤åˆ¶çš„æ–‡ä»¶å¤¹é‡Œé¢æœ‰å¾ˆå¤šå†…å®¹ï¼Œä½ æƒ³çœ‹åˆ°å®æ—¶è¿›åº¦çš„è¯ï¼Œå¯ä»¥ç”¨ -v å‚æ•° 1cp -v a b rm åˆ é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ æ³¨æ„ï¼Œ rm å‘½ä»¤è¿›è¡Œçš„åˆ é™¤æ“ä½œï¼Œæ˜¯ä¸ä¼šæ”¾åˆ°ç³»ç»Ÿçš„å›æ”¶ç«™é‡Œé¢å»çš„ã€‚è€Œæ˜¯ç›´æ¥åˆ é™¤ï¼Œå¦‚æœä½ å¸Œæœ›é€šè¿‡è½¯ä»¶æŠŠæ–‡ä»¶æ‰¾å›æ¥çš„è¯ï¼Œä¹Ÿæ˜¯å¾ˆå›°éš¾çš„ã€‚æ‰€ä»¥ï¼Œåœ¨è¾“å…¥ rm å‘½ä»¤çš„æ—¶å€™ä¸€å®šè°¨æ…äº›ï¼ åˆ é™¤æŸä¸ªå…·ä½“çš„æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å‘½ä»¤è¡Œé‡Œå¸¦è·¯å¾„çš„æ–‡ä»¶ï¼Œæˆ–è€…æ–‡ä»¶å¤¹ 1rm file å¦‚æœåˆ é™¤çš„æ˜¯æŸä¸ªç›®å½•ï¼Œæˆ–è€…å¸¦ç›®å½•çš„æ–‡ä»¶ï¼Œç›´æ¥ç”¨ä¸Šé¢çš„å‘½ä»¤æ˜¯ä¸è¡Œçš„ã€‚åˆ é™¤ç›®å½•å¿…é¡»è¿›è¡Œé€’å½’æ“ä½œï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Šå‚æ•° -r ã€‚ ç›´æ¥rmå°±å¯ä»¥äº†ï¼Œä¸è¿‡è¦åŠ ä¸¤ä¸ªå‚æ•°-rf å³ï¼šrm -rf ç›®å½•åå­—ã€‚è‹¥åˆ é™¤æ—¶å‡ºç° Permission denied çš„æç¤ºï¼Œå¯ä»¥åœ¨å‘½ä»¤å‰åŠ sudo å³:sudo rm -rf æ–‡ä»¶å¤¹çš„åå­—ï¼Œå³å¯åˆ é™¤ã€‚æé†’ï¼šä½¿ç”¨è¿™ä¸ªrm -rfçš„æ—¶å€™ä¸€å®šè¦æ ¼å¤–å°å¿ƒï¼Œrm å‘½ä»¤æ‰§è¡Œåæ˜¯ä¸ä¼šåˆ°ç³»ç»Ÿå›æ”¶ç«™çš„ä¹Ÿæ— æ³•æ¢å¤è§£é‡Šï¼š-r å‘ä¸‹é€’å½’ï¼Œä¸ç®¡æœ‰å¤šå°‘çº§ç›®å½•ï¼Œä¸€å¹¶åˆ é™¤-f ç›´æ¥å¼ºè¡Œåˆ é™¤ï¼Œä¸ä½œä»»ä½•æç¤ºçš„æ„æ€ 123rm -r filePathrm -r filePath/filerm -rf /Users/liangyanqiao/MacDev/Hexo/themes/hexo-theme-skapp touch æ–°å»ºæ–‡ä»¶åˆ›å»ºä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶(åˆ›å»ºä»»æ„æ–‡ä»¶,åªéœ€è¦åŠ ä¸Šä¸åŒçš„åç¼€å°±å¯ä»¥å•¦) 12touch a.txttouch a.txt b.png c.doc mkdir æ–°å»ºæ–‡ä»¶å¤¹mkdir ä»å­—é¢ä¸Šå¯ä»¥çœ‹å‡ºæ˜¯è‹±æ–‡ make directory çš„ç¼©å†™ æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹æˆ–è€…å¤šä¸ªæ–‡ä»¶å¤¹ 1mkdir a b c d æ–°å»ºå¤šå±‚çº§çš„ç›®å½•ï¼Œè¿™å°±éœ€è¦åŠ ä¸Šå‚æ•° -pï¼Œc ååŠ  / ä¹Ÿå¯ä»¥ 12mkdir -p a/b/cmkdir -p a/b/c/ less æŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶1less a.txt pwd æ˜¾ç¤ºå½“å‰ç”¨æˆ·æ‰€åœ¨çš„å®Œæ•´è·¯å¾„return working directory name 1âœ Downloads pwd è¾“å‡º 1/Users/liang/Downloads man æŸ¥çœ‹æŸä¸ªå‘½ä»¤çš„è¯¦æƒ…1man pwd Macç»ˆç«¯ vi/vim çš„ç®€å•ä½¿ç”¨åŸºæœ¬ä¸Š vi/vim å…±åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰ï¼Œæ’å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰å’Œåº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰ å‘½ä»¤æ¨¡å¼ï¼šç”¨æˆ·åˆšåˆšå¯åŠ¨ vi/vimï¼Œä¾¿è¿›å…¥äº†å‘½ä»¤æ¨¡å¼ã€‚ i åˆ‡æ¢åˆ°æ’å…¥æ¨¡å¼ï¼Œä»¥è¾“å…¥å­—ç¬¦ã€‚ x åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦ã€‚ : åˆ‡æ¢åˆ°åº•çº¿å‘½ä»¤æ¨¡å¼ï¼Œä»¥åœ¨æœ€åº•ä¸€è¡Œè¾“å…¥å‘½ä»¤ã€‚ è‹¥æƒ³è¦ç¼–è¾‘æ–‡æœ¬ï¼šå¯åŠ¨Vimï¼Œè¿›å…¥äº†å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ä¸‹iï¼Œåˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼è¾“å…¥æ¨¡å¼ï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹ i å°±è¿›å…¥äº†è¾“å…¥æ¨¡å¼ã€‚ åœ¨è¾“å…¥æ¨¡å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‰é”®ï¼š ENTER(å›è½¦é”®) æ¢è¡Œ BACK SPACE(é€€æ ¼é”®) åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦ æ–¹å‘é”® åœ¨æ–‡æœ¬ä¸­ç§»åŠ¨å…‰æ ‡ HOME/END ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–/è¡Œå°¾ Page Up/Page Down ä¸Š/ä¸‹ç¿»é¡µ ESC é€€å‡ºè¾“å…¥æ¨¡å¼ï¼Œåˆ‡æ¢åˆ°å‘½ä»¤æ¨¡å¼åº•çº¿å‘½ä»¤æ¨¡å¼ï¼š1234567891011åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹ :ï¼ˆè‹±æ–‡å†’å·ï¼‰å°±è¿›å…¥äº†åº•çº¿å‘½ä»¤æ¨¡å¼ã€‚åº•çº¿å‘½ä»¤æ¨¡å¼å¯ä»¥è¾“å…¥å•ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„å‘½ä»¤ï¼Œå¯ç”¨çš„å‘½ä»¤éå¸¸å¤šã€‚åœ¨åº•çº¿å‘½ä»¤æ¨¡å¼ä¸­ï¼ŒåŸºæœ¬çš„å‘½ä»¤æœ‰ï¼ˆå·²ç»çœç•¥äº†å†’å·ï¼‰ï¼šq é€€å‡ºç¨‹åºw ä¿å­˜æ–‡ä»¶æŒ‰ ESC é”®å¯éšæ—¶é€€å‡ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚ vi/vim ä½¿ç”¨å®ä¾‹ä½¿ç”¨ vi æ¥å»ºç«‹åä¸º test.txt çš„æ–‡ä»¶ 1vi test.txt æŒ‰ä¸‹ ESC æŒ‰é’®å›åˆ°ä¸€èˆ¬æ¨¡å¼ åœ¨ä¸€èˆ¬æ¨¡å¼ä¸­æŒ‰ä¸‹ :wq å‚¨å­˜åç¦»å¼€ vi vi/vim æŒ‰é”®è¯´æ˜(ä¸€èˆ¬æ¨¡å¼ä¸‹)12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273h æˆ– å‘å·¦ç®­å¤´é”®(â†) å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦j æˆ– å‘ä¸‹ç®­å¤´é”®(â†“) å…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦k æˆ– å‘ä¸Šç®­å¤´é”®(â†‘) å…‰æ ‡å‘ä¸Šç§»åŠ¨ä¸€ä¸ªå­—ç¬¦l æˆ– å‘å³ç®­å¤´é”®(â†’) å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦å¦‚æœä½ å°†å³æ‰‹æ”¾åœ¨é”®ç›˜ä¸Šçš„è¯ï¼Œä½ ä¼šå‘ç° hjkl æ˜¯æ’åˆ—åœ¨ä¸€èµ·çš„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨è¿™å››ä¸ªæŒ‰é’®æ¥ç§»åŠ¨å…‰æ ‡ã€‚ å¦‚æœæƒ³è¦è¿›è¡Œå¤šæ¬¡ç§»åŠ¨çš„è¯ï¼Œä¾‹å¦‚å‘ä¸‹ç§»åŠ¨ 30 è¡Œï¼Œå¯ä»¥ä½¿ç”¨ &quot;30j&quot; æˆ– &quot;30â†“&quot; çš„ç»„åˆæŒ‰é”®ï¼Œ äº¦å³åŠ ä¸Šæƒ³è¦è¿›è¡Œçš„æ¬¡æ•°(æ•°å­—)åï¼ŒæŒ‰ä¸‹åŠ¨ä½œå³å¯ï¼ Ctrl + f å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Down]æŒ‰é”®Ctrl + b å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Up] æŒ‰é”® 0 æˆ–åŠŸèƒ½é”®[Home] è¿™æ˜¯æ•°å­—ã€ 0 ã€ï¼šç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€å‰é¢å­—ç¬¦å¤„$ æˆ–åŠŸèƒ½é”®[End] ç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€åé¢å­—ç¬¦å¤„G ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„æœ€åä¸€è¡Œgg ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ä¸€è¡Œn&lt;Enter&gt; n ä¸ºæ•°å­—ã€‚å…‰æ ‡å‘ä¸‹ç§»åŠ¨ n è¡Œ /word å‘å…‰æ ‡ä¹‹ä¸‹å¯»æ‰¾ä¸€ä¸ªåç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚è¦åœ¨æ¡£æ¡ˆå†…æœå¯» vbird è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå°±è¾“å…¥ /vbird å³å¯n é‡å¤å‰ä¸€ä¸ªæœå¯»çš„åŠ¨ä½œN ã€åå‘ã€è¿›è¡Œå‰ä¸€ä¸ªæœå¯»åŠ¨ä½œ:n1,n2s/word1/word2/g n1 ä¸ n2 ä¸ºæ•°å­—ã€‚åœ¨ç¬¬ n1 ä¸ n2 è¡Œä¹‹é—´å¯»æ‰¾ word1 è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å°†è¯¥å­—ç¬¦ä¸²å–ä»£ä¸º word2:n1,$s/word1/word2/g ä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œå¯»æ‰¾ word1 å­—ç¬¦ä¸²ï¼Œå¹¶å°†è¯¥å­—ç¬¦ä¸²å–ä»£ä¸º word2:n1,$s/word1/word2/gc ä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œå¯»æ‰¾ word1 å­—ç¬¦ä¸²ï¼Œå¹¶å°†è¯¥å­—ç¬¦ä¸²å–ä»£ä¸º word2 ï¼ä¸”åœ¨å–ä»£å‰æ˜¾ç¤ºæç¤ºå­—ç¬¦ç»™ç”¨æˆ·ç¡®è®¤ (confirm) æ˜¯å¦éœ€è¦å–ä»£ x å‘ååˆ é™¤ä¸€ä¸ªå­—ç¬¦X å‘å‰åˆ é™¤ä¸€ä¸ªå­—ç¬¦ dd åˆ é™¤æ¸¸æ ‡æ‰€åœ¨çš„é‚£ä¸€æ•´è¡Œndd n ä¸ºæ•°å­—ã€‚åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œ(åŒ…æ‹¬æ¸¸æ ‡æ‰€åœ¨çš„é‚£ä¸€è¡Œ) yy å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨çš„é‚£ä¸€è¡Œnyy n ä¸ºæ•°å­—ã€‚å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œ p ä¸ºå°†å·²å¤åˆ¶çš„æ•°æ®åœ¨å…‰æ ‡ä¸‹ä¸€è¡Œè´´ä¸ŠP ä¸ºå°†å·²å¤åˆ¶çš„æ•°æ®åœ¨å…‰æ ‡ä¸Šä¸€è¡Œè´´ä¸Š u å¤åŸå‰ä¸€ä¸ªåŠ¨ä½œ(æ’¤é”€)Ctrl + r é‡åšä¸Šä¸€ä¸ªåŠ¨ä½œ. é‡å¤å‰ä¸€ä¸ªåŠ¨ä½œ ä¸€èˆ¬æ¨¡å¼åˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼123456789101112131415161718192021i ä»ç›®å‰å…‰æ ‡æ‰€åœ¨å¤„æ’å…¥I åœ¨ç›®å‰æ‰€åœ¨è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºæ ¼ç¬¦å¤„å¼€å§‹æ’å…¥ a ä»ç›®å‰å…‰æ ‡æ‰€åœ¨çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¤„å¼€å§‹æ’å…¥A ä»å…‰æ ‡æ‰€åœ¨è¡Œçš„æœ€åä¸€ä¸ªå­—ç¬¦å¤„å¼€å§‹æ’å…¥ o åœ¨ç›®å‰å…‰æ ‡æ‰€åœ¨çš„ä¸‹ä¸€è¡Œå¤„æ’å…¥æ–°çš„ä¸€è¡ŒO åœ¨ç›®å‰å…‰æ ‡æ‰€åœ¨å¤„çš„ä¸Šä¸€è¡Œæ’å…¥æ–°çš„ä¸€è¡Œ r åªä¼šå–ä»£å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸€ä¸ªå­—ç¬¦ä¸€æ¬¡R ä¼šä¸€ç›´å–ä»£å…‰æ ‡æ‰€åœ¨çš„æ–‡å­—ï¼Œç›´åˆ°æŒ‰ä¸‹ ESC ä¸ºæ­¢ ä¸€èˆ¬æ¨¡å¼åˆ‡æ¢åˆ°æŒ‡ä»¤è¡Œæ¨¡å¼123456789101112131415:w å°†ç¼–è¾‘çš„æ•°æ®å†™å…¥ç¡¬ç›˜æ¡£æ¡ˆä¸­:w! å¼ºåˆ¶å°†ç¼–è¾‘çš„æ•°æ®å†™å…¥ç¡¬ç›˜æ¡£æ¡ˆä¸­:q ç¦»å¼€:q! ä¸ºå¼ºåˆ¶ç¦»å¼€ä¸å‚¨å­˜æ¡£æ¡ˆ:wq å‚¨å­˜åç¦»å¼€:wq! å¼ºåˆ¶å‚¨å­˜åç¦»å¼€:set nu æ˜¾ç¤ºè¡Œå·ï¼Œè®¾å®šä¹‹åï¼Œä¼šåœ¨æ¯ä¸€è¡Œçš„å‰ç¼€æ˜¾ç¤ºè¯¥è¡Œçš„è¡Œå·:set nonu å–æ¶ˆè¡Œå·","categories":[],"tags":[{"name":"mac","slug":"mac","permalink":"https://leaderliang.coding.me/tags/mac/"},{"name":"linux","slug":"linux","permalink":"https://leaderliang.coding.me/tags/linux/"}]},{"title":"Bitmap å’Œ Drawable ç›¸å…³æ•´ç†","slug":"Bitmap-å’Œ-Drawable-ç›¸å…³æ•´ç†","date":"2019-02-27T06:23:37.000Z","updated":"2019-03-26T11:01:03.238Z","comments":true,"path":"d7ac.html","link":"","permalink":"https://leaderliang.coding.me/d7ac.html","excerpt":"Bitmap å’Œ Drawable æœ¬è´¨åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Œæ¥ä¸€èµ·ç®€å•äº†è§£ä¸‹å®ƒçš„æœ¬è´¨å§â€¦","text":"Bitmap å’Œ Drawable æœ¬è´¨åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Œæ¥ä¸€èµ·ç®€å•äº†è§£ä¸‹å®ƒçš„æœ¬è´¨å§â€¦ Bitmap å’Œ Drawable æœ¬è´¨åŒºåˆ«Bitmap æ˜¯ä»€ä¹ˆï¼Ÿå­—é¢ç†è§£æ˜¯ä½å›¾ï¼Œä½å›¾å°±æ˜¯ä¸€ä¸ªå›¾åƒçš„å®Œæ•´æ•°æ® 123456image:width:640;height:640;0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff0000ff åœ¨å†…å­˜é‡Œä»¥ä½å›¾å½¢å¼å­˜å‚¨ä¸€ä¸ªå›¾ç‰‡çš„æ‰€æœ‰åƒç´ ä¿¡æ¯ï¼Œå¯ä»¥ç”¨ä¸Šé¢çš„å½¢å¼æ¥è¡¨ç¤ºã€‚ Drawable æ˜¯ä»€ä¹ˆï¼ŸDrawable æ›´åƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç‰ˆçš„è‡ªå®šä¹‰çš„ viewï¼Œä½† Drawable åªè´Ÿè´£ç»˜åˆ¶ï¼Œåªæ˜¯ä¸€ä¸ªç»˜åˆ¶å·¥å…·ã€‚Drawable ä¸æ˜¯ä¸€ä¸ªè¢«ç»˜åˆ¶çš„å¯¹è±¡ï¼ˆpathã€circleã€line ç­‰ç­‰éƒ½æ˜¯è¢« canvas ç»˜åˆ¶çš„å¯¹è±¡ï¼‰ï¼Œæ›´åƒæ˜¯ä¸€ä¸ª viewï¼Œå®ƒæŒæœ‰ canvasï¼Œåªè´Ÿè´£ç»˜åˆ¶ï¼Œå®ƒæƒ³æ€ä¹ˆç»˜åˆ¶å°±æŒ‰ç…§è‡ªå·±è§„åˆ™å»ç»˜åˆ¶ã€‚Drawable å†…éƒ¨å­˜å‚¨çš„æ˜¯ä¸€ä¸ªç»˜åˆ¶è§„åˆ™ï¼Œè¿™ä¸ªè§„åˆ™å¯ä»¥æ˜¯ä¸€ä¸ªå…·ä½“çš„ä¸€ä¸ªå…·ä½“çš„ bitmapã€é¢œè‰²ã€æŠ½è±¡çš„çµæ´»çš„æè¿°ï¼ŒDrawable æ˜¯ä¸èƒ½å«æœ‰å…·ä½“çš„åƒç´ ä¿¡æ¯ã€‚ ç”¨ä»£ç ç®€å•ä¸¾ä¸ªä¾‹å­ 123456789101112131415161718public class DrawableView extends View &#123; Drawable drawable; public DrawableView(Context context, @Nullable AttributeSet attrs) &#123; super(context, attrs); &#125; &#123; drawable = new ColorDrawable(Color.RED); &#125; @Override protected void onDraw(Canvas canvas) &#123; super.onDraw(canvas); drawable.setBounds(100, 100, getWidth(), getHeight()); drawable.draw(canvas); &#125;&#125; è‡ªå®šä¹‰ Drawable1234567891011121314151617181920public class DrawableView extends View &#123; Drawable drawable; public DrawableView(Context context, @Nullable AttributeSet attrs) &#123; super(context, attrs); &#125; &#123; drawable = new MeshDrawable(); &#125; @Override protected void onDraw(Canvas canvas) &#123; super.onDraw(canvas);// drawable.setBounds(100, 100, getWidth(), getHeight()); drawable.setBounds(0, 0, getWidth(), getHeight()); drawable.draw(canvas); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445public class MeshDrawable extends Drawable &#123; private static final int INTERVAL = (int) Utils.dpToPixel(80); Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG); &#123; paint.setColor(Color.RED); paint.setStrokeWidth(Utils.dpToPixel(2)); &#125; @Override public void draw(@NonNull Canvas canvas) &#123; for (int i = 0; i &lt; getBounds().right; i += INTERVAL) &#123; System.out.println(&quot;å¤– i = &quot; + i ); for (int j = 0; j &lt; getBounds().bottom; j += INTERVAL) &#123; System.out.println(&quot;å†… i = &quot; + i + &quot; j = &quot; + j); // ç”» æ¨ªçº¿ canvas.drawLine(getBounds().left, j, getBounds().right, j, paint); // ç”» ç«–çº¿ canvas.drawLine(i, getBounds().top, i, getBounds().bottom, paint); &#125; &#125; &#125; @Override public void setAlpha(int alpha) &#123; paint.setAlpha(alpha); &#125; @Override public int getAlpha() &#123; return paint.getAlpha(); &#125; @Override public void setColorFilter(@Nullable ColorFilter colorFilter) &#123; paint.setColorFilter(colorFilter); &#125; @Override public int getOpacity() &#123; return paint.getAlpha() == 0 ? PixelFormat.TRANSPARENT : paint.getAlpha() == 0xff ? PixelFormat.OPAQUE : PixelFormat.TRANSLUCENT; &#125;&#125; Bitmap å’Œ Drawable ä¹‹é—´äº’ç›¸è½¬æ¢12// bitmap --&gt; DrawableDrawable drawble = new BitmapDrawable(getResources(),bitmap); è¿™ä¸¤ä¸ªç±»æœ¬èº«å°±ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå°±ä¸å­˜åœ¨ç›¸äº’è½¬æ¢çš„æ“ä½œï¼Œå¦‚æœçœŸæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œä¹Ÿæ˜¯å¯ä»¥å®ç°æ•ˆæœã€‚ å¦‚æœéè¦ Drawable â€“&gt; bitmap è½¬æ¢ï¼Œå°±åªèƒ½ç¡¬ç”»äº†ã€‚ 123456789101112131415161718192021222324252627// Drawable --&gt; bitmap/* è°ƒç”¨*/Bitmap icon = BitmapFactory.decodeResource(context.getResources(),R.drawable.icon_resource);public static Bitmap drawableToBitmap (Drawable drawable) &#123; Bitmap bitmap = null; if (drawable instanceof BitmapDrawable) &#123; BitmapDrawable bitmapDrawable = (BitmapDrawable) drawable; if(bitmapDrawable.getBitmap() != null) &#123; return bitmapDrawable.getBitmap(); &#125; &#125; if(drawable.getIntrinsicWidth() &lt;= 0 || drawable.getIntrinsicHeight() &lt;= 0) &#123; bitmap = Bitmap.createBitmap(1, 1, Bitmap.Config.ARGB_8888); // Single color bitmap will be created of 1x1 pixel &#125; else &#123; bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888); &#125; Canvas canvas = new Canvas(bitmap); drawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight()); drawable.draw(canvas); return bitmap;&#125;","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"Java","slug":"android/java","permalink":"https://leaderliang.coding.me/categories/android/java/"}],"tags":[{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/tags/java/"},{"name":"HTTP","slug":"HTTP","permalink":"https://leaderliang.coding.me/tags/HTTP/"}]},{"title":"åŠ å¯†ã€ç¼–ç ã€Hashã€åºåˆ—åŒ–å’Œå­—ç¬¦é›†","slug":"åŠ å¯†ã€ç¼–ç ã€Hashã€åºåˆ—åŒ–å’Œå­—ç¬¦é›†","date":"2019-02-13T04:16:48.000Z","updated":"2019-03-11T15:44:20.456Z","comments":true,"path":"d80f.html","link":"","permalink":"https://leaderliang.coding.me/d80f.html","excerpt":"æœ€è¿‘åœ¨å­¦ä¹  HenCoder Plus çš„äºŒæœŸè¯¾ç¨‹ï¼Œæƒ³å·©å›ºä¸€ä¸‹åŸºç¡€çš„åŒæ—¶ï¼Œä¹Ÿåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹","text":"æœ€è¿‘åœ¨å­¦ä¹  HenCoder Plus çš„äºŒæœŸè¯¾ç¨‹ï¼Œæƒ³å·©å›ºä¸€ä¸‹åŸºç¡€çš„åŒæ—¶ï¼Œä¹Ÿåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œç»“åˆè®²ä¹‰åšä¸€ä¸‹ç¬”è®°ã€‚è®°å½•åŠ å¯†ã€ç¼–ç ã€Hashã€Base64ã€å‹ç¼©ä¸è§£å‹ç¼©ã€åºåˆ—åŒ–å’Œå­—ç¬¦é›† å¯†ç å­¦å¤å…¸å¯†ç å­¦èµ·æºäºå¤ä»£æˆ˜äº‰ï¼šåœ¨æˆ˜äº‰ä¸­ï¼Œä¸ºäº†é˜²æ­¢ä¹¦ä¿¡è¢«æˆªè·åé‡è¦ä¿¡æ¯æ³„æ¼ï¼Œäººä»¬å¼€å§‹å¯¹ä¹¦ä¿¡è¿›è¡ŒåŠ å¯†ã€‚ ç§»ä½å¼åŠ å¯†å¦‚å¯†ç æ£’ï¼Œä½¿ç”¨å¸ƒæ¡ç¼ ç»•åœ¨æœ¨æ£’ä¸Šçš„æ–¹å¼æ¥å¯¹ä¹¦ä¿¡è¿›è¡ŒåŠ å¯†ã€‚ æ›¿æ¢å¼åŠ å¯†æŒ‰ç…§ä¸€å®šè§„åˆ™ä½¿ç”¨ä¸åŒçš„æ–‡å­—æ¥æ›¿æ¢æ‰åŸå…ˆçš„æ–‡å­—æ¥è¿›è¡ŒåŠ å¯†ã€‚ ç°ä»£å¯†ç å­¦ å¯ä»¥åŠ å¯†ä»»ä½•äºŒè¿›åˆ¶æ•°æ® éå¯¹ç§°åŠ å¯†çš„å‡ºç°ä½¿å¾—å¯†ç å­¦æœ‰äº†æ›´å¹¿æ³›çš„ç”¨é€”ï¼šæ•°å­—ç­¾å å¯¹ç§°åŠ å¯†åŸç†ï¼šé€šä¿¡åŒæ–¹ä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥ï¼Œä½¿ç”¨åŠ å¯†ç®—æ³•é…åˆä¸Šå¯†é’¥æ¥è¿›è¡ŒåŠ å¯†ï¼Œè§£å¯†æ—¶ä½¿ç”¨åŠ å¯†è¿‡ç¨‹çš„å®Œå…¨é€†è¿‡ç¨‹é…åˆå¯†é’¥æ¥è¿›è¡Œè§£å¯†ã€‚ä½¿ç”¨å¯†é’¥å’ŒåŠ å¯†ç®—æ³•å¯¹æ•°æ®è¿›â¾è½¬æ¢ï¼Œå¾—åˆ°çš„æ— æ„ä¹‰æ•°æ®å³ä¸ºå¯†æ–‡;ä½¿â½¤å¯†é’¥å’Œè§£å¯†ç®—æ³•å¯¹å¯†æ–‡è¿›è¡Œé€†å‘è½¬æ¢ï¼Œå¾—åˆ°åŸæ•°æ® å¯¹ç§°åŠ å¯†çš„ç»å…¸ç®—æ³•DESï¼ˆ56ä½å¯†é’¥ï¼Œå¯†é’¥å¤ªçŸ­è€Œé€æ¸è¢«å¼ƒç”¨ï¼‰ã€AESï¼ˆ128ä½ã€192ä½ã€256ä½å¯†é’¥ï¼Œç°åœ¨æœ€æµè¡Œï¼‰ å¯¹ç§°åŠ å¯†ä½œç”¨åŠ å¯†é€šä¿¡ï¼Œé˜²æ­¢ä¿¡æ¯åœ¨ä¸å®‰å…¨ç½‘ç»œä¸Šè¢«æˆªè·åï¼Œä¿¡æ¯è¢«äººè¯»å–æˆ–ç¯¡æ”¹ å¯¹ç§°åŠ å¯†ç¼ºç‚¹ä¸èƒ½åœ¨ä¸å®‰å…¨ç½‘ç»œä¸Šä¼ è¾“å¯†é’¥ï¼Œä¸€æ—¦å¯†é’¥æ³„éœ²åˆ™åŠ å¯†é€šä¿¡å¤±è´¥ã€‚ éå¯¹ç§°åŠ å¯†åŸç†ï¼šä½¿ç”¨å…¬é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†å¾—åˆ°å¯†æ–‡ï¼›ä½¿ç”¨ç§é’¥å¯¹æ•°æ®è¿›è¡Œè§£å¯†å¾—åˆ°åŸæ•°æ®ã€‚ ä½¿â½¤éå¯¹ç§°åŠ å¯†é€šä¿¡ï¼Œå¯ä»¥åœ¨ä¸å¯ä¿¡ç½‘ç»œä¸Šå°†åŒæ–¹çš„å…¬é’¥ä¼ ç»™å¯¹â½…ï¼Œç„¶ååœ¨å‘æ¶ˆæ¯å‰åˆ†åˆ«å¯¹æ¶ˆæ¯ä½¿ç”¨å¯¹æ–¹çš„å…¬é’¥æ¥åŠ å¯†å’Œä½¿â½¤â¾ƒå·±çš„ç§é’¥æ¥ç­¾åï¼Œåšåˆ°ä¸å¯ä¿¡ç½‘ç»œä¸Šçš„å¯é å¯†é’¥ä¼ æ’­åŠåŠ å¯†é€šä¿¡ã€‚ ç”±äºç§é’¥å’Œå…¬é’¥ç›¸äº’å¯è§£ï¼Œå› æ­¤éå¯¹ç§°åŠ å¯†è¿˜å¯ä»¥ç”¨äºæ•°å­—ç­¾åæŠ€æœ¯ã€‚ ç»å…¸ç®—æ³•ï¼šRSAï¼ˆå¯ç”¨äºåŠ å¯†å’Œç­¾åï¼‰ã€DSAï¼ˆä»…ç”¨äºç­¾åï¼Œä½†é€Ÿåº¦æ›´å¿«ï¼‰ä¼˜ç¼ºç‚¹ï¼š æœ‰ç‚¹ï¼šå¯ä»¥åœ¨ä¸å®‰å…¨ç½‘ç»œä¸Šä¼ è¾“å¯†é’¥ ç¼ºç‚¹ï¼šè®¡ç®—å¤æ‚ï¼Œå› æ­¤æ€§èƒ½ç›¸æ¯”å¯¹ç§°åŠ å¯†å·®å¾ˆå¤š å¯†é’¥å’Œç™»å½•å¯†ç å¯†é’¥ key åœºæ™¯ï¼šç”¨äºåŠ å¯†å’Œè§£å¯† ç›®çš„ï¼šåŠè¯æ•°æ®è¢«ç›—æ—¶ä¸ä¼šè¢«äººè¯»æ‡‚å†…å®¹ ç„¦ç‚¹ï¼šæ•°æ® ç™»å½•å¯†ç  password åœºæ™¯ï¼šç”¨æˆ·è¿›å…¥ç½‘ç«™æˆ–æ¸¸æˆå‰çš„èº«ä»½è®¤è¯ ç›®çš„ï¼šæ•°æ®æä¾›æ–¹æˆ–åº”ç”¨æœåŠ¡æ–¹å¯¹è´¦æˆ·æ‹¥æœ‰è€…æ•°æ®çš„ä¿æŠ¤ï¼Œä¿è¯ only you æ‰æä¾›æƒé™ ç„¦ç‚¹ï¼šèº«ä»½ ç¼–ç Base64æ¦‚å¿µï¼šå°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢æˆç”± 64 ä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²çš„ç¼–ç ç®—æ³• äºŒè¿›åˆ¶æ•°æ®ï¼Ÿ å¹¿ä¹‰ï¼šæ‰€æœ‰è®¡ç®—æœºæ•°æ®éƒ½æ˜¯äºŒè¿›åˆ¶æ•°æ® ç‹­ä¹‰ï¼šéæ–‡æœ¬æ•°æ® å³ ä¸ºäºŒè¿›åˆ¶æ•°æ® Base64 ç´¢å¼•è¡¨ Base64 ç”¨é€” å°†äºŒè¿›åˆ¶æ•°æ®æ‰©å……äº†å‚¨å­˜å’Œä¼ è¾“é€”å¾„(ä¾‹å¦‚å¯ä»¥æŠŠæ•°æ®ä¿å­˜åˆ°æ–‡æœ¬â½‚ä»¶ã€å¯ä»¥é€šè¿‡èŠå¤©å¯¹è¯æ¡†æˆ–çŸ­ä¿¡å½¢å¼å‘é€äºŒè¿›åˆ¶æ•°æ®ã€å¯ä»¥åœ¨ URL ä¸­åŠ å…¥ç®€å•çš„äºŒè¿›åˆ¶æ•°æ®) æ™®é€šçš„å­—ç¬¦ä¸²åœ¨ç»è¿‡ Base64 ç¼–ç åçš„ç»“æœä¼šå˜å¾—è‚‰çœ¼ä¸å¯è¯»ï¼Œå› æ­¤å¯ä»¥é€‚â½¤äºä¸€å®šæ¡ä»¶ä¸‹çš„é˜² å·çª¥(è¾ƒå°‘â½¤) Base64 ç¼ºç‚¹å› ä¸ºè‡ªèº«çš„åŸç†(6 ä½å˜ 8 ä½)ï¼Œå› æ­¤æ¯æ¬¡ Base64 ç¼–ç ä¹‹åï¼Œæ•°æ®éƒ½ä¼šå¢â¼¤çº¦ 1/3ï¼Œæ‰€ä»¥ä¼šå½±å“å­˜å‚¨å’Œä¼ è¾“æ€§èƒ½ã€‚ Base64 åŠ å¯†å›¾ç‰‡ä¼ è¾“å®‰å…¨é«˜æ•ˆï¼Ÿä¸å®‰å…¨ä¸é«˜æ•ˆï¼é¦–å…ˆï¼Œè‡ªèº«å¹¶ä¸æ˜¯åŠ å¯†ï¼Œå¦å¤– Base64 ä¼šå¯¼è‡´æ•°æ®å¢å¤§ï¼Œé™ä½ç½‘ç»œæ€§èƒ½ï¼Œå¢å¤§ç”¨æˆ·æµé‡å¼€é”€ã€‚Base64 å¯¹å›¾ç‰‡è¿›è¡Œç¼–ç çš„ç”¨å¤„åœ¨äºï¼Œæœ‰æ—¶éœ€è¦ä½¿ç”¨æ–‡æœ¬å½¢å¼æ¥ä¼ è¾“å›¾ç‰‡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ²¡æœ‰å¿…è¦ä½¿ç”¨å®ƒå¯¹å›¾ç‰‡è¿›è¡Œé¢å¤–å¤„ç†ã€‚ å‹ç¼©ä¸è§£å‹ç¼©å«ä¹‰ å‹ç¼©ï¼šå°†æ•°æ®ä½¿ç”¨æ›´å…·æœ‰å­˜å‚¨ä¼˜åŠ¿çš„ç¼–ç ç®—æ³•è¿›è¡Œç¼–ç ã€‚ è§£å‹ç¼©ï¼šå°†å‹ç¼©æ•°æ®è§£ç è¿˜åŸæˆåŸæ¥çš„å½¢å¼ï¼Œä»¥æ–¹ä¾¿ä½¿ç”¨ã€‚ ç›®çš„å‡å°æ•°æ®å ç”¨çš„å­˜å‚¨ç©ºé—´ å‹ç¼©æ˜¯ç¼–ç å—ï¼Ÿæ˜¯ç¼–ç ï¼Œç¼–ç ï¼Œæ˜¯æŒ‡æŠŠæ•°æ®ä»ä¸€ç§å½¢å¼è½¬æ¢ä¸ºå¦å¤–ä¸€ç§å½¢å¼ã€‚å‹ç¼©è¿‡ç¨‹å±äºç¼–ç è¿‡ç¨‹ï¼Œè§£å‹ç¼©è¿‡ç¨‹å±äºè§£ç è¿‡ç¨‹ã€‚ å¸¸è§å‹ç¼©ç®—æ³•DEFLATEã€JPEGã€MP3 åºåˆ—åŒ–æŠŠæ•°æ®å¯¹è±¡ï¼ˆä¸€èˆ¬æ˜¯å†…å­˜ä¸­çš„ï¼Œä¾‹å¦‚ JVM ä¸­çš„å¯¹è±¡ï¼‰è½¬æ¢æˆå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ã€‚å¯¹è±¡åœ¨ç¨‹åºå†…å­˜é‡Œçš„å­˜æ”¾å½¢å¼æ˜¯æ•£ä¹±çš„ï¼ˆå­˜æ”¾åœ¨ä¸åŒçš„å†…å­˜åŒºåŸŸã€å¹¶ä¸”ç”±å¼•ç”¨è¿›è¡Œè¿æ¥ï¼‰ï¼Œé€šè¿‡åºåˆ—åŒ–å¯ä»¥æŠŠå†…å­˜ä¸­çš„å¯¹è±¡è½¬æ¢æˆä¸€ä¸ªå­—èŠ‚åºåˆ—ï¼Œä»è€Œä½¿ç”¨ byte[] ç­‰å½¢å¼è¿›è¡Œæœ¬åœ°å­˜å‚¨æˆ–ç½‘ç»œä¼ è¾“ï¼Œåœ¨éœ€è¦çš„æ—¶å€™é‡æ–°ç»„è£…ï¼ˆååºåˆ—åŒ–ï¼‰æ¥ä½¿ç”¨ã€‚ ç›®çš„è®©å†…å­˜ä¸­çš„å¯¹è±¡å¯ä»¥è¢«å­˜å‚¨å’Œä¼ è¾“ åºåˆ—åŒ–æ˜¯ç¼–ç å—ï¼Ÿä¸æ˜¯ åºåˆ—åŒ–å’Œç¼–ç çš„åŒºåˆ«ï¼Ÿç¼–ç æ˜¯æŠŠæ•°æ®ç”±ä¸€ç§æ•°æ®æ ¼å¼è½¬æ¢æˆå¦ä¸€ç§æ•°æ®æ ¼å¼ï¼›è€Œåºåˆ—åŒ–æ˜¯æŠŠæ•°æ®ç”±å†…å­˜ä¸­çš„å¯¹è±¡ï¼ˆè€Œä¸æ˜¯æŸç§å…·ä½“çš„æ ¼å¼ï¼‰è½¬æ¢æˆå­—èŠ‚åºåˆ—ã€‚ HashæŠŠä»»æ„æ•°æ®è½¬æ¢æˆæŒ‡å®šå¤§å°èŒƒå›´ï¼ˆé€šå¸¸å¾ˆå°ï¼Œä¾‹å¦‚ 256 å­—èŠ‚ä»¥å†…ï¼‰çš„æ•°æ®ã€‚ ä½œç”¨ç›¸å½“äºä»æ•°æ®ä¸­æå‡ºæ‘˜è¦ä¿¡æ¯ï¼Œå› æ­¤æœ€ä¸»è¦ç”¨é€”æ˜¯æ•°å­—æŒ‡çº¹ã€‚ å®é™…ç”¨é€”ï¼šå”¯ä¸€æ€§éªŒè¯ã€‚ä¾‹å¦‚ java ä¸­ hashCodeï¼ˆï¼‰æ–¹æ³•ã€‚ æ€ä¹ˆé‡å†™ hashCode æ–¹æ³•ï¼ŸæŠŠ equalsï¼ˆï¼‰ æ–¹æ³•ä¸­çš„æ¯ä¸ªç”¨äºåˆ¤æ–­ç›¸ç­‰çš„å˜é‡éƒ½æ”¾è¿› hashCodeï¼ˆï¼‰ ä¸­ï¼Œä¸€èµ·ç”Ÿæˆä¸€ä¸ªå°½é‡ä¸ä¼šç¢°æ’çš„æ•´æ•°å³å¯ã€‚ å®é™…ç”¨é€” æ•°æ®å®Œæ•´æ€§éªŒè¯ã€‚ä»â½¹ç»œä¸Šä¸‹è½½â½‚ä»¶åï¼Œé€šè¿‡â½å¯¹æ–‡ä»¶çš„ Hash å€¼(ä¾‹å¦‚ MD5ã€SHA1)ï¼Œå¯ä»¥ç¡®è®¤ä¸‹è½½çš„â½‚ä»¶æ˜¯å¦æœ‰ æŸåã€‚å¦‚æœä¸‹è½½çš„â½‚ä»¶ Hash å€¼å’Œâ½‚æ–‡ä»¶æä¾›â½…ç»™å‡ºçš„ Hash å€¼â¼€è‡´ï¼Œåˆ™è¯æ˜ä¸‹è½½çš„â½‚æ–‡ä»¶æ˜¯å®Œå¥½â½†æŸ çš„ã€‚ éšç§ä¿æŠ¤ï¼ˆä¸å±äºåŠ å¯†ï¼‰ã€‚å½“é‡è¦æ•°æ®å¿…é¡»æš´ï¤¸çš„æ—¶å€™ï¼Œæœ‰äº‹å¯ä»¥é€‰æ‹©æš´ï¤¸å®ƒçš„ Hash å€¼(ä¾‹å¦‚ MD5)ï¼Œä»¥ä¿éšœåŸæ•°æ®çš„å®‰å…¨ã€‚ ä¾‹å¦‚ç½‘ç«™ç™»å½•æ—¶ï¼Œå¯ä»¥åªä¿å­˜ç”¨æˆ·å¯†ç çš„ Hash å€¼ï¼Œåœ¨æ¯æ¬¡ç™»å½•éªŒè¯æ—¶åªéœ€è¦å°†è¾“â¼Šçš„å¯†ç çš„ Hash å€¼å’Œæ•°æ®åº“ä¸­ä¿å­˜çš„ Hash å€¼ä½œâ½å¯¹å°±å¥½ï¼Œâ½¹ç«™æ— éœ€çŸ¥é“â½¤æˆ·çš„å¯†ç ã€‚è¿™æ ·ï¼Œå½“â½¹ç«™æ•°æ®å¤±çªƒæ—¶ï¼Œç”¨æˆ·ï¥§ä¼šå› ä¸ºâ¾ƒå·±çš„å¯†ç è¢«ç›—å¯¼è‡´å…¶ä»–â½¹ç«™çš„å®‰å…¨ä¹Ÿå—åˆ°å¨èƒã€‚ å¿«é€ŸæŸ¥æ‰¾ã€‚ HashMap hash æ˜¯ç¼–ç å—ï¼Ÿä¸æ˜¯ã€‚hash æ˜¯å•å‘è¿‡ç¨‹ï¼Œæ˜¯ä¸å¯é€†çš„ï¼Œæ— æ³•è¿›è¡Œé€†å‘æ¢å¤æ“ä½œï¼Œå› æ­¤ hash ä¸å±äºç¼–ç ã€‚ hash æ˜¯åŠ å¯†å—ï¼Ÿä¸æ˜¯ã€‚ hash æ˜¯å•å‘è¿‡ç¨‹ï¼Œæ— æ³•è¿›è¡Œé€†å‘æ¢å¤æ“ä½œï¼Œå› æ­¤ hash ä¸å±äºåŠ å¯†ã€‚ï¼ˆMD5 ä¸æ˜¯åŠ å¯†ï¼ï¼‰ å­—ç¬¦é›†ä¸€ä¸ªç”±æ•´æ•°å‘ç°å®ä¸–ç•Œä¸­çš„æ–‡å­—ç¬¦å·çš„ map åˆ†æ”¯ ASCII:128 ä¸ªå­—ç¬¦ï¼Œ1 å­—èŠ‚ ISO-8859-1:å¯¹ ASCII è¿›â¾è¡Œï¨ˆæ‰©å……ï¼Œ1 å­—èŠ‚ Unicode:13 ä¸‡ä¸ªå­—ç¬¦ï¼Œå¤šå­—èŠ‚ UTF-8:Unicode çš„ç¼–ç åˆ†â½€æ”¯UTF-16 :Unicode çš„ç¼–ç åˆ†â½€æ”¯ GBK / GB2312 / GB18030:ä¸­å›½â¾ƒè‡ªç ”æ ‡å‡†ï¼Œå¤šå­—èŠ‚ï¼Œå­—ç¬¦é›† + ç¼–ç ","categories":[{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/categories/java/"}],"tags":[{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/tags/java/"}]},{"title":"HTTP çš„åŸç†å’Œå·¥ä½œæœºåˆ¶å­¦ä¹ ç¬”è®°æ•´ç†","slug":"HTTP-çš„åŸç†å’Œå·¥ä½œæœºåˆ¶å­¦ä¹ ç¬”è®°æ•´ç†","date":"2019-01-30T14:27:58.000Z","updated":"2019-03-11T15:46:03.022Z","comments":true,"path":"50ea.html","link":"","permalink":"https://leaderliang.coding.me/50ea.html","excerpt":"","text":"æœ€è¿‘åœ¨å­¦ä¹  HenCoder Plus çš„äºŒæœŸè¯¾ç¨‹ï¼Œæƒ³å·©å›ºä¸€ä¸‹åŸºç¡€çš„åŒæ—¶ï¼Œä¹Ÿåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œç»“åˆè®²ä¹‰åšä¸€ä¸‹ç¬”è®°ã€‚ HTTP çš„å®šä¹‰ï¼ˆHypertext Transfer Protocolï¼‰ä¸€ç§ç½‘ç»œåè®®ä¼ è¾“åè®®ï¼Œä½äº TCP/IP åè®®æ—çš„æœ€é¡¶å±‚â€“ï¼ˆåº”ç”¨å±‚ï¼‰ï¼›è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œå’Œ HTMLï¼ˆHypertext Markup Languageï¼‰ è¶…æ–‡æœ¬æ ‡è®°ä¸€èµ·è¯ç”Ÿï¼Œç”¨äºåœ¨ç½‘ç»œä¸Šè¯·æ±‚å’Œä¼ è¾“ HTML å†…å®¹ã€‚è¶…â½‚æ–‡æœ¬ï¼Œå³ã€Œæ‰©å±•å‹â½‚æ–‡æœ¬ã€ï¼ŒæŒ‡çš„æ˜¯ HTML ä¸­å¯ä»¥æœ‰é“¾å‘åˆ«çš„â½‚æ–‡æœ¬çš„é“¾æ¥(hyperlink)ã€‚ 123456789101112&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Page Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;This is a Heading&lt;/h1&gt;&lt;p&gt;This is a paragraph.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt; HTTP çš„å·¥ä½œæ–¹å¼æµè§ˆå™¨ï¼šç”¨æˆ·è¾“å…¥åœ°å€åå›è½¦æˆ–ç‚¹å‡»é“¾æ¥ -&gt; æµè§ˆå™¨æ‹¼è£… HTTP æŠ¥â½‚å¹¶å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ -&gt; æœåŠ¡å™¨å¤„ç†ç†è¯·æ±‚å å‘é€å“åº”æŠ¥æ–‡ç»™æµè§ˆå™¨ -&gt; æµè§ˆå™¨è§£æå“åº”æŠ¥â½‚å¹¶ä½¿â½¤æ¸²æŸ“å¼•æ“æ˜¾ç¤ºåˆ°ç•Œâ¾¯ æ‰‹æœº Appï¼š â½¤æˆ·ç‚¹å‡»æˆ–ç•Œâ¾¯è‡ªåŠ¨è§¦å‘è”ç½‘éœ€æ±‚ -&gt; Android ä»£ç è°ƒâ½¤æ‹¼è£… HTTP æŠ¥â½‚å¹¶å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨å™¨ -&gt; æœåŠ¡å™¨å¤„ç†ç†è¯·æ±‚åå‘é€å“åº”æŠ¥æ–‡ç»™æ‰‹æœº -&gt; Android ä»£ç å¤„ç†å“åº”æŠ¥æ–‡å¹¶ä½œå‡ºç›¸åº”å¤„ç†ç†(å¦‚å‚¨å­˜æ•°æ®ã€åŠ â¼¯æ•°æ®ã€æ˜¾ç¤ºæ•°æ®åˆ°ç•Œé¢) URL å’Œ HTTP æŠ¥æ–‡URL æ ¼å¼ä¸‰éƒ¨åˆ†ï¼šåè®®ç±»å‹ã€æœåŠ¡å™¨åœ°å€ï¼ˆå’Œç«¯å£å·ï¼‰ã€è·¯å¾„ï¼ˆpathï¼‰åè®®ç±»å‹ï¼š //æœåŠ¡å™¨åœ°å€[:ç«¯å£å·]è·¯å¾„ æŠ¥æ–‡æ ¼å¼è¯·æ±‚æŠ¥æ–‡è¯·æ±‚è¡Œï¼š 1GET(method) + /users ï¼ˆpathï¼‰+ HTTP/1.1 (HTTP version) Headersï¼š 123Hostï¼šapi.github.com Content-Type: text/plain Content-Length: 243 Body: 1balabalabala.... å“åº”æŠ¥æ–‡ç»“æ„çŠ¶æ€è¡Œï¼š 1HTTP/1.1(HTTP version) + 200(state code) + OK (state msg) Headersï¼š 12345content-type: application/json; charset=utf-8cache-control: public, max-age=60, s-maxage=60vary: Accept,Accept-Encodingetag: W/&quot;02eec5b334b0e4c05253d3f4138daa46&quot;content-encoding: gzip Body: 123[&#123;&quot;login&quot;:&quot;mojombo&quot;,&quot;id&quot;:1,&quot;node_id&quot;:&quot;MDQ6VXNlcjE=&quot;,&quot;avatar_url&quot;:&quot;https://avatars0.githubusercontent.com/u/1?v=4&quot;,&quot;gravat...... Request Method è¯·æ±‚æ–¹æ³•GET ç‰¹ç‚¹ ç”¨æˆ·è·å–èµ„æº å¯¹æœåŠ¡å™¨æ•°æ®ä¸è¿›è¡Œä¿®æ”¹ ä¸å‘é€ Body POST ç‰¹ç‚¹ ç”¨äºå¢åŠ æˆ–ä¿®æ”¹èµ„æº å‘é€ç»™æœåŠ¡å™¨çš„å†…å®¹å†™åœ¨ Body é‡Œé¢ 12345POST /users HTTP/1.1Host: api.github.comContent-Type: application/x-www-form-urlencodedContent-Length: 13name=rengwuxian&amp;gender=male PUT ç‰¹ç‚¹ ç”¨äºä¿®æ”¹èµ„æº å‘é€ç»™æœåŠ¡å™¨çš„å†…å®¹å†™åœ¨ Body é‡Œé¢ DELETE ç‰¹ç‚¹ ç”¨äºåˆ é™¤èµ„æº ä¸å‘é€ Body HEAD ç‰¹ç‚¹ å’Œ GET ä½¿ç”¨æ–¹æ³•å®Œå…¨ç›¸åŒ å’Œ GET å”¯ä¸€åŒºåˆ«åœ¨äºï¼Œè¿”å›çš„å“åº”ä¸­æ²¡æœ‰ Body State Code çŠ¶æ€ç ä¸‰ä½æ•°å­—ï¼Œâ½¤äºå¯¹å“åº”ç»“æœåšå‡ºç±»å‹åŒ–æè¿°(å¦‚ è·å–æˆåŠŸã€å†…å®¹æœªæ‰¾åˆ°ï¼‰ 1xx:ä¸´æ—¶æ€§æ¶ˆæ¯ã€‚å¦‚:100 (ç»§ç»­å‘é€)ã€101(æ­£åœ¨åˆ‡æ¢åè®®) 2xx:æˆåŠŸã€‚æœ€å…¸å‹çš„æ˜¯ 200(OK)ã€201(åˆ›å»ºæˆåŠŸ) 3xx:é‡å®šå‘ã€‚å¦‚ 301(æ°¸ä¹…ç§»åŠ¨)ã€302(æš‚æ—¶ç§»åŠ¨)ã€304(å†…å®¹æœªæ”¹å˜) 4xx:å®¢æˆ·ç«¯é”™è¯¯ã€‚å¦‚ 400(å®¢æˆ·ç«¯è¯·æ±‚é”™è¯¯)ã€401(è®¤è¯å¤±è´¥)ã€403(è¢«ç¦â½Œæ­¢)ã€404(æ‰¾ ä¸ä¸åˆ°å†…å®¹) 5xx:æœåŠ¡å™¨å™¨é”™è¯¯ã€‚å¦‚ 500(æœåŠ¡å™¨å™¨å†…éƒ¨é”™è¯¯)ã€‚ Cache å’Œ Buffer çš„åŒºåˆ«Cache æ˜¯ç¼“å­˜ï¼Œä¸ºäº†æå‡æ•ˆç‡é€Ÿåº¦ã€‚Buffer æ˜¯ç¼“å†²ï¼Œä¸Šæ¸¸å¤šç”Ÿäº§ä¸€äº›ï¼Œç»™ä¸‹æ¸¸ä½¿ç”¨ã€‚","categories":[{"name":"ç†è®ºåŸºç¡€","slug":"theory","permalink":"https://leaderliang.coding.me/categories/theory/"}],"tags":[{"name":"HTTP","slug":"HTTP","permalink":"https://leaderliang.coding.me/tags/HTTP/"}]},{"title":"èŠèŠ Java çš„é¢å‘å¯¹è±¡ä»¥åŠæ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«?","slug":"èŠèŠ-Java-æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«","date":"2019-01-20T17:59:58.000Z","updated":"2019-03-26T11:01:15.533Z","comments":true,"path":"92d0.html","link":"","permalink":"https://leaderliang.coding.me/92d0.html","excerpt":"Java æ˜¯éå¸¸å…¸å‹çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼ŒæŒæ¡é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™å’ŒæŠ€å·§ï¼Œæ˜¯ä¿è¯é«˜è´¨é‡ä»£ç çš„åŸºç¡€ä¹‹ä¸€ã€‚é¢å‘å¯¹è±¡æä¾›çš„åŸºæœ¬æœºåˆ¶ï¼Œå¯¹äºæé«˜å¼€å‘ã€æ²Ÿé€šç­‰å„æ–¹é¢æ•ˆç‡ä¹Ÿè‡³å…³é‡è¦ã€‚","text":"Java æ˜¯éå¸¸å…¸å‹çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼ŒæŒæ¡é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™å’ŒæŠ€å·§ï¼Œæ˜¯ä¿è¯é«˜è´¨é‡ä»£ç çš„åŸºç¡€ä¹‹ä¸€ã€‚é¢å‘å¯¹è±¡æä¾›çš„åŸºæœ¬æœºåˆ¶ï¼Œå¯¹äºæé«˜å¼€å‘ã€æ²Ÿé€šç­‰å„æ–¹é¢æ•ˆç‡ä¹Ÿè‡³å…³é‡è¦ã€‚æœ€è¿‘é€šè¿‡åœ¨æå®¢æ—¶é—´é‡Œå­¦ä¹ æ¨æ™“å³°è€å¸ˆçš„è¯¾ç¨‹ï¼Œå†å›é¡¾ä¸€ä¸‹ java æ–¹é¢çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œåœ¨è¿™é‡Œç®€å•è®°å½•ä¸€ä¸‹ã€‚ é¢å‘å¯¹è±¡è°ˆåˆ°é¢å‘å¯¹è±¡ï¼Œæˆ‘ä»¬ä¸€å®šè¦æ¸…æ¥šé¢å‘å¯¹è±¡çš„åŸºæœ¬è¦ç´ ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€‚ é¢å‘å¯¹è±¡çš„åŸºæœ¬è¦ç´ å°è£…ç›®çš„æ˜¯éšè—äº‹åŠ¡å†…éƒ¨çš„å®ç°ç»†èŠ‚ï¼Œä»¥ä¾¿æé«˜å®‰å…¨æ€§å’Œç®€åŒ–ç¼–ç¨‹ã€‚å°è£…æä¾›äº†åˆç†çš„è¾¹ç•Œï¼Œé¿å…å¤–éƒ¨è°ƒç”¨è€…æ¥è§¦åˆ°å†…éƒ¨çš„ç»†èŠ‚ã€‚æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå› ä¸ºæ— æ„é—´æš´éœ²äº†ç»†èŠ‚å¯¼è‡´çš„éš¾ç¼  bug å¤ªå¤šäº†ï¼Œæ¯”å¦‚åœ¨å¤šçº¿ç¨‹ç¯å¢ƒæš´éœ²å†…éƒ¨çŠ¶æ€ï¼Œå¯¼è‡´çš„å¹¶å‘ä¿®æ”¹é—®é¢˜ã€‚ä»å¦å¤–ä¸€ä¸ªè§’åº¦çœ‹ï¼Œå°è£…è¿™ç§éšè—ï¼Œä¹Ÿæä¾›äº†ç®€åŒ–çš„ç•Œé¢ï¼Œé¿å…å¤ªå¤šæ— æ„ä¹‰çš„ç»†èŠ‚æµªè´¹è°ƒç”¨è€…çš„ç²¾åŠ›ã€‚ ç»§æ‰¿æ˜¯ä»£ç å¤ç”¨çš„åŸºç¡€æœºåˆ¶.ä½†è¦æ³¨æ„ï¼Œç»§æ‰¿å¯ä»¥çœ‹ä½œæ˜¯éå¸¸ç´§è€¦åˆçš„ä¸€ç§å…³ç³»ï¼Œçˆ¶ç±»ä»£ç ä¿®æ”¹ï¼Œå­ç±»è¡Œä¸ºä¹Ÿä¼šå˜åŠ¨ã€‚åœ¨å®è·µä¸­ï¼Œè¿‡åº¦æ»¥ç”¨ç»§æ‰¿ï¼Œå¯èƒ½ä¼šèµ·åˆ°åæ•ˆæœã€‚ å¤šæ€è¯´åˆ°å¤šæ€ï¼Œå¯èƒ½ç«‹å³ä¼šæƒ³åˆ°é‡å†™ï¼ˆoverrideï¼‰å’Œé‡è½½ï¼ˆoverloadï¼‰ã€å‘ä¸Šè½¬å‹ã€‚é‡å†™æ˜¯çˆ¶å­ç±»ä¸­ç›¸åŒåå­—å’Œå‚æ•°çš„æ–¹æ³•ï¼Œä¸åŒçš„å®ç°ï¼›é‡è½½åˆ™æ˜¯ç›¸åŒåå­—çš„æ–¹æ³•ï¼Œä½†æ˜¯ä¸åŒçš„å‚æ•°ï¼Œæœ¬è´¨ä¸Šè¿™äº›æ–¹æ³•ç­¾åæ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸ºäº†æ›´å¥½è¯´æ˜ï¼Œè¯·å‚è€ƒä¸‹é¢çš„æ ·ä¾‹ä»£ç ï¼š 12345678910111213public int doSomething() &#123; return 0;&#125;/*è¾“å…¥å‚æ•°ä¸åŒï¼Œæ„å‘³ç€æ–¹æ³•ç­¾åä¸åŒï¼Œé‡è½½çš„ä½“ç°*/ public int doSomething(List&lt;String&gt; strs) &#123; return 0;&#125;/*return ç±»å‹ä¸ä¸€æ ·ï¼Œç¼–è¯‘ä¸èƒ½é€šè¿‡;æ–¹æ³•åç§°å’Œå‚æ•°ä¸€è‡´ï¼Œä½†æ˜¯è¿”å›å€¼ä¸åŒï¼Œè¿™ç§æƒ…å†µåœ¨ Java ä»£ç ä¸­ä¸ç®—æœ‰æ•ˆçš„é‡è½½*/ public short doSomething(List&lt;String&gt; strs) &#123; return 0;&#125; é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ï¼ˆS.O.L.I.Dï¼‰è‹±æ–‡ç®€ç§° | è‹±æ–‡æè¿° | ä¸­æ–‡åç§°â€”|â€”OCP | Open Closed Principle | å¼€æ”¾å°é—­åŸåˆ™SRP | Single Responsibility Principle | å•ä¸€èŒè´£åŸåˆ™LSP | Liskov Substitution Principle | é‡Œæ°æ›¿æ¢åŸåˆ™ISP | Interface Segregation Principle | æ¥å£åˆ†ç¦»åŸåˆ™DIP | Dependency Inversion Principle | ä¾èµ–å€’ç½®åŸåˆ™ ä¸‹é¢é€šä¿—è§£é‡Šå‚è€ƒæ¥æºï¼šCSDN xiong_itï¼Œæ„Ÿè°¢~ å¼€å…³åŸåˆ™ï¼ˆå¼€é—­åŸåˆ™ï¼‰ï¼ˆOpen-Close, Open for extension, close for modification Principleï¼‰ å¼€é—­åŸåˆ™å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼Œå¹¶ä¸æ„å‘³ç€ä¸åšä»»ä½•ä¿®æ”¹ï¼Œä½å±‚æ¬¡æ¨¡å—çš„å˜åŒ–ï¼Œå¿…ç„¶è¦æœ‰é«˜å±‚æ¨¡å—è¿›è¡Œè€¦åˆï¼Œå¦åˆ™å°±æ˜¯ä¸€ä¸ªå­¤ç«‹æ— æ„ä¹‰çš„ä»£ç ç‰‡æ®µã€‚åœ¨ä¸šåŠ¡è§„åˆ™æ”¹å˜çš„æƒ…å†µä¸‹é«˜å±‚æ¨¡å—å¿…é¡»æœ‰éƒ¨åˆ†æ”¹å˜ä»¥é€‚åº”æ–°ä¸šåŠ¡ï¼Œæ”¹å˜è¦å°½é‡åœ°å°‘ï¼Œé˜²æ­¢å˜åŒ–é£é™©çš„æ‰©æ•£ã€‚â€”ç§¦å°æ³¢ã€Šè®¾è®¡æ¨¡å¼ä¹‹ç¦…ã€‹ è®¾è®¡è¦å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚æ¢å¥è¯è¯´ï¼Œç¨‹åºè®¾è®¡åº”ä¿è¯å¹³æ»‘çš„æ‰©å±•æ€§ï¼Œå°½é‡é¿å…å› ä¸ºæ–°å¢åŒç±»åŠŸèƒ½è€Œä¿®æ”¹å·²æœ‰å®ç°ï¼Œè¿™æ ·å¯ä»¥å°‘äº§å‡ºäº›å›å½’ï¼ˆregressionï¼‰é—®é¢˜ã€‚ é€šä¿—è§£é‡Šï¼šä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚ç±»ã€æ¨¡å—å’Œå‡½æ•°åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚OCP æ˜¯ 6 å¤§åŸåˆ™çš„æœ€é«˜çº²é¢†ï¼Œæ‰€ä»¥æ‰å¦‚æ­¤æŠ½è±¡ï¼Œæ™¦æ¶©éš¾æ‡‚ã€‚ç”¨é¢å‘å¯¹è±¡çš„è¯­è¨€æ¥è®²ï¼ŒOCPï¼ˆå¼€é—­åŸåˆ™ï¼‰ æ˜¯ä¸€ä¸ªæœ€æŠ½è±¡çš„æ¥å£ï¼Œè€Œå…¶ä½™çš„5å¤§åŸåˆ™åªæ˜¯OCPçš„å­ç±»æ¥å£ï¼Œä»–ä»¬ä¸€èµ·å®šä¹‰äº† OOP ä¸–ç•Œçš„å¼€å‘æ ‡å‡†ï¼Œå¸¸ç”¨çš„ 23 ç§è®¾è®¡æ¨¡å¼æ›´æ˜¯åªèƒ½ç®—ä½œè¿™ 6 å¤§åŸåˆ™çš„å®ç°æŠ½è±¡ç±»ï¼Œå’±ä»¬å¼€å‘çš„ä»£ç å®è·µæ‰æ˜¯çœŸæ­£çš„å…·ä½“å­ç±»ã€‚ å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principleï¼‰ç±»æˆ–è€…å¯¹è±¡æœ€å¥½æ˜¯åªæœ‰å•ä¸€èŒè´£ï¼Œåœ¨ç¨‹åºè®¾è®¡ä¸­å¦‚æœå‘ç°æŸä¸ªç±»æ‰¿æ‹…ç€å¤šç§ä¹‰åŠ¡ï¼Œå¯ä»¥è€ƒè™‘è¿›è¡Œæ‹†åˆ†ã€‚ é€šä¿—è§£é‡Šï¼šåº”è¯¥æœ‰ä¸”åªæœ‰ä¸€ä¸ªåŸå› å¼•èµ·ç±»çš„å˜æ›´ã€‚ï¼ˆä¸€ä¸ªç±»ï¼Œä¸€ä¸ªæ–¹æ³•åªåº”è¯¥åšä¸€ä»¶äº‹æƒ…ï¼‰ è¿™ç§æ–¹å¼æ˜¯å¦‚ä½•ä½“ç°æ‰©å±•æ€§çš„å‘¢ï¼Ÿæ‹¿ä¸€ä¸ªAndroidä¸­æœ€å¸¸è§çš„ImageLoaderçš„è®¾è®¡æ¥ä¸¾ä¾‹å­ï¼ŒImageLoaderä¸»è¦éœ€è¦å®ç°2ä¸ªåŠŸèƒ½ï¼Œä¸‹è½½å›¾ç‰‡ï¼Œç¼“å­˜å›¾ç‰‡ã€‚å‡å¦‚ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰çš„åŠŸèƒ½å…¨éƒ¨æ”¾åœ¨ä¸€ä¸ªImageLoaderç±»ä¸­ï¼Œå‡è®¾ä¸‹è½½è¦æ”¹æ–¹å¼å‘¢ï¼Ÿç¼“å­˜è¦æ”¹ç­–ç•¥å‘¢ï¼Ÿä½ é€šé€šè¦æ”¹ImageLoaderï¼Œä½ å¦‚ä½•ä¿è¯ä¿®æ”¹æŸä¸ªåŠŸèƒ½çš„è¿‡ç¨‹ä¸­å¦ä¸€ä¸ªåŠŸèƒ½ä¾æ—§å®Œå¥½ï¼Œæ²¡è¢«æ±¡æŸ“ï¼Ÿæ‹†åˆ†èŒè´£ï¼Œä½¿ç”¨ImageCacheæ¥å£åŠå…¶å­ç±»å®ç°è¿›è¡Œç¼“å­˜ï¼Œå’ŒImageLoaderå»ºç«‹å…³è”ï¼ŒèŒè´£å•ä¸€äº†ï¼Œä½ å†åœ¨æ¯ä¸ªå•ä¸€çš„èŒè´£ç±»é‡Œé¢å»ä¿®æ”¹ç›¸å…³ä»£ç ï¼Œè¿™æ ·å…¶ä»–åŠŸèƒ½ä»£ç è¢«æ±¡æŸ“çš„æ¦‚ç‡å¤§å¤§é™ä½ã€‚å½“ç„¶ï¼Œè¿™é‡Œåªæ˜¯éšæ„ä¸¾çš„ä¾‹å­ï¼Œåˆ’åˆ†å•ä¸€èŒè´£è¿™ä¸ªåº¦å¾ˆéš¾æŠŠæ¡ï¼Œæ¯ä¸ªäººéƒ½éœ€è¦æ ¹æ®è‡ªèº«æƒ…å†µå’Œé¡¹ç›®æƒ…å†µæ¥è¿›è¡Œåˆ¤æ–­ã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰è¿™æ˜¯é¢å‘å¯¹è±¡çš„åŸºæœ¬è¦ç´ ä¹‹ä¸€ï¼Œè¿›è¡Œç»§æ‰¿å…³ç³»æŠ½è±¡æ—¶ï¼Œå‡¡æ˜¯å¯ä»¥ç”¨çˆ¶ç±»æˆ–è€…åŸºç±»çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ç”¨å­ç±»æ›¿æ¢ã€‚ é€šä¿—è§£é‡Šï¼šåªè¦çˆ¶ç±»èƒ½å‡ºç°çš„åœ°æ–¹å­ç±»å°±å¯ä»¥å‡ºç°ï¼Œè€Œä¸”æ›¿æ¢ä¸ºå­ç±»ä¹Ÿä¸äº§ç”Ÿä»»ä½•å¼‚å¸¸é”™è¯¯ï¼Œåä¹‹åˆ™ä¸ç„¶ã€‚è¿™ä¸»è¦ä½“ç°åœ¨ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨æŠ½è±¡ç±»/åŸºç±»åšä¸ºæ–¹æ³•å‚æ•°ï¼Œå…·ä½“ä½¿ç”¨å“ªä¸ªå­ç±»ä½œä¸ºå‚æ•°ä¼ å…¥è¿›å»ï¼Œç”±è°ƒç”¨è€…å†³å®šã€‚ è¿™æ¡åŸåˆ™åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š å­ç±»å¿…é¡»å®Œå…¨å®ç°çˆ¶ç±»çš„æ–¹æ³•ï¼› å­ç±»å¯ä»¥æœ‰è‡ªå·±çš„ä¸ªæ€§å¤–è§‚ï¼ˆå±æ€§ï¼‰å’Œè¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰ï¼› è¦†ç›–æˆ–è€…å®ç°çˆ¶ç±»æ–¹æ³•æ—¶ï¼Œå‚æ•°å¯ä»¥è¢«æ”¾å¤§ï¼Œå³çˆ¶ç±»çš„æŸä¸ªæ–¹æ³•å‚æ•°ä¸ºHashMapæ—¶ï¼Œå­ç±»å‚æ•°å¯ä»¥æ˜¯HashMapï¼Œä¹Ÿå¯ä»¥æ˜¯Mapæˆ–è€…æ›´å¤§ï¼› è¦†ç›–æˆ–è€…å®ç°çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œè¿”å›ç»“æœå¯ä»¥è¢«ç¼©å°ï¼Œå³çˆ¶ç±»çš„æŸä¸ªæ–¹æ³•è¿”å›ç±»å‹æ˜¯Mapï¼Œå­ç±»å¯ä»¥æ˜¯Mapï¼Œä¹Ÿå¯ä»¥æ˜¯HashMapæˆ–è€…æ›´å°ã€‚ æ¥å£åˆ†ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰æˆ‘ä»¬åœ¨è¿›è¡Œç±»å’Œæ¥å£è®¾è®¡æ—¶ï¼Œå¦‚æœåœ¨ä¸€ä¸ªæ¥å£é‡Œå®šä¹‰äº†å¤ªå¤šæ–¹æ³•ï¼Œå…¶å­ç±»å¾ˆå¯èƒ½é¢ä¸´ä¸¤éš¾ï¼Œå°±æ˜¯åªæœ‰éƒ¨åˆ†æ–¹æ³•å¯¹å®ƒæ˜¯æœ‰æ„ä¹‰çš„ï¼Œè¿™å°±ç ´åäº†ç¨‹åºçš„å†…èšæ€§ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œå¯ä»¥é€šè¿‡æ‹†åˆ†æˆåŠŸèƒ½å•ä¸€çš„å¤šä¸ªæ¥å£ï¼Œå°†è¡Œä¸ºè¿›è¡Œè§£è€¦ã€‚åœ¨æœªæ¥ç»´æŠ¤ä¸­ï¼Œå¦‚æœæŸä¸ªæ¥å£è®¾è®¡æœ‰å˜ï¼Œä¸ä¼šå¯¹ä½¿ç”¨å…¶ä»–æ¥å£çš„å­ç±»æ„æˆå½±å“ã€‚ é€šä¿—è§£é‡Šï¼šå®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œç±»é—´çš„ä¾èµ–åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Šï¼›ä½¿ç”¨æ¥å£æ—¶åº”è¯¥å»ºç«‹å•ä¸€æ¥å£ï¼Œä¸è¦å»ºç«‹è‡ƒè‚¿åºå¤§çš„æ¥å£ï¼Œå°½é‡ç»™è°ƒç”¨è€…æä¾›ä¸“é—¨çš„æ¥å£ï¼Œè€Œéå¤šåŠŸèƒ½æ¥å£ã€‚è¿™é‡Œæˆ‘æƒ³ä¸¾ä¸ª Android ä¸­çš„äº‹ä»¶å¤„ç† Listener è®¾è®¡çš„ä¾‹å­ï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œæˆ‘ä»¬æƒ³ç»™ button æ·»åŠ ç‚¹å‡»æˆ–é•¿æŒ‰äº‹ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç  12button.setOnClickListener(clickListener); button.setOnLongClickListener(longClickListener); è¿˜æœ‰å…¶ä»–æ¯”å¦‚ OnTouchListener ç­‰ç­‰ç­‰äº‹ä»¶æ¥å£ï¼Œå®ƒä¸ºä»€ä¹ˆä¸ç›´æ¥æä¾›ä¸€ä¸ªé€šç”¨çš„æ¥å£ IListener å‘¢ï¼Ÿç„¶åå›è°ƒæ‰€æœ‰çš„äº‹ä»¶ç»™è°ƒç”¨è€…å¤„ç†ï¼Œè€Œè¦æä¾›è¿™ä¹ˆå¤šç‹¬ç«‹çš„æ¥å£ï¼Œè¿™å°±æ˜¯éµå¾ªäº† ISP åŸåˆ™çš„ç»“æœï¼Œæ¯ä¸ªæ¥å£æœ€å°åŒ–äº†ï¼ŒActivity/button ä½œä¸ºè°ƒç”¨è€…ï¼Œæˆ‘å¯ä»¥é€‰æ‹©æ€§çš„å»å¤„ç†æˆ‘æƒ³å¤„ç†çš„äº‹ä»¶ï¼Œä¸å…³å¿ƒçš„äº‹ä»¶ Listener æˆ‘å°±ä¸å»å¤„ç†å’Œä¾èµ–ã€‚ ä¾èµ–åè½¬åŸåˆ™æˆ–ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency Inversion Principleï¼‰å®ä½“åº”è¯¥ä¾èµ–äºæŠ½è±¡è€Œä¸æ˜¯å®ç°ã€‚ä¹Ÿå°±æ˜¯è¯´é«˜å±‚æ¬¡æ¨¡å—ï¼Œä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¬¡æ¨¡å—ï¼Œè€Œæ˜¯åº”è¯¥åŸºäºæŠ½è±¡ã€‚å®è·µè¿™ä¸€åŸåˆ™æ˜¯ä¿è¯äº§å“ä»£ç ä¹‹é—´é€‚å½“è€¦åˆåº¦çš„æ³•å®ã€‚ é€šä¿—è§£é‡Šï¼šæŠ½è±¡ï¼šJavaä¸­ä½“ç°ä¸ºåŸºç±»ï¼ŒæŠ½è±¡ç±»ï¼Œæ¥å£ï¼Œè€Œä¸å•æŒ‡æŠ½è±¡ç±»ç»†èŠ‚ï¼šä½“ç°ä¸ºå­ç±»ï¼Œå®ç°ç±» é€šä¿—ç‚¹è®²ï¼Œè¯¥åŸåˆ™åŒ…å«ä»¥ä¸‹å‡ ç‚¹è¦ç´ ï¼š æ¨¡å—é—´çš„ä¾èµ–åº”è¯¥é€šè¿‡æŠ½è±¡å‘ç”Ÿï¼Œå…·ä½“å®ç°ç±»ä¹‹é—´ä¸åº”è¯¥å»ºç«‹ä¾èµ–å…³ç³» æ¥å£æˆ–è€…æŠ½è±¡ç±»ä¸ä¾èµ–äºå®ç°ç±»ï¼Œå¦åˆ™å°±å¤±å»äº†æŠ½è±¡çš„æ„ä¹‰ å®ç°ç±»ä¾èµ–äºæ¥å£æˆ–è€…æŠ½è±¡ç±» æ€»ç»“èµ·æ¥ï¼Œä¸€å¥è¯ï¼šâ€é¢å‘æ¥å£ç¼–ç¨‹â€œã€‚ ä»¥ä¸Šä¸ºæœ€é€šç”¨çš„éƒ¨åˆ†ï¼Œå¦å¤–è¿˜æœ‰ä¸€ä¸ªåŸåˆ™ï¼š è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆDemeter Principleï¼‰ï¼šåˆç§°æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼ˆLeast Knowledge Principleï¼Œ LKPï¼‰ä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡æœ‰æœ€å°‘çš„äº†è§£ã€‚é€šä¿—ç‚¹è®²ï¼šä¸€ä¸ªç±»åº”è¯¥å¯¹è‡ªå·±éœ€è¦è€¦åˆæˆ–è€…è°ƒç”¨çš„ç±»çŸ¥é“è¶Šå°‘è¶Šå¥½ï¼Œè¢«è€¦åˆæˆ–è€…è°ƒç”¨çš„ç±»å†…éƒ¨å’Œæˆ‘æ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¸éœ€è¦çš„ä¸œè¥¿ä½ å°±åˆ« public äº†ã€‚è¿ªç±³ç‰¹æ³•åˆ™åŒ…å«ä»¥ä¸‹å‡ ç‚¹è¦ç´ ï¼šåªå’Œæœ‹å‹ç±»äº¤æµï¼šåªè€¦åˆè¯¥è€¦åˆçš„ç±»æœ‹å‹é—´ä¹Ÿæ˜¯æœ‰è·ç¦»çš„ï¼šå‡å°‘ä¸è¯¥publicçš„æ–¹æ³•ï¼Œå‘å¤–æä¾›ä¸€ä¸ªç®€æ´çš„è®¿é—®è‡ªå®¶çš„æ–¹æ³•å°±è‡ªå·±åˆ›å»ºï¼šåªè¦è¯¥æ–¹æ³•ä¸ä¼šå¢åŠ å†…éƒ¨çš„è´Ÿæ‹…ï¼Œä¹Ÿä¸ä¼šå¢åŠ ç±»é—´è€¦åˆ OOP åŸåˆ™åœ¨é¢è¯•é¢˜ç›®ä¸­çš„åˆ†æ OOP çš„å…¨ç§°æ˜¯ Object Oriented Programmingï¼Œå³é¢å‘å¯¹è±¡ç¼–ç¨‹,å®ƒçš„è®¾è®¡åŸåˆ™å¯¹äºæŒ‡å¯¼å¼€å‘æœ‰å®é™…æ„ä¹‰ã€‚S.O.L.I.D æ˜¯é¢å‘å¯¹è±¡è®¾è®¡(OOD)å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹(OOP)ä¸­çš„å‡ ä¸ªé‡è¦ç¼–ç åŸåˆ™(Programming Priciple)çš„é¦–å­—æ¯ç¼©å†™ã€‚ å€Ÿç”¨æå®¢æ—¶é—´é‡Œçš„ä»£ç  12345678910public class VIPCenter &#123; void serviceVIP(T extend User user) &#123; if (user instanceof SlumDogVIP) &#123; // ç©· X VIPï¼Œæ´»åŠ¨æŠ¢çš„é‚£ç§ // do somthing &#125; else if(user instanceof RealVIP) &#123; // do somthing &#125; ... &#125; è¿™æ®µä»£ç çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨ä¸€èµ·ï¼Œå½“å‡ºç°æ–°çš„ç”¨æˆ·ç±»å‹æ—¶ï¼Œæ¯”å¦‚ï¼Œå¤§æ•°æ®å‘ç°äº†æˆ‘ä»¬æ˜¯è‚¥ç¾Šï¼Œéœ€è¦å»æ”¶è·ä¸€ä¸‹ï¼Œ è¿™å°±éœ€è¦ç›´æ¥å»ä¿®æ”¹æœåŠ¡æ–¹æ³•ä»£ç å®ç°ï¼Œè¿™å¯èƒ½ä¼šæ„å¤–å½±å“ä¸ç›¸å…³çš„æŸä¸ªç”¨æˆ·ç±»å‹é€»è¾‘ã€‚ åˆ©ç”¨å¼€å…³åŸåˆ™ï¼Œå°è¯•æ”¹é€ ä¸ºä¸‹é¢çš„ä»£ç ï¼š 12345678910111213141516171819202122public class VIPCenter &#123; private Map&lt;User.TYPE, ServiceProvider&gt; mProviders; void serviceVIP(T extend User userï¼‰ &#123; mProviders.get(user.getType()).service(user); &#125; &#125; interface ServiceProvider&#123; void service(T extend User user) ; &#125; class SlumDogVIPServiceProvider implements ServiceProvider&#123; void service(T extend User user)&#123; // do somthing &#125; &#125; class RealVIPServiceProvider implements ServiceProvider&#123; void service(T extend User user) &#123; // do something &#125; &#125; ä¸Šé¢çš„ç¤ºä¾‹ï¼Œå°†ä¸åŒå¯¹è±¡åˆ†ç±»çš„æœåŠ¡æ–¹æ³•è¿›è¡ŒæŠ½è±¡ï¼ŒæŠŠä¸šåŠ¡é€»è¾‘çš„ç´§è€¦åˆå…³ç³»æ‹†å¼€ï¼Œå®ç°ä»£ç çš„éš”ç¦»ä¿è¯äº†æ–¹ä¾¿çš„æ‰©å±•ã€‚ å¦‚ä½•å›ç­”æ¥å£å’ŒæŠ½è±¡ç±»ä¸¤è€…çš„åŒºåˆ«ï¼Ÿæ¥å£å’ŒæŠ½è±¡ç±»æ˜¯ Java é¢å‘å¯¹è±¡è®¾è®¡çš„ä¸¤ä¸ªåŸºç¡€æœºåˆ¶ã€‚ æ¥å£æ¥å£ï¼Œä¸èƒ½å®ä¾‹åŒ–ï¼›Java ç±»å®ç° interface ä½¿ç”¨ implements å…³é”®è¯;æ¥å£æ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œå®ƒæ˜¯æŠ½è±¡æ–¹æ³•çš„é›†åˆï¼Œåˆ©ç”¨æ¥å£å¯ä»¥è¾¾åˆ° API å®šä¹‰å’Œå®ç°åˆ†ç¦»çš„ç›®çš„;ä¸èƒ½åŒ…å«ä»»ä½•éå¸¸é‡æˆå‘˜ï¼Œä»»ä½• field éƒ½æ˜¯éšå«ç€ public static final çš„æ„ä¹‰ï¼›åŒæ—¶ï¼Œæ²¡æœ‰éé™æ€æ–¹æ³•å®ç°ï¼Œä¹Ÿå°±æ˜¯è¯´è¦ä¹ˆæ˜¯æŠ½è±¡æ–¹æ³•ï¼Œè¦ä¹ˆæ˜¯é™æ€æ–¹æ³•ã€‚Java æ ‡å‡†ç±»åº“ä¸­ï¼Œå®šä¹‰äº†éå¸¸å¤šçš„æ¥å£ï¼Œæ¯”å¦‚ java.util.Listï¼Œå¯ä»¥æŸ¥çœ‹ list çš„æºç æ¥äº†è§£ã€‚ æŠ½è±¡ç±»æŠ½è±¡ç±»æ˜¯ä¸èƒ½å®ä¾‹åŒ–çš„ç±»ï¼Œç”¨ abstract å…³é”®å­—ä¿®é¥° classï¼Œå…¶ç›®çš„ä¸»è¦æ˜¯ä»£ç é‡ç”¨ã€‚é™¤äº†ä¸èƒ½å®ä¾‹åŒ–ï¼Œå½¢å¼ä¸Šå’Œä¸€èˆ¬çš„ Java ç±»å¹¶æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ã€‚æŠ½è±¡ç±»å¤§å¤šç”¨äºæŠ½å–ç›¸å…³ Java ç±»çš„å…±ç”¨æ–¹æ³•å®ç°æˆ–è€…æ˜¯å…±åŒæˆå‘˜å˜é‡ï¼Œç„¶åé€šè¿‡ç»§æ‰¿çš„æ–¹å¼è¾¾åˆ°ä»£ç å¤ç”¨çš„ç›®çš„ã€‚Java æ ‡å‡†åº“ä¸­ï¼Œæ¯”å¦‚ collection æ¡†æ¶ï¼Œå¾ˆå¤šé€šç”¨éƒ¨åˆ†å°±è¢«æŠ½å–æˆä¸ºæŠ½è±¡ç±»ï¼Œä¾‹å¦‚ java.util.AbstractListã€‚ç»§æ‰¿ abstract class åˆ™æ˜¯ä½¿ç”¨ extends å…³é”®è¯ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒ Java æ ‡å‡†åº“ä¸­çš„ ArrayListã€‚ 1234public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable&#123; ...&#125;","categories":[{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/categories/java/"}],"tags":[{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/tags/java/"}]},{"title":"Java åŸºç¡€é¢è¯•é—®é¢˜æ•´ç†","slug":"Java-åŸºç¡€é¢è¯•é—®é¢˜æ•´ç†","date":"2018-06-26T10:36:52.000Z","updated":"2019-11-23T05:29:52.265Z","comments":true,"path":"d44b.html","link":"","permalink":"https://leaderliang.coding.me/d44b.html","excerpt":"å¯¹ java çš„é‡è¦çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ç‚¹è¿›è¡Œä¸€ä¸ªç®€å•çš„æ€»ç»“ï¼Œæ–¹ä¾¿å¯¹ç¢ç‰‡çŸ¥è¯†è¿›è¡Œå›é¡¾ã€‚","text":"å¯¹ java çš„é‡è¦çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ç‚¹è¿›è¡Œä¸€ä¸ªç®€å•çš„æ€»ç»“ï¼Œæ–¹ä¾¿å¯¹ç¢ç‰‡çŸ¥è¯†è¿›è¡Œå›é¡¾ã€‚æŒç»­æ›´æ–°â€¦ Threadæ€ä¹ˆå®‰å…¨åœæ­¢ä¸€ä¸ªçº¿ç¨‹ä»»åŠ¡ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿthread.stopï¼ˆï¼‰ï¼›ä¸å¯ç”¨ï¼Œå±é™© æ›¿æ¢ä¸ºthread.interruptï¼ˆï¼‰ï¼›interrupt æ˜¯ä¸€ç§æ¸©å’Œçš„æ‰“æ–­ çš„çº¿ç¨‹ç»ˆç»“ã€‚ Thread.interrupted();ä¼šæ£€æŸ¥è‡ªå·±å½“å‰çš„çº¿ç¨‹ï¼Œæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹çš„è¿è¡ŒçŠ¶æ€ï¼Œå¹¶ä¸”é‡ç½®çº¿ç¨‹çš„çŠ¶æ€ã€‚true å˜ä¸º falseï¼Œfalse çš„è¯ï¼Œå°±ä¸å¤„ç†ã€‚isInterrupted(); åªæ˜¯æ£€æŸ¥è‡ªå·±ï¼Œè‡ªå·±çš„çŠ¶æ€ã€‚å®‰å“è‡ªå·±æœ‰ä¸ª sleep çš„æ–¹æ³• SystemClock.sleep(2000); ä¸ç”¨å¤„ç†å¼‚å¸¸ã€‚ Java åŸºç¡€é¢è¯•é—®é¢˜æ•´ç†GC å›æ”¶ï¼ŒåŸç†ï¼Ÿxxx String ç›¸å…³é—®é¢˜æ•´ç†å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Ÿä½¿ç”¨â€œ==â€è¿˜æ˜¯equals()æ–¹æ³•ï¼Ÿâ€œ==â€ æµ‹è¯•çš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ç›¸åŒï¼›equals()æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å€¼æ˜¯å¦ç›¸ç­‰ã€‚é™¤éä½ æƒ³æ£€æŸ¥çš„æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦åˆ™ä½ åº”è¯¥ä½¿ç”¨equals()æ¥æ¯”è¾ƒå­—ç¬¦ä¸²ã€‚ .equals() å’Œ == åŒºåˆ«ï¼Ÿ é¦–å…ˆçš„åŒºåˆ«æ˜¯ï¼Œequals() æ˜¯æ–¹æ³•ï¼Œè€Œ == æ˜¯æ“ä½œç¬¦ï¼› å¯¹äºåŸºæœ¬ç±»å‹çš„å˜é‡æ¥è¯´ï¼ˆå¦‚ shortã€ intã€ longã€ floatã€ doubleï¼‰ï¼Œåªèƒ½ä½¿ç”¨ == ï¼Œå› ä¸ºè¿™äº›åŸºæœ¬ç±»å‹çš„å˜é‡æ²¡æœ‰ equals æ–¹æ³•ã€‚å¯¹äºåŸºæœ¬ç±»å‹å˜é‡çš„æ¯”è¾ƒï¼Œä½¿ç”¨ == æ¯”è¾ƒï¼Œ ä¸€èˆ¬æ¯”è¾ƒçš„æ˜¯å®ƒä»¬çš„å€¼ã€‚ å¯¹äºå¼•ç”¨ç±»å‹çš„å˜é‡æ¥è¯´ï¼ˆä¾‹å¦‚ String ç±»ï¼‰æ‰æœ‰ equals æ–¹æ³•ï¼Œå› ä¸º String ç»§æ‰¿äº† Object ç±»ï¼Œ equals æ˜¯ Object ç±»çš„é€šç”¨æ–¹æ³•ã€‚å¯¹äºè¯¥ç±»å‹å¯¹è±¡çš„æ¯”è¾ƒï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å¤å†™ Object ç±»çš„ equals æ–¹æ³•ï¼Œä½¿ç”¨ == å’Œ equals æ¯”è¾ƒæ˜¯ä¸€æ ·æ•ˆæœçš„ï¼Œéƒ½æ˜¯æ¯”è¾ƒçš„æ˜¯å®ƒä»¬åœ¨å†…å­˜ä¸­çš„å­˜æ”¾åœ°å€ã€‚ å¯¹äº equals æ–¹æ³•è¢«é‡å†™çš„æƒ…å†µ, ä»¥ String ç±»ä¸ºä¾‹, String ç±»å¤å†™äº† equals æ–¹æ³•ï¼Œå½“ä½¿ç”¨ == æ¯”è¾ƒå†…å­˜çš„å­˜æ”¾åœ°å€ä¸ç›¸ç­‰æ—¶ï¼Œæ¥ä¸‹æ¥ä¼šæ¯”è¾ƒå­—ç¬¦ä¸²çš„å†…å®¹æ˜¯å¦ ç›¸ç­‰ï¼Œæ‰€ä»¥ String ç±»ä¸­çš„ equals æ–¹æ³•ä¼šæ¯”è¾ƒä¸¤è€…çš„å­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ä¸€æ ·ã€‚å†…å®¹çš„æ¯”è¾ƒã€‚ Stringã€StringBufferã€StringBuilderStringå­—ç¬¦ä¸²å¸¸é‡ï¼Œç”¨äºå­˜æ”¾å­—ç¬¦çš„æ•°ç»„è¢«å£°æ˜ä¸ºfinalï¼Œå› æ­¤åªèƒ½èµ‹å€¼ä¸€æ¬¡ï¼Œä¸å¯å†æ›´æ”¹ã€‚é¢‘ç¹ä½¿ç”¨ String æ¥æ“ä½œå­—ç¬¦ä¸²å®é™…ä¸Šæ˜¯åœ¨ä¸æ–­åœ°åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œè¿™æ ·ä¼šå¯¹ç³»ç»Ÿçš„æ€§èƒ½äº§ç”Ÿå½±å“ï¼Œé€‚ç”¨äºæ“ä½œå°‘é‡æ•°æ®ã€‚StringBuffer å­—ç¬¦ä¸²å˜é‡ï¼Œé€‚åˆäºå¤šçº¿ç¨‹æ“ä½œä¸‹æ“ä½œå¤§é‡æ•°æ®ï¼Œçº¿ç¨‹å®‰å…¨çš„å¯å˜å­—ç¬¦åºåˆ—StringBuilder å­—ç¬¦ä¸²å˜é‡ï¼Œé€‚åˆäºå•çº¿ç¨‹ä¸‹æ“ä½œå¤§é‡æ•°æ®ï¼Œçº¿ç¨‹ä¸å®‰å…¨çš„å¯å˜å­—ç¬¦åºåˆ—String å¯¹è±¡çš„å­—ç¬¦ä¸²æ‹¼æ¥åœ¨ç¼–è¯‘æ—¶ä¼šè½¬åŒ–æˆ StringBuilder çš„ append æ“ä½œè¿è¡Œé€Ÿç‡ String &lt; StringBuffer &lt; StringBuilder String s = new String(â€œ111â€) åˆ›é€ äº†å‡ ä¸ªå¯¹è±¡ï¼Ÿ ä¼šåˆ›é€ ä¸¤ä¸ªå¯¹è±¡ã€‚Javaä¸ºäº†é¿å…äº§ç”Ÿå¤§é‡çš„Stringå¯¹è±¡ï¼Œè®¾è®¡äº†ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡æ± ã€‚JDK6ä¹‹å‰ç‰ˆæœ¬ï¼Œå¸¸é‡æ± çš„å†…å­˜åœ¨æ°¸ä¹…ä»£è¿›è¡Œåˆ†é…ï¼ŒJDK7ä¹‹åå¸¸é‡æ± çš„å†…å­˜åœ¨Javaå †ä¸­è¿›è¡Œåˆ†é…ã€‚åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼ŒJVMé¦–å…ˆæ£€æŸ¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ˜¯å¦æœ‰ç›¸ç­‰çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæœ‰åˆ™ä¸å†åˆ›å»ºå¹¶è¿”å›è¯¥å­—ç¬¦ä¸²çš„å¼•ç”¨åœ°å€ï¼›å¦‚æœæ²¡æœ‰åˆ™åœ¨å­—ç¬¦ä¸²å¸¸é‡ä¸­åˆ›å»ºå­—ç¬¦ä¸²å¹¶è¿”å›è¯¥å­—ç¬¦ä¸²çš„å¼•ç”¨åœ°å€ã€‚new ä¸€ä¸ª String å¯¹è±¡æ—¶è¿˜ä¼šåœ¨å †å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚ Stringä¸ºå•¥è®¾è®¡æˆä¸å¯å˜çš„ï¼Ÿ ç”¨äºå­˜æ”¾å­—ç¬¦çš„æ•°ç»„è¢«å£°æ˜ä¸ºfinalï¼Œå› æ­¤åªèƒ½èµ‹å€¼ä¸€æ¬¡ï¼Œä¸å¯å†æ›´æ”¹ï¼Œè€Œä¸”String ä¹Ÿæ²¡æœ‰å¯¹å¤–æš´éœ²ä¿®æ”¹æ•°ç»„çš„æ–¹æ³•ã€‚ä¿®æ”¹Stringæ—¶ï¼Œä¸ä¼šåœ¨åŸæœ‰çš„å†…å­˜åœ°å€ä¿®æ”¹ï¼Œè€Œæ˜¯é‡æ–°æŒ‡å‘ä¸€ä¸ªæ–°å¯¹è±¡ã€‚ä¸å¯å˜æ€§å¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨ä»¥åŠå­—ç¬¦ä¸²ä¸²å¸¸é‡æ± çš„å®ç°ã€‚ å¯ä»¥é‡æ–°èµ‹å€¼ä¹ˆï¼Ÿå¯ä»¥é€šè¿‡åå°„çš„Fieldæ–¹æ³•è·å–åˆ°å½“å‰å¯¹è±¡çš„æˆå‘˜å˜é‡å¹¶é‡æ–°èµ‹å€¼ï¼› String ç›¸å…³å¾…æ•´ç†â€¦ Javaçš„å¼ºã€è½¯ã€å¼±ã€è™šå››ç§å¼•ç”¨çš„åŒºåˆ«?å¼ºå¼•ç”¨ï¼šä»£ç ä¸­æ™®éå­˜åœ¨çš„ï¼Œåªè¦å¼ºå¼•ç”¨è¿˜å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¸ä¼šå›æ”¶æ‰è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚è½¯å¼•ç”¨ï¼šSoftReferenceï¼Œç”¨æ¥æè¿°è¿˜æœ‰ç”¨ä½†æ˜¯éå¿…é¡»çš„å¯¹è±¡ï¼Œå½“å†…å­˜ä¸è¶³çš„æ—¶å€™å›æ”¶è¿™ç±»å¯¹è±¡ã€‚å¼±å¼•ç”¨ï¼šWeakReferenceï¼Œç”¨æ¥æè¿°éå¿…é¡»å¯¹è±¡ï¼Œå¼±å¼•ç”¨çš„å¯¹è±¡åªèƒ½ç”Ÿå­˜åˆ°ä¸‹ä¸€æ¬¡ GC å‘ç”Ÿæ—¶ï¼Œå½“ GC å‘ç”Ÿæ—¶ï¼Œæ— è®ºå†…å­˜æ˜¯å¦è¶³å¤Ÿï¼Œéƒ½ä¼šå›æ”¶è¯¥å¯¹è±¡ã€‚è™šå¼•ç”¨ï¼šPhantomReferenceï¼Œä¸€ä¸ªå¯¹è±¡æ˜¯å¦æœ‰è™šå¼•ç”¨çš„å­˜åœ¨ï¼Œå®Œå…¨ä¸ä¼šå¯¹å…¶ç”Ÿå­˜æ—¶é—´äº§ç”Ÿå½±å“ï¼Œå¯é€šè¿‡åˆ¤æ–­å¼•ç”¨é˜Ÿåˆ—æ˜¯å¦åŠ å…¥è™šå¼•ç”¨æ¥å›æ”¶å¯¹è±¡ã€‚ final å’Œ finally å’Œ finalize çš„åŒºåˆ«ï¼Ÿfinalä¿®é¥°ç¬¦(å…³é”®å­—)ç±»è¢«å£°æ˜ä¸ºfinalï¼Œå®ƒä¸èƒ½æ´¾ç”Ÿå‡ºæ–°çš„å­ç±»ï¼Œä¸èƒ½ä½œä¸ºçˆ¶ç±»è¢«ç»§æ‰¿ï¼›æ–¹æ³•è¢«å£°æ˜ä¸ºfinalï¼Œåªèƒ½ä½¿ç”¨ï¼Œä¸èƒ½é‡å†™ï¼›å˜é‡å£°æ˜ä¸ºfinalï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¸ä¼šæ”¹å˜ï¼Œåªèƒ½è¯»å–ä¸å¯ä¿®æ”¹ã€‚ finally(ç”¨äºå¼‚å¸¸å¤„ç†)ä¸€èˆ¬ç”¨äºå¼‚å¸¸å¤„ç†ä¸­ï¼Œfinallyæ˜¯å¯¹å¼‚å¸¸å¤„ç†çš„è¡¥å……ï¼Œfinallyç»“æ„ä½¿ä»£ç æ€»ä¼šæ‰§è¡Œï¼Œä¸ç®¡æœ‰æ— å¼‚å¸¸å‘ç”Ÿã€‚ä½¿ç”¨finallyå¯ä»¥ç»´æŠ¤å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶å¯ä»¥æ¸…ç†èµ„æº finalize(ç”¨äºåƒåœ¾å›æ”¶)Objectä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œä½¿ç”¨finalize()æ–¹æ³•åœ¨åƒåœ¾æ”¶é›†å™¨å°†å¯¹è±¡ä»å†…å­˜ä¸­å›æ”¶ä¹‹å‰åšå¿…è¦çš„æ¸…ç†å·¥ä½œ Java é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ä¸ºæŸä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ï¼Œä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®é™æ€ä»£ç†ï¼šç¨‹åºè¿è¡Œå‰å°±å·²ç»å­˜åœ¨ä»£ç†ç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œä»£ç†ç±»å’Œå§”æ‰˜ç±»çš„å…³ç³»åœ¨è¿è¡Œå‰å°±å·²ç»ç¡®å®šåŠ¨æ€ä»£ç†ï¼šç¨‹åºè¿è¡ŒæœŸæ—¶ç”± JVM åŠ¨æ€çš„ç”Ÿæˆï¼Œä»£ç†ç±»å’Œå§”æ‰˜ç±»çš„å…³ç³»æ˜¯åœ¨è¿è¡Œæ—¶ç¡®å®šã€‚ä½¿ç”¨åœºæ™¯ï¼šå¦‚æœéœ€è¦å¯¹å¤šä¸ªç±»è¿›è¡Œä»£ç†ï¼Œå¹¶ä¸”ä»£ç†çš„åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œç”¨é™æ€ä»£ç†é‡å¤ç¼–å†™ä»£ç†ç±»å°±éå¸¸çš„éº»çƒ¦ï¼Œå¯ä»¥ç”¨åŠ¨æ€ä»£ç†åŠ¨æ€çš„ç”Ÿæˆä»£ç†ç±»ã€‚RxJava é‡Œå°±æœ‰ä½¿ç”¨åŠ¨æ€ä»£ç†ã€‚ Java å†…å­˜ä¸­å †å’Œæ ˆçš„åŒºåˆ« å‚è€ƒï¼šhttps://www.jianshu.com/p/947a76e2ddbc å †å†…å­˜ æ˜¯ç”¨äºå­˜å‚¨ Java ä¸­çš„å¯¹è±¡å’Œæ•°ç»„ï¼Œå½“æˆ‘ä»¬ new ä¸€ä¸ªå¯¹è±¡æˆ–è€…åˆ›å»ºä¸€ä¸ªæ•°ç»„çš„æ—¶å€™ï¼Œå°±ä¼šåœ¨å †å†…å­˜ä¸­å¼€è¾Ÿä¸€æ®µç©ºé—´ç»™ä»–ï¼Œç”¨äºå­˜æ”¾ã€‚å †å†…å­˜çš„ç‰¹ç‚¹æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œåè¿›åå‡ºï¼Œå †æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„åˆ†é…å†…å­˜å¤§å°ï¼Œç¼ºç‚¹æ˜¯å­˜å–é€Ÿåº¦è¾ƒæ…¢ã€‚ å †å†…å­˜ç”¨äºå­˜æ”¾ç”±newåˆ›å»ºçš„å¯¹è±¡å’Œæ•°ç»„ã€‚åœ¨å †å†…å­˜ä¸­åˆ†é…çš„å†…å­˜ç©ºé—´ï¼Œç”±javaè™šæ‹Ÿæœºè‡ªåŠ¨åƒåœ¾å›æ”¶å™¨æ¥ç®¡ç†ã€‚åœ¨å †ä¸­äº§ç”Ÿäº†ä¸€ä¸ªæ•°ç»„æˆ–è€…å¯¹è±¡åï¼Œè¿˜å¯ä»¥åœ¨æ ˆä¸­å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡ï¼Œå˜é‡çš„å€¼å°±ç­‰äºæ•°ç»„æˆ–å¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„é¦–åœ°å€ï¼Œè€Œè¿™ä¸ªæ ˆä¸­çš„ç‰¹æ®Šå˜é‡ï¼Œä¹Ÿå°±æˆä¸ºæ•°ç»„æˆ–å¯¹è±¡çš„å¼•ç”¨å˜é‡ã€‚ä»¥åå¯ä»¥åœ¨ç¨‹åºä¸­ä½¿ç”¨æ ˆå†…å­˜ä¸­çš„å¼•ç”¨å˜é‡è®¿é—®å †å†…å­˜ä¸­çš„æ•°ç»„æˆ–å¯¹è±¡äº†ã€‚å¼•ç”¨å˜é‡ç›¸å½“äºæ˜¯ä¸ºæ•°ç»„æˆ–å¯¹è±¡èµ·çš„ä¸€ä¸ªåˆ«åï¼Œæˆ–è€…æ˜¯ä»£å·ã€‚æ•°ç»„å’Œå¯¹è±¡åœ¨æ²¡æœ‰å¼•ç”¨å˜é‡æŒ‡å‘å®ƒçš„æ—¶å€™ï¼Œæ‰å˜æˆåƒåœ¾ï¼Œä¸èƒ½è¢«ç»§ç»­ä½¿ç”¨ï¼Œä½†æ˜¯ä»ç„¶ä¼šå ç”¨å †å†…å­˜ç©ºé—´ï¼Œè€Œååœ¨ä¸€ä¸ªä¸ç¡®å®šçš„æ—¶é—´å†…ï¼Œç”±javaè™šæ‹Ÿæœºè‡ªåŠ¨åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼Œè¿™ä¹Ÿæ˜¯javaç¨‹åºä¸ºä»€ä¹ˆä¼šå ç”¨å¾ˆå¤§å†…å­˜çš„åŸå› ã€‚ æ ˆå†…å­˜ æ˜¯ç”¨æ¥æ‰§è¡Œç¨‹åºç”¨çš„ï¼Œå­˜æ”¾åŸºæœ¬ç±»å‹çš„å˜é‡å’Œå¯¹è±¡çš„å¼•ç”¨å˜é‡.æ ˆå†…å­˜çš„ç‰¹ç‚¹æ˜¯å…ˆè¿›åå‡ºï¼Œåè¿›å…ˆå‡ºï¼Œæ ˆå†…å­˜å­˜å–é€Ÿåº¦æ¯”å †è¦å¿«ï¼Œæ ˆæ•°æ®å¯ä»¥å…±äº«ï¼Œç¼ºç‚¹æ˜¯å­˜åœ¨æ ˆä¸­çš„æ•°æ®å¤§å°ä¸ç”Ÿå­˜æœŸå¿…é¡»æ˜¯ç¡®å®šçš„ï¼Œç¼ºä¹çµæ´»æ€§ã€‚ åœ¨å‡½æ•°ä¸­å®šä¹‰çš„åŸºæœ¬ç±»å‹çš„å˜é‡å’Œå¯¹è±¡çš„å¼•ç”¨å˜é‡éƒ½æ˜¯åœ¨å‡½æ•°çš„æ ˆå†…å­˜ä¸­åˆ†é…ã€‚å½“åœ¨ä¸€æ®µä»£ç å—ä¸­å£°æ˜äº†ä¸€ä¸ªå˜é‡æ—¶ï¼Œjavaå°±ä¼šåœ¨æ ˆå†…å­˜ä¸­ä¸ºè¿™ä¸ªå˜é‡åˆ†é…å†…å­˜ç©ºé—´ï¼Œå½“è¶…è¿‡å˜é‡çš„ä½œç”¨åŸŸä¹‹åï¼Œjavaä¹Ÿä¼šè‡ªåŠ¨é‡Šæ”¾ä¸ºè¯¥å˜é‡åˆ†é…çš„ç©ºé—´ï¼Œè€Œè¿™ä¸ªå›æ”¶çš„ç©ºé—´å¯ä»¥å³åˆ»ç”¨ä½œä»–ç”¨ã€‚ éå† Map å¯¹è±¡çš„å››ç§æ–¹å¼ï¼Ÿæ—¢ç„¶javaä¸­çš„æ‰€æœ‰mapéƒ½å®ç°äº†Mapæ¥å£ï¼Œä»¥ä¸‹æ–¹æ³•é€‚ç”¨äºä»»ä½•mapå®ç°ï¼ˆHashMap, TreeMap, LinkedHashMap, Hashtable, ç­‰ç­‰ï¼‰ åœ¨for-eachå¾ªç¯ä¸­ä½¿ç”¨entriesæ¥éå†è¿™æ˜¯æœ€å¸¸è§çš„å¹¶ä¸”åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¹Ÿæ˜¯æœ€å¯å–çš„éå†æ–¹å¼ã€‚åœ¨é”®å€¼éƒ½éœ€è¦æ—¶ä½¿ç”¨ã€‚ 12345Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();for (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123; System.out.println(&quot;Key = &quot; + entry.getKey() + &quot;, Value = &quot; + entry.getValue());&#125; æ³¨æ„ï¼šfor-eachå¾ªç¯åœ¨java 5ä¸­è¢«å¼•å…¥æ‰€ä»¥è¯¥æ–¹æ³•åªèƒ½åº”ç”¨äºjava 5æˆ–æ›´é«˜çš„ç‰ˆæœ¬ä¸­ã€‚å¦‚æœä½ éå†çš„æ˜¯ä¸€ä¸ªç©ºçš„mapå¯¹è±¡ï¼Œfor-eachå¾ªç¯å°†æŠ›å‡ºNullPointerExceptionï¼Œå› æ­¤åœ¨éå†å‰ä½ æ€»æ˜¯åº”è¯¥æ£€æŸ¥ç©ºå¼•ç”¨ã€‚ åœ¨for-eachå¾ªç¯ä¸­éå†keysæˆ–valueså¦‚æœåªéœ€è¦ map ä¸­çš„é”®æˆ–è€…å€¼ï¼Œä½ å¯ä»¥é€šè¿‡ keySet æˆ– values æ¥å®ç°éå†ï¼Œè€Œä¸æ˜¯ç”¨ entrySetã€‚ è¯¥æ–¹æ³•æ¯”entrySetéå†åœ¨æ€§èƒ½ä¸Šç¨å¥½ï¼ˆå¿«äº†10%ï¼‰ï¼Œè€Œä¸”ä»£ç æ›´åŠ å¹²å‡€ 1234567891011Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;(); //éå†mapä¸­çš„é”®for (Integer key : map.keySet()) &#123; System.out.println(&quot;Key = &quot; + key); &#125; //éå†mapä¸­çš„å€¼for (Integer value : map.values()) &#123; System.out.println(&quot;Value = &quot; + value); &#125; ä½¿ç”¨Iteratoréå†ä½¿ç”¨æ³›å‹ï¼š 123456Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;(); Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator(); while (entries.hasNext()) &#123; Map.Entry&lt;Integer, Integer&gt; entry = entries.next(); System.out.println(&quot;Key = &quot; + entry.getKey() + &quot;, Value = &quot; + entry.getValue()); &#125; ä¸ä½¿ç”¨æ³›å‹ï¼š 12345678Map map = new HashMap();Iterator entries = map.entrySet().iterator(); while (entries.hasNext()) &#123; Map.Entry entry = (Map.Entry) entries.next(); Integer key = (Integer)entry.getKey(); Integer value = (Integer)entry.getValue(); System.out.println(&quot;Key = &quot; + key + &quot;, Value = &quot; + value);&#125; ä½ ä¹Ÿå¯ä»¥åœ¨keySetå’Œvaluesä¸Šåº”ç”¨åŒæ ·çš„æ–¹æ³•ã€‚ è¯¥ç§æ–¹å¼çœ‹èµ·æ¥å†—ä½™å´æœ‰å…¶ä¼˜ç‚¹æ‰€åœ¨ã€‚é¦–å…ˆï¼Œåœ¨è€ç‰ˆæœ¬javaä¸­è¿™æ˜¯æƒŸä¸€éå†mapçš„æ–¹å¼ã€‚å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œä½ å¯ä»¥åœ¨éå†æ—¶è°ƒç”¨iterator.remove()æ¥åˆ é™¤entriesï¼Œå¦ä¸¤ä¸ªæ–¹æ³•åˆ™ä¸èƒ½ã€‚æ ¹æ®javadocçš„è¯´æ˜ï¼Œå¦‚æœåœ¨for-eachéå†ä¸­å°è¯•ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œç»“æœæ˜¯ä¸å¯é¢„æµ‹çš„ã€‚ ä»æ€§èƒ½æ–¹é¢çœ‹ï¼Œè¯¥æ–¹æ³•ç±»åŒäº for-each éå†ï¼ˆå³æ–¹æ³•äºŒï¼‰çš„æ€§èƒ½ã€‚ é€šè¿‡é”®æ‰¾å€¼éå†ï¼ˆæ•ˆç‡ä½ï¼‰12345Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();for (Integer key : map.keySet()) &#123; Integer value = map.get(key); System.out.println(&quot;Key = &quot; + key + &quot;, Value = &quot; + value);&#125; ä½œä¸ºæ–¹æ³•ä¸€çš„æ›¿ä»£ï¼Œè¿™ä¸ªä»£ç çœ‹ä¸Šå»æ›´åŠ å¹²å‡€ï¼›ä½†å®é™…ä¸Šå®ƒç›¸å½“æ…¢ä¸”æ— æ•ˆç‡ã€‚å› ä¸ºä»é”®å–å€¼æ˜¯è€—æ—¶çš„æ“ä½œï¼ˆä¸æ–¹æ³•ä¸€ç›¸æ¯”ï¼Œåœ¨ä¸åŒçš„Mapå®ç°ä¸­è¯¥æ–¹æ³•æ…¢äº†20%~200%ï¼‰ã€‚å¦‚æœä½ å®‰è£…äº†FindBugsï¼Œå®ƒä¼šåšå‡ºæ£€æŸ¥å¹¶è­¦å‘Šä½ å…³äºå“ªäº›æ˜¯ä½æ•ˆç‡çš„éå†ã€‚æ‰€ä»¥å°½é‡é¿å…ä½¿ç”¨ã€‚ æ€»ç»“å¦‚æœä»…éœ€è¦é”®(keys)æˆ–å€¼(values)ä½¿ç”¨æ–¹æ³•äºŒã€‚å¦‚æœä½ ä½¿ç”¨çš„è¯­è¨€ç‰ˆæœ¬ä½äºjava 5ï¼Œæˆ–æ˜¯æ‰“ç®—åœ¨éå†æ—¶åˆ é™¤entriesï¼Œå¿…é¡»ä½¿ç”¨æ–¹æ³•ä¸‰ã€‚å¦åˆ™ä½¿ç”¨æ–¹æ³•ä¸€(é”®å€¼éƒ½è¦)ã€‚ list ä¸ Setã€MapåŒºåˆ«åŠé€‚ç”¨åœºæ™¯List,Setéƒ½æ˜¯ç»§æ‰¿è‡ª Collection æ¥å£ï¼ŒMapåˆ™ä¸æ˜¯ Listç‰¹ç‚¹ï¼šå…ƒç´ æœ‰æ”¾å…¥é¡ºåºï¼Œå…ƒç´ å¯é‡å¤ï¼›listæ”¯æŒforå¾ªç¯ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡ä¸‹æ ‡æ¥éå†ï¼Œä¹Ÿå¯ä»¥ç”¨è¿­ä»£å™¨ï¼›Setç‰¹ç‚¹ï¼šå…ƒç´ æ— æ”¾å…¥é¡ºåºï¼Œå…ƒç´ ä¸å¯é‡å¤ï¼Œé‡å¤å…ƒç´ ä¼šè¦†ç›–æ‰ï¼Œï¼ˆæ³¨æ„ï¼šå…ƒç´ è™½ç„¶æ— æ”¾å…¥é¡ºåºï¼Œä½†æ˜¯å…ƒç´ åœ¨setä¸­çš„ä½ç½®æ˜¯æœ‰è¯¥å…ƒç´ çš„HashCodeå†³å®šçš„ï¼Œå…¶ä½ç½®å…¶å®æ˜¯å›ºå®šçš„ï¼ŒåŠ å…¥Set çš„ Objectå¿…é¡»å®šä¹‰equals()æ–¹æ³• ï¼Œset åªèƒ½ç”¨è¿­ä»£ï¼Œå› ä¸ºä»–æ— åºï¼Œæ— æ³•ç”¨ä¸‹æ ‡æ¥å–å¾—æƒ³è¦çš„å€¼ã€‚ï¼‰ Set å’Œ List å¯¹æ¯”ï¼š Setï¼šæ£€ç´¢å…ƒç´ æ•ˆç‡ä½ä¸‹ï¼Œåˆ é™¤å’Œæ’å…¥æ•ˆç‡é«˜ï¼Œæ’å…¥å’Œåˆ é™¤ä¸ä¼šå¼•èµ·å…ƒç´ ä½ç½®æ”¹å˜ã€‚ Listï¼šå’Œæ•°ç»„ç±»ä¼¼ï¼ŒListå¯ä»¥åŠ¨æ€å¢é•¿ï¼ŒæŸ¥æ‰¾å…ƒç´ æ•ˆç‡é«˜ï¼Œæ’å…¥åˆ é™¤å…ƒç´ æ•ˆç‡ä½ï¼Œå› ä¸ºä¼šå¼•èµ·å…¶ä»–å…ƒç´ ä½ç½®æ”¹å˜ã€‚ Map é€‚åˆå‚¨å­˜é”®å€¼å¯¹çš„æ•°æ® çº¿ç¨‹å®‰å…¨é›†åˆç±»ä¸éçº¿ç¨‹å®‰å…¨é›†åˆç±»LinkedListã€ArrayListã€HashSet æ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼ŒVector æ˜¯çº¿ç¨‹å®‰å…¨çš„;HashMap æ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼ŒHashTable æ˜¯çº¿ç¨‹å®‰å…¨çš„;StringBuilder æ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼ŒStringBuffer æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ HashSet å’Œ HashMap æ€ä¹ˆåˆ¤æ–­é›†åˆå…ƒç´ é‡å¤ï¼Ÿéœ€è¦é‡å†™ hashcode æ–¹æ³•ä¸ equals æ–¹æ³•ï¼Œå…ˆåˆ¤æ–­ hashcode æ˜¯å¦ç›¸ç­‰ï¼Œå†åˆ¤æ–­æ˜¯å¦ equalsã€‚ ArrayList ä¸ LinkedList çš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯Arraylistï¼šä¼˜ç‚¹ï¼šArrayList æ˜¯å®ç°äº†åŸºäºåŠ¨æ€æ•°ç»„çš„æ•°æ®ç»“æ„,å› ä¸ºåœ°å€è¿ç»­ï¼Œä¸€æ—¦æ•°æ®å­˜å‚¨å¥½äº†ï¼ŒæŸ¥è¯¢æ“ä½œæ•ˆç‡ä¼šæ¯”è¾ƒé«˜ï¼ˆåœ¨å†…å­˜é‡Œæ˜¯è¿ç€æ”¾çš„ï¼‰ã€‚ç¼ºç‚¹ï¼šå› ä¸ºåœ°å€è¿ç»­ï¼Œ ArrayList è¦ç§»åŠ¨æ•°æ®,æ‰€ä»¥æ’å…¥å’Œåˆ é™¤æ“ä½œæ•ˆç‡æ¯”è¾ƒä½ã€‚ LinkedListï¼šä¼˜ç‚¹ï¼šLinkedListåŸºäºé“¾è¡¨çš„æ•°æ®ç»“æ„,åœ°å€æ˜¯ä»»æ„çš„ï¼Œæ‰€ä»¥åœ¨å¼€è¾Ÿå†…å­˜ç©ºé—´çš„æ—¶å€™ä¸éœ€è¦ç­‰ä¸€ä¸ªè¿ç»­çš„åœ°å€ï¼Œå¯¹äºæ–°å¢å’Œåˆ é™¤æ“ä½œ addã€removeï¼ŒLinedListæ¯”è¾ƒå ä¼˜åŠ¿ã€‚LinkedList é€‚ç”¨äº å¤´å°¾æ“ä½œ æˆ– æ’å…¥æŒ‡å®šä½ç½® çš„åœºæ™¯ã€‚ç¼ºç‚¹ï¼šå› ä¸ºLinkedListè¦ç§»åŠ¨æŒ‡é’ˆ,æ‰€ä»¥æŸ¥è¯¢æ“ä½œæ€§èƒ½æ¯”è¾ƒä½ã€‚ é€‚ç”¨åœºæ™¯åˆ†æï¼šå½“éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¯¹æ­¤è®¿é—®çš„æƒ…å†µä¸‹é€‰ç”¨ArrayListï¼›å½“éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤šæ¬¡å¢åŠ åˆ é™¤ä¿®æ”¹æ—¶é‡‡ç”¨LinkedListã€‚ HashMap å’Œ Hashtable çš„åŒºåˆ«ï¼Ÿ åŸæ–‡é“¾æ¥ï¼š Javarevisited ç¿»è¯‘ï¼š ImportNew.com - å”å°å¨Ÿè¯‘æ–‡é“¾æ¥ï¼š http://www.importnew.com/7010.html è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…å°†ä¼šçœ‹åˆ°HashMapå’ŒHashtableçš„åŒºåˆ«ï¼Œè¿˜å°†çœ‹åˆ°å®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼ä¹‹å¤„ã€‚ HashMapå’ŒHashtableçš„åŒºåˆ« HashMap å’Œ Hashtable éƒ½å®ç°äº† Map æ¥å£ï¼Œä½†å†³å®šç”¨å“ªä¸€ä¸ªä¹‹å‰å…ˆè¦å¼„æ¸…æ¥šå®ƒä»¬ä¹‹é—´çš„åˆ†åˆ«ã€‚ä¸»è¦çš„åŒºåˆ«æœ‰ï¼šçº¿ç¨‹å®‰å…¨æ€§ï¼ŒåŒæ­¥(synchronization)ï¼Œä»¥åŠé€Ÿåº¦ã€‚ HashMapå‡ ä¹å¯ä»¥ç­‰ä»·äºHashtableï¼Œé™¤äº†HashMapæ˜¯ésynchronizedçš„ï¼Œå¹¶å¯ä»¥æ¥å—null(HashMapå¯ä»¥æ¥å—ä¸ºnullçš„é”®å€¼(key)å’Œå€¼(value)ï¼Œè€ŒHashtableæ—¢ä¸æ”¯æŒ Null key ä¹Ÿä¸æ”¯æŒ Null value)ã€‚ HashMapæ˜¯ésynchronizedï¼Œè€ŒHashtableæ˜¯synchronizedï¼Œè¿™æ„å‘³ç€Hashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«ä¸€ä¸ªHashtableï¼›è€Œå¦‚æœæ²¡æœ‰æ­£ç¡®çš„åŒæ­¥çš„è¯ï¼Œå¤šä¸ªçº¿ç¨‹æ˜¯ä¸èƒ½å…±äº«HashMapçš„ã€‚Java 5æä¾›äº†ConcurrentHashMapï¼Œå®ƒæ˜¯HashTableçš„æ›¿ä»£ï¼Œæ¯”HashTableçš„æ‰©å±•æ€§æ›´å¥½ã€‚ å¦ä¸€ä¸ªåŒºåˆ«æ˜¯HashMapçš„è¿­ä»£å™¨(Iterator)æ˜¯fail-fastè¿­ä»£å™¨ï¼Œè€ŒHashtableçš„enumeratorè¿­ä»£å™¨ä¸æ˜¯fail-fastçš„ã€‚æ‰€ä»¥å½“æœ‰å…¶å®ƒçº¿ç¨‹æ”¹å˜äº†HashMapçš„ç»“æ„ï¼ˆå¢åŠ æˆ–è€…ç§»é™¤å…ƒç´ ï¼‰ï¼Œå°†ä¼šæŠ›å‡ºConcurrentModificationExceptionï¼Œä½†è¿­ä»£å™¨æœ¬èº«çš„remove()æ–¹æ³•ç§»é™¤å…ƒç´ åˆ™ä¸ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚ä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªä¸€å®šå‘ç”Ÿçš„è¡Œä¸ºï¼Œè¦çœ‹JVMã€‚è¿™æ¡åŒæ ·ä¹Ÿæ˜¯Enumerationå’ŒIteratorçš„åŒºåˆ«ã€‚ ç”±äºHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ä¹Ÿæ˜¯synchronizedï¼Œæ‰€ä»¥åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹å®ƒæ¯”HashMapè¦æ…¢ã€‚å¦‚æœä½ ä¸éœ€è¦åŒæ­¥ï¼Œåªéœ€è¦å•ä¸€çº¿ç¨‹ï¼Œé‚£ä¹ˆä½¿ç”¨HashMapæ€§èƒ½è¦å¥½è¿‡Hashtableã€‚ HashMapä¸èƒ½ä¿è¯éšç€æ—¶é—´çš„æ¨ç§»Mapä¸­çš„å…ƒç´ æ¬¡åºæ˜¯ä¸å˜çš„ã€‚ è¦æ³¨æ„çš„ä¸€äº›é‡è¦æœ¯è¯­ï¼š sychronizedæ„å‘³ç€åœ¨ä¸€æ¬¡ä»…æœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿæ›´æ”¹Hashtableã€‚å°±æ˜¯è¯´ä»»ä½•çº¿ç¨‹è¦æ›´æ–°Hashtableæ—¶è¦é¦–å…ˆè·å¾—åŒæ­¥é”ï¼Œå…¶å®ƒçº¿ç¨‹è¦ç­‰åˆ°åŒæ­¥é”è¢«é‡Šæ”¾ä¹‹åæ‰èƒ½å†æ¬¡è·å¾—åŒæ­¥é”æ›´æ–°Hashtableã€‚ Fail-safeå’Œiteratorè¿­ä»£å™¨ç›¸å…³ã€‚å¦‚æœæŸä¸ªé›†åˆå¯¹è±¡åˆ›å»ºäº†Iteratoræˆ–è€…ListIteratorï¼Œç„¶åå…¶å®ƒçš„çº¿ç¨‹è¯•å›¾â€œç»“æ„ä¸Šâ€æ›´æ”¹é›†åˆå¯¹è±¡ï¼Œå°†ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ã€‚ä½†å…¶å®ƒçº¿ç¨‹å¯ä»¥é€šè¿‡set()æ–¹æ³•æ›´æ”¹é›†åˆå¯¹è±¡æ˜¯å…è®¸çš„ï¼Œå› ä¸ºè¿™å¹¶æ²¡æœ‰ä»â€œç»“æ„ä¸Šâ€æ›´æ”¹é›†åˆã€‚ä½†æ˜¯å‡å¦‚å·²ç»ä»ç»“æ„ä¸Šè¿›è¡Œäº†æ›´æ”¹ï¼Œå†è°ƒç”¨set()æ–¹æ³•ï¼Œå°†ä¼šæŠ›å‡ºIllegalArgumentExceptionå¼‚å¸¸ã€‚ ç»“æ„ä¸Šçš„æ›´æ”¹æŒ‡çš„æ˜¯åˆ é™¤æˆ–è€…æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œè¿™æ ·ä¼šå½±å“åˆ°mapçš„ç»“æ„ã€‚ æˆ‘ä»¬èƒ½å¦è®©HashMapåŒæ­¥ï¼Ÿ HashMapå¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥è¿›è¡ŒåŒæ­¥ï¼šMap m = Collections.synchronizeMap(hashMap); ç»“è®º:Hashtable å’Œ HashMap æœ‰å‡ ä¸ªä¸»è¦çš„ä¸åŒï¼šçº¿ç¨‹å®‰å…¨ä»¥åŠé€Ÿåº¦ã€‚ä»…åœ¨ä½ éœ€è¦å®Œå…¨çš„çº¿ç¨‹å®‰å…¨çš„æ—¶å€™ä½¿ç”¨Hashtableï¼Œè€Œå¦‚æœä½ ä½¿ç”¨Java 5æˆ–ä»¥ä¸Šçš„è¯ï¼Œè¯·ä½¿ç”¨ ConcurrentHashMap å§ã€‚ äºŒå‰æ ‘çš„æ·±åº¦ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå†çš„å…·ä½“å®ç° ï¼ŸäºŒå‰æ ‘çš„æ·±åº¦ä¼˜å…ˆéå†çš„é€šç”¨åšæ³•æ˜¯é‡‡ç”¨æ ˆï¼Œç”¨çš„æ˜¯æ ˆçš„å…ˆè¿›åå‡ºçš„ç‰¹æ€§ï¼›å¹¿åº¦ä¼˜å…ˆéå†çš„é€šç”¨åšæ³•æ˜¯é‡‡ç”¨é˜Ÿåˆ—ï¼Œæ¯å½“éå†å½“å‰èŠ‚ç‚¹çš„æ—¶å€™ï¼ŒæŠŠè¯¥èŠ‚ç‚¹ä»é˜Ÿåˆ—ä¸­æ‹¿å‡ºæ¥ï¼Œå¹¶ä¸”æŠŠå®ƒçš„å­èŠ‚ç‚¹å…¨éƒ¨åŠ åˆ°é˜Ÿåˆ—ä¸­ã€‚æ·±åº¦ä¼˜å…ˆéå†ï¼šå¯¹æ¯ä¸€ä¸ªå¯èƒ½çš„åˆ†æ”¯è·¯å¾„æ·±å…¥åˆ°ä¸èƒ½åœ¨æ·±å…¥ä¸ºæ­¢ï¼Œè€Œä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½è®¿é—®ä¸€æ¬¡ã€‚æœ‰ä¸‰ç§æƒ…å†µï¼šå…ˆåºéå†ï¼šå¯¹ä»»ä¸€å­—æ ‘ï¼Œå…ˆè®¿é—®æ ¹ï¼Œç„¶åéå†å…¶å·¦å­æ ‘ï¼Œæœ€åéå†å…¶å³å­æ ‘ä¸­åºéå†ï¼šå¯¹ä»»ä¸€å­æ ‘ï¼Œå…ˆéå†å…¶å·¦å­æ ‘ï¼Œç„¶åè®¿é—®æ ¹ï¼Œæœ€åéå†å…¶å³å­æ ‘ååºéå†ï¼šå¯¹ä»»ä¸€å­æ ‘ï¼Œå…ˆéå†å…¶å·¦å­æ ‘ï¼Œç„¶åéå†å…¶å³å­æ ‘ï¼Œæœ€åè®¿é—®æ ¹å¹¿åº¦ä¼˜å…ˆéå†ï¼šåˆå«å±‚æ¬¡éå†ï¼Œä»ä¸Šåˆ°ä¸‹å¯¹æ¯ä¸€å±‚ä¾æ¬¡è®¿é—®ï¼Œåœ¨æ¯ä¸€å±‚ä¸­ï¼Œä»å·¦åˆ°å³(ä¹Ÿå¯ä»¥ä»å³å¾€å·¦)è®¿é—®èŠ‚ç‚¹ï¼Œè®¿é—®å®Œä¸€å±‚å°±è¿›å…¥ä¸‹ä¸€å±‚ï¼Œç›´åˆ°æ²¡æœ‰èŠ‚ç‚¹å¯ä»¥è®¿é—®ä¸ºæ­¢å‚è€ƒèµ„æ–™ï¼šhttps://blog.csdn.net/dyy_gusi/article/details/46414677 volatile ã€Sychronized å…³é”®å­—volatile å…³é”®å­—ä¸ºå˜é‡çš„è®¿é—®æä¾›äº†ä¸€ç§å…é”æœºåˆ¶ï¼Œç¡®ä¿äº†åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å…±äº«å˜é‡çš„å†…å­˜å¯è§æ€§ï¼Œæ„æ€å°±æ˜¯çº¿ç¨‹Aä¿®æ”¹äº†volatileä¿®é¥°çš„å˜é‡ï¼Œçº¿ç¨‹Bèƒ½å¤Ÿæ„ŸçŸ¥ä¿®æ”¹ã€‚å£°æ˜å˜é‡åŠ å…¥volatileå…³é”®å­—åï¼Œæ¯æ¬¡ä¿®æ”¹è¯¥å˜é‡ï¼ŒJVMå°±ä¼šé€šçŸ¥å¤„ç†å™¨å°†å·¥ä½œå†…å­˜çš„å€¼å¼ºåˆ¶æ›´æ–°åˆ°ä¸»å†…å­˜ä¸­ï¼Œè·å–è¯¥å˜é‡æ—¶ï¼Œä¼šä»ä¸»å†…å­˜ä¸­è·å–å†åŠ è½½åˆ°å·¥ä½œå†…å­˜ä¸­ã€‚ volatileä¸SychronizedåŒºåˆ«ï¼šVolatile æœ¬è´¨æ˜¯åœ¨å‘Šè¯‰ jvm å½“å‰å˜é‡åœ¨å¯„å­˜å™¨ï¼ˆå·¥ä½œå†…å­˜ï¼‰ä¸­çš„å€¼æ˜¯ä¸ç¡®å®šçš„ï¼Œéœ€è¦ä»ä¸»å­˜ä¸­è¯»å–ï¼›synchronized åˆ™æ˜¯é”å®šå½“å‰å˜é‡ï¼Œåªæœ‰å½“å‰çº¿ç¨‹å¯ä»¥è®¿é—®è¯¥å˜é‡ï¼Œå…¶ä»–çº¿ç¨‹è¢«é˜»å¡ä½ã€‚Volatile ä»…èƒ½ä½¿ç”¨åœ¨å˜é‡çº§åˆ«ï¼›synchronized åˆ™å¯ä»¥ä½¿ç”¨åœ¨å˜é‡ã€æ–¹æ³•ã€å’Œç±»çº§åˆ«çš„Volatile ä»…èƒ½å®ç°å˜é‡çš„ä¿®æ”¹å¯è§æ€§ï¼Œä¸èƒ½ä¿è¯åŸå­æ€§ï¼›è€Œsynchronizedåˆ™å¯ä»¥ä¿è¯å˜é‡çš„ä¿®æ”¹å¯è§æ€§å’ŒåŸå­æ€§volatile ä¸ä¼šé€ æˆçº¿ç¨‹çš„é˜»å¡ï¼›synchronizedå¯èƒ½ä¼šé€ æˆçº¿ç¨‹çš„é˜»å¡ã€‚Volatile æ ‡è®°çš„å˜é‡ä¸ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–ï¼›synchronizedæ ‡è®°çš„å˜é‡å¯ä»¥è¢«ç¼–è¯‘å™¨ä¼˜åŒ– åè¯è§£é‡Šï¼šåŸå­æ€§ï¼šä¸€ä¸ªæ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œå¹¶ä¸”æ‰§è¡Œè¿‡ç¨‹ä¸ä¼šè¢«æ‰“æ–­ï¼Œè¦ä¹ˆå°±ä¸æ‰§è¡Œã€‚Javaå†…å­˜æ¨¡å‹åªä¿è¯äº†åŸºæœ¬è¯»å–å’Œèµ‹å€¼æ˜¯åŸå­æ€§æ“ä½œå¯è§æ€§ï¼šå¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œå¦å¤–ä¸€ä¸ªå˜é‡èƒ½å¤Ÿç«‹å³çœ‹åˆ°ä¿®æ”¹çš„å€¼æœ‰åºæ€§ï¼šç¨‹åºæ‰§è¡Œçš„é¡ºåºæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œï¼ŒæŒ‡ä»¤é‡æ’åºä¸ä¼šå½±å“å•ä¸ªçº¿ç¨‹çš„æ‰§è¡Œï¼Œä½†æ˜¯ä¼šå½±å“çº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„æ­£ç¡®æ€§ æ­»é”ï¼Ÿæ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹å› ç«äº‰èµ„æºè€Œé€ æˆçš„ä¸€ç§åƒµå±€ï¼ˆäº’ç›¸ç­‰å¾…ï¼‰ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œè¿™äº›è¿›ç¨‹éƒ½å°†æ— æ³•å‘å‰æ¨è¿›ã€‚ æ­»é”äº§ç”Ÿçš„åŸå› ï¼šç³»ç»Ÿèµ„æºçš„ç«äº‰ï¼Œè¿›ç¨‹æ¨è¿›é¡ºåºéæ³•ã€‚ æ­»é”äº§ç”Ÿçš„å¿…è¦æ¡ä»¶ï¼šäº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ã€‚è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªçº¿ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚ä¸å‰¥å¤ºæ¡ä»¶ï¼šçº¿ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²çº¿ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚ é¿å…æ­»é”ï¼šåŠ é”é¡ºåºï¼ˆçº¿ç¨‹æŒ‰ç…§ä¸€å®šçš„é¡ºåºåŠ é”ï¼‰åŠ é”æ—¶é™ï¼ˆçº¿ç¨‹å°è¯•è·å–é”çš„æ—¶å€™åŠ ä¸Šä¸€å®šçš„æ—¶é™ï¼Œè¶…è¿‡æ—¶é™åˆ™æ”¾å¼ƒå¯¹è¯¥é”çš„è¯·æ±‚ï¼Œå¹¶é‡Šæ”¾è‡ªå·±å æœ‰çš„é”ï¼‰æ­»é”æ£€æµ‹ é’ˆå¯¹é‚£äº›ä¸å¯èƒ½å®ç°æŒ‰åºåŠ é”å¹¶ä¸”é”è¶…æ—¶ä¹Ÿä¸å¯è¡Œçš„åœºæ™¯ Javaå¸¸è§çš„ç¼–ç æ–¹å¼ASCIIç ï¼ŒGBKï¼ŒUTF-8ï¼ŒUTF-16UTF-8 ä¸­æ–‡å  3 ä¸ªå­—èŠ‚ï¼Œè‹±æ–‡å  1 ä¸ªå­—èŠ‚UTF-16 ä¸­æ–‡å  4 ä¸ªå­—èŠ‚ï¼Œè‹±æ–‡å  4 ä¸ªå­—èŠ‚ åŸºæœ¬æ•°æ®ç±»å‹çš„å¤§å°ï¼Œä»¥åŠå°è£…ç±» Java ç½‘ç»œåè®®http ä¸ https çš„åŒºåˆ« ç±»å‹ åŸç† åŠŸèƒ½ ï¼ˆæ•°æ®åŠ å¯†ï¼‰ æ€§èƒ½ï¼ˆå®‰å…¨æ€§ï¼‰ æ ‡å‡†ç«¯å£ CAè¯ä¹¦ URL å¼€å¤´ HTTP åº”ç”¨å±‚ ä¸åŠ å¯†ï¼ˆæ˜æ–‡ä¼ è¾“ï¼‰ ä¸å®‰å…¨ 80 ä¸éœ€ http:// HTTPS ä¼ è¾“å±‚ åŠ å¯†ï¼ˆSSLåŠ å¯†ï¼Œèº«ä»½è®¤è¯ï¼‰ å®‰å…¨ 443 éœ€è¦ https:// http æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ é€’ï¼›https æ˜¯å…·æœ‰å®‰å…¨æ€§çš„sslåŠ å¯†ä¼ è¾“åè®®ï¼Œä¿è¯äº¤æ¢æ•°æ®çš„éšç§ä¸å®Œæ•´æ€§ã€‚ http å’Œ https ç½‘ç»œåˆ†å±‚ä¸å¯¹æ¯” HTTP HTTPS HTTP - åº”ç”¨å±‚ HTTP - åº”ç”¨å±‚ TSL/SSL - å®‰å…¨å±‚ TCP - ä¼ è¾“å±‚ TCP - ä¼ è¾“å±‚ IP - ç½‘ç»œå±‚ IP - ç½‘ç»œå±‚ ç½‘ç»œæ¥å£ - æ•°æ®é“¾è·¯å±‚ ç½‘ç»œæ¥å£ - æ•°æ®é“¾è·¯å±‚ HTTPS å¤‡æ³¨ HTTP - åº”ç”¨å±‚ TSL/SSL - å®‰å…¨å±‚ TCP - ä¼ è¾“å±‚ IP - ç½‘ç»œå±‚ ç½‘ç»œæ¥å£ - æ•°æ®é“¾è·¯å±‚ TCP/IP åè®®æ— å››å±‚æ¨¡å‹ä¸ºä»€ä¹ˆè¦åˆ†å±‚ï¼Ÿå› ä¸ºç½‘ç»œä¸ç¨³å®šï¼Œæˆ–è€…æ•°æ®æ¯”è¾ƒå¤§ï¼ˆï¼‰å¯¹æ•°æ®åˆ‡å—ï¼Œæ‰€ä»¥éœ€è¦åˆ†å±‚ã€‚ HTTP å¤‡æ³¨ HTTP - åº”ç”¨å±‚ ä¸Šå±‚å‘æ•°æ® TCP - ä¼ è¾“å±‚ ä¼ ä¸œè¥¿ï¼Œä¿è¯ç½‘ç»œçš„ç¨³å®šä¼ è¾“ï¼Œä¸“é—¨åªåšåŒ…çš„åˆ†å‘ï¼ˆTCP ã€UDP éƒ½æœ‰ç½‘ç»œçš„éœ€æ±‚ï¼Œæ‰€ä»¥éœ€è¦å†åˆ†ä¸€å±‚ï¼‰ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥è¯´ æ‹†åŒ… IP - ç½‘ç»œå±‚ ç”¨æ¥å¤„ç†åœ¨ç½‘ç»œä¸ŠæµåŠ¨çš„æ•°æ®åŒ…ã€‚æ•°æ®åŒ…æ˜¯ç½‘ç»œä¼ è¾“çš„æœ€å°æ•°æ®å•ä½ã€‚è¯¥å±‚è§„å®šäº†é€šè¿‡æ€æ ·çš„è·¯å¾„ï¼ˆæ‰€è°“çš„ä¼ è¾“è·¯çº¿ï¼‰åˆ°è¾¾å¯¹æ–¹è®¡ç®—æœºï¼Œå¹¶æŠŠæ•°æ®åŒ…ä¼ é€ç»™å¯¹æ–¹ã€‚è§£æåœ°å€å¯»å€ã€è·¯ç”±ã€æ‰¾è·¯ç”±å™¨ç­‰ ç½‘ç»œæ¥å£ - æ•°æ®é“¾è·¯å±‚ å¾€ç›®æ ‡åœ°å€ä¼ è¾“æ•°æ®ï¼Œå°±æ˜¯æˆ‘ä»¬å®é™…çš„ç½‘ç»œï¼ˆä»¥å¤ªç½‘ã€wifiï¼‰ï¼›é“¾è·¯å±‚ä¹Ÿå¯åˆ†ä¸ºæ•°æ®é“¾è·¯å±‚ã€ç‰©ç†é“¾è·¯å±‚ï¼ˆç½‘çº¿ã€äº¤æ¢æœºï¼‰ã€‚ ä¸¾ä¸€ä¸ªä¾‹å­: æˆ‘ä»¬ç”¨ HTTP ä¸¾ä¾‹æ¥è¯´æ˜ï¼Œé¦–å…ˆä½œä¸ºå‘é€ç«¯çš„å®¢æˆ·ç«¯åœ¨åº”ç”¨å±‚ï¼ˆHTTP åè®®ï¼‰å‘å‡ºä¸€ä¸ªæƒ³çœ‹æŸä¸ªWeb é¡µé¢çš„HTTP è¯·æ±‚ã€‚æ¥ç€ï¼Œä¸ºäº†ä¼ è¾“æ–¹ä¾¿ï¼Œåœ¨ä¼ è¾“å±‚ï¼ˆTCP åè®®ï¼‰æŠŠä»åº”ç”¨å±‚å¤„æ”¶åˆ°çš„æ•°æ®ï¼ˆHTTP è¯·æ±‚æŠ¥æ–‡ï¼‰è¿›è¡Œåˆ†å‰²ï¼Œå¹¶åœ¨å„ä¸ªæŠ¥æ–‡ä¸Šæ‰“ä¸Šæ ‡è®°åºå·åŠç«¯å£å·åè½¬å‘ç»™ç½‘ç»œå±‚ã€‚åœ¨ç½‘ç»œå±‚ï¼ˆIP åè®®ï¼‰ï¼Œå¢åŠ ä½œä¸ºé€šä¿¡ç›®çš„åœ°çš„ MAC åœ°å€(media access control address åª’ä½“é€šè¿‡æ§åˆ¶åœ°å€,ä¹Ÿç§°å±€åŸŸç½‘åœ°å€,MACåœ°å€ç”¨äºåœ¨ç½‘ç»œä¸­å”¯ä¸€æ ‡ç¤ºä¸€ä¸ªç½‘å¡ï¼Œä¸€å°è®¾å¤‡è‹¥æœ‰ä¸€æˆ–å¤šä¸ªç½‘å¡ï¼Œåˆ™æ¯ä¸ªç½‘å¡éƒ½éœ€è¦å¹¶ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„MACåœ°å€ã€‚)åè½¬å‘ç»™é“¾è·¯å±‚ã€‚è¿™æ ·ä¸€æ¥ï¼Œå‘å¾€ç½‘ç»œçš„é€šä¿¡è¯·æ±‚å°±å‡†å¤‡é½å…¨äº†ã€‚æ¥æ”¶ç«¯çš„æœåŠ¡å™¨åœ¨é“¾è·¯å±‚æ¥æ”¶åˆ°æ•°æ®ï¼ŒæŒ‰åºå¾€ä¸Šå±‚å‘é€ï¼Œä¸€ç›´åˆ°åº”ç”¨å±‚ã€‚å½“ä¼ è¾“åˆ°åº”ç”¨å±‚ï¼Œæ‰èƒ½ç®—çœŸæ­£æ¥æ”¶åˆ°ç”±å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„HTTPè¯·æ±‚ã€‚ TCP ä¸ UDP çš„åŒºåˆ«ï¼ŸTcp é¢å‘è¿æ¥ï¼Œæä¾›å¯é çš„ä¼ è¾“ï¼› UDPé¢å‘æ— è¿æ¥ï¼Œæä¾›ä¸å¯é ä¼ è¾“Tcp æä¾›æµé‡æ§åˆ¶ ï¼› UDPä¸æä¾›æµé‡æ§åˆ¶Tcp ä¿è¯ä¼ è¾“æ•°æ®é¡ºåº ï¼› UDPä¸ä¿è¯ä¼ è¾“é¡ºåºï¼Œä¹Ÿå°±æ˜¯å¯èƒ½æ˜¯ä¹±åºæ”¶åŒ…TCP é¢å‘å­—èŠ‚æµ ï¼› UDP é¢å‘æ•°æ®åŒ…è¡¥å……ï¼šTCPä¼ è¾“æ§åˆ¶åè®®ï¼Œä¸€ç§ä¼ è¾“å±‚çš„é€šä¿¡åè®®UDPç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œä¸€ç§ä¼ è¾“å±‚é€šä¿¡åè®®TCPé¢å‘è¿æ¥ï¼ŒUDPæ˜¯æ— è¿æ¥çš„TCPæä¾›å¯é çš„æœåŠ¡ï¼Œé€šè¿‡TCPä¼ è¾“çš„æ•°æ®æ— å·®é”™ï¼Œä¸ä¸¢å¤±ï¼Œä¸é‡å¤ä¸”æŒ‰åºåˆ°è¾¾ï¼›UDPä¸ä¿è¯å¯é äº¤ä»˜TCPé¢å‘å­—èŠ‚æµï¼›UDPé¢å‘æŠ¥æ–‡TCPè¿æ¥åªèƒ½ç‚¹å¯¹ç‚¹ï¼›UDPæ”¯æŒä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„é€šä¿¡TCPé¦–éƒ¨å¼€é”€20å­—èŠ‚ï¼›UDPé¦–éƒ¨å¼€é”€8å­—èŠ‚TCPçš„é€»è¾‘é€šé“æ˜¯å…¨åŒå·¥çš„å¯é ä¿¡é“ï¼›UDPæ˜¯ä¸å¯é ä¿¡é“ http1.0ï¼Œhttp1.1å’Œhttp2.0çš„åŒºåˆ«ï¼Ÿ åŸæ–‡é“¾æ¥:http://blog.51cto.com/12118369/1962662 HTTP1.0 HTTP 1.1 ä¸»è¦åŒºåˆ«é•¿è¿æ¥HTTP 1.0 éœ€è¦ä½¿ç”¨keep-aliveå‚æ•°æ¥å‘ŠçŸ¥æœåŠ¡å™¨ç«¯è¦å»ºç«‹ä¸€ä¸ªé•¿è¿æ¥ï¼Œè€ŒHTTP1.1é»˜è®¤æ”¯æŒé•¿è¿æ¥ã€‚HTTPæ˜¯åŸºäºTCP/IPåè®®çš„ï¼Œåˆ›å»ºä¸€ä¸ªTCPè¿æ¥æ˜¯éœ€è¦ç»è¿‡ä¸‰æ¬¡æ¡æ‰‹çš„,æœ‰ä¸€å®šçš„å¼€é”€ï¼Œå¦‚æœæ¯æ¬¡é€šè®¯éƒ½è¦é‡æ–°å»ºç«‹è¿æ¥çš„è¯ï¼Œå¯¹æ€§èƒ½æœ‰å½±å“ã€‚å› æ­¤æœ€å¥½èƒ½ç»´æŒä¸€ä¸ªé•¿è¿æ¥ï¼Œå¯ä»¥ç”¨ä¸ªé•¿è¿æ¥æ¥å‘å¤šä¸ªè¯·æ±‚ã€‚ èŠ‚çº¦å¸¦å®½HTTP 1.1 æ”¯æŒåªå‘é€headerä¿¡æ¯(ä¸å¸¦ä»»ä½•bodyä¿¡æ¯)ï¼Œå¦‚æœæœåŠ¡å™¨è®¤ä¸ºå®¢æˆ·ç«¯æœ‰æƒé™è¯·æ±‚æœåŠ¡å™¨ï¼Œåˆ™è¿”å›100ï¼Œå¦åˆ™è¿”å›401ã€‚å®¢æˆ·ç«¯å¦‚æœæ¥å—åˆ°100ï¼Œæ‰å¼€å§‹æŠŠè¯·æ±‚bodyå‘é€åˆ°æœåŠ¡å™¨ã€‚ è¿™æ ·å½“æœåŠ¡å™¨è¿”å›401çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥ä¸ç”¨å‘é€è¯·æ±‚bodyäº†ï¼ŒèŠ‚çº¦äº†å¸¦å®½ã€‚å¦å¤–HTTPè¿˜æ”¯æŒä¼ é€å†…å®¹çš„ä¸€éƒ¨åˆ†ã€‚è¿™æ ·å½“å®¢æˆ·ç«¯å·²ç»æœ‰ä¸€éƒ¨åˆ†çš„èµ„æºåï¼Œåªéœ€è¦è·ŸæœåŠ¡å™¨è¯·æ±‚å¦å¤–çš„éƒ¨åˆ†èµ„æºå³å¯ã€‚è¿™æ˜¯æ”¯æŒæ–‡ä»¶æ–­ç‚¹ç»­ä¼ çš„åŸºç¡€ã€‚ HOSTåŸŸç°åœ¨å¯ä»¥web serverä¾‹å¦‚tomatï¼Œè®¾ç½®è™šæ‹Ÿç«™ç‚¹æ˜¯éå¸¸å¸¸è§çš„ï¼Œä¹Ÿå³æ˜¯è¯´ï¼Œweb serverä¸Šçš„å¤šä¸ªè™šæ‹Ÿç«™ç‚¹å¯ä»¥å…±äº«åŒä¸€ä¸ªipå’Œç«¯å£ã€‚ HTTP1.0æ˜¯æ²¡æœ‰hoståŸŸçš„ï¼ŒHTTP1.1æ‰æ”¯æŒè¿™ä¸ªå‚æ•°ã€‚ HTTP1.1 HTTP 2.0ä¸»è¦åŒºåˆ«å¤šè·¯å¤ç”¨HTTP2.0 ä½¿ç”¨äº†å¤šè·¯å¤ç”¨çš„æŠ€æœ¯ï¼Œåšåˆ°åŒä¸€ä¸ªè¿æ¥å¹¶å‘å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œè€Œä¸”å¹¶å‘è¯·æ±‚çš„æ•°é‡æ¯”HTTP1.1å¤§äº†å¥½å‡ ä¸ªæ•°é‡çº§ã€‚å½“ç„¶HTTP1.1ä¹Ÿå¯ä»¥å¤šå»ºç«‹å‡ ä¸ªTCPè¿æ¥ï¼Œæ¥æ”¯æŒå¤„ç†æ›´å¤šå¹¶å‘çš„è¯·æ±‚ï¼Œä½†æ˜¯åˆ›å»ºTCPè¿æ¥æœ¬èº«ä¹Ÿæ˜¯æœ‰å¼€é”€çš„ã€‚TCPè¿æ¥æœ‰ä¸€ä¸ªé¢„çƒ­å’Œä¿æŠ¤çš„è¿‡ç¨‹ï¼Œå…ˆæ£€æŸ¥æ•°æ®æ˜¯å¦ä¼ é€æˆåŠŸï¼Œä¸€æ—¦æˆåŠŸè¿‡ï¼Œåˆ™æ…¢æ…¢åŠ å¤§ä¼ è¾“é€Ÿåº¦ã€‚å› æ­¤å¯¹åº”ç¬æ—¶å¹¶å‘çš„è¿æ¥ï¼ŒæœåŠ¡å™¨çš„å“åº”å°±ä¼šå˜æ…¢ã€‚æ‰€ä»¥æœ€å¥½èƒ½ä½¿ç”¨ä¸€ä¸ªå»ºç«‹å¥½çš„è¿æ¥ï¼Œå¹¶ä¸”è¿™ä¸ªè¿æ¥å¯ä»¥æ”¯æŒç¬æ—¶å¹¶å‘çš„è¯·æ±‚ã€‚å…³äºå¤šè·¯å¤ç”¨ï¼Œå¯ä»¥å‚çœ‹å­¦ä¹ NIO ã€‚ æ•°æ®å‹ç¼©HTTP1.1 ä¸æ”¯æŒheaderæ•°æ®çš„å‹ç¼©ï¼ŒHTTP2.0ä½¿ç”¨HPACKç®—æ³•å¯¹headerçš„æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œè¿™æ ·æ•°æ®ä½“ç§¯å°äº†ï¼Œåœ¨ç½‘ç»œä¸Šä¼ è¾“å°±ä¼šæ›´å¿«ã€‚ æœåŠ¡å™¨æ¨é€æ„æ€æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬å¯¹æ”¯æŒHTTP2.0çš„web serverè¯·æ±‚æ•°æ®çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šé¡ºä¾¿æŠŠä¸€äº›å®¢æˆ·ç«¯éœ€è¦çš„èµ„æºä¸€èµ·æ¨é€åˆ°å®¢æˆ·ç«¯ï¼Œå…å¾—å®¢æˆ·ç«¯å†æ¬¡åˆ›å»ºè¿æ¥å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ç«¯è·å–ã€‚è¿™ç§æ–¹å¼éå¸¸åˆé€‚åŠ è½½é™æ€èµ„æºã€‚æœåŠ¡å™¨ç«¯æ¨é€çš„è¿™äº›èµ„æºå…¶å®å­˜åœ¨å®¢æˆ·ç«¯çš„æŸå¤„åœ°æ–¹ï¼Œå®¢æˆ·ç«¯ç›´æ¥ä»æœ¬åœ°åŠ è½½è¿™äº›èµ„æºå°±å¯ä»¥äº†ï¼Œä¸ç”¨èµ°ç½‘ç»œï¼Œé€Ÿåº¦è‡ªç„¶æ˜¯å¿«å¾ˆå¤šçš„ã€‚ æ€»ç»“ï¼š HTTP1.0 éœ€è¦ä½¿ç”¨keep-aliveå‚æ•°æ¥å‘ŠçŸ¥æœåŠ¡å™¨ç«¯è¦å»ºç«‹ä¸€ä¸ªé•¿è¿æ¥ï¼Œè€ŒHTTP1.1é»˜è®¤æ”¯æŒé•¿è¿æ¥ï¼› http1.1 æ”¯æŒåªå‘é€headerï¼ŒæœåŠ¡å™¨è¿”å›100å†å‘é€è¯·æ±‚ bodyï¼ŒèŠ‚çœå®½å¸¦æµé‡ï¼› http1.1 æ–­ç‚¹ç»­ä¼ ï¼› HTTP1.0 æ˜¯æ²¡æœ‰hoståŸŸçš„ï¼ŒHTTP1.1 æ‰æ”¯æŒè¿™ä¸ªå‚æ•°ï¼›ï¼ˆhost å­—æ®µæŒ‡å®šå¯¹åº”çš„è™šæ‹Ÿç«™ç‚¹ï¼‰ HTTP2.0 ä½¿ç”¨äº†å¤šè·¯å¤ç”¨çš„æŠ€æœ¯ï¼Œåšåˆ°åŒä¸€ä¸ªè¿æ¥å¹¶å‘å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œè€Œä¸”å¹¶å‘è¯·æ±‚çš„æ•°é‡æ¯”HTTP1.1å¤§äº†å¥½å‡ ä¸ªæ•°é‡çº§ï¼› HTTP1.1 ä¸æ”¯æŒheaderæ•°æ®çš„å‹ç¼©ï¼ŒHTTP2.0 ä½¿ç”¨HPACKç®—æ³•å¯¹headerçš„æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œè¿™æ ·æ•°æ®ä½“ç§¯å°äº†ï¼Œåœ¨ç½‘ç»œä¸Šä¼ è¾“å°±ä¼šæ›´å¿«ï¼› HTTP2.0 æ”¯æŒæœåŠ¡ç«¯æ¨é€ æµè§ˆå™¨è¾“å…¥åœ°å€åˆ°è¿”å›ç»“æœå‘ç”Ÿäº†ä»€ä¹ˆï¼ŸDNSåŸŸåè§£æå»ºç«‹TCPè¿æ¥å‘é€HTTPè¯·æ±‚æœåŠ¡å™¨å¤„ç† HTTP è¯·æ±‚å¹¶è¿”å›å“åº”æŠ¥æ–‡å…³é—­TCPè¿æ¥æµè§ˆå™¨è§£æHTMLæµè§ˆå™¨æ¸²æŸ“å¸ƒå±€ç•Œé¢ Get å’Œ Post åŒºåˆ«ï¼ŸGet ä¸ post éƒ½æ˜¯HTTPåè®®ä¸­ä¸¤ç§å‘é€è¯·æ±‚çš„æ–¹æ³•Get å‚æ•°é€šè¿‡URLä¼ é€’ï¼Œpostæ”¾åœ¨ Request body ä¸­Get å‚æ•°ç›´æ¥æš´éœ²åœ¨URLä¸­ï¼Œä¸èƒ½ä¼ é€’æ•æ„Ÿä¿¡æ¯ï¼Œä¸å®‰å…¨Get å¯¹å‚æ•°ç±»å‹ï¼Œé•¿åº¦ï¼Œç¼–ç éƒ½æœ‰é™åˆ¶ï¼Œpost æ²¡æœ‰Get äº§ç”Ÿä¸€ä¸ªTCPæ•°æ®åŒ…ï¼Œpostäº§ç”Ÿä¸¤ä¸ªTCPæ•°æ®åŒ…","categories":[{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/categories/java/"},{"name":"é¢è¯•","slug":"interview","permalink":"https://leaderliang.coding.me/categories/interview/"}],"tags":[{"name":"Java","slug":"java","permalink":"https://leaderliang.coding.me/tags/java/"},{"name":"é¢è¯•","slug":"interview","permalink":"https://leaderliang.coding.me/tags/interview/"}]},{"title":"çˆ¶æ¯æ˜¯æˆ‘ä»¬å’Œæ­»ç¥ä¹‹é—´çš„ä¸€å µå¢™","slug":"çˆ¶æ¯æ˜¯æˆ‘ä»¬å’Œæ­»ç¥ä¹‹é—´çš„ä¸€å µå¢™","date":"2018-04-19T14:11:48.000Z","updated":"2019-03-19T15:59:35.819Z","comments":true,"path":"2ef5.html","link":"","permalink":"https://leaderliang.coding.me/2ef5.html","excerpt":"çˆ¶æ¯æ˜¯æˆ‘ä»¬å’Œæ­»ç¥ä¹‹é—´çš„ä¸€å µå¢™","text":"çˆ¶æ¯æ˜¯æˆ‘ä»¬å’Œæ­»ç¥ä¹‹é—´çš„ä¸€å µå¢™ï¼Œæ„Ÿè§‰è§†é¢‘è¯´çš„æŒºç°å®çš„â€¦","categories":[{"name":"è§†é¢‘æ¨è","slug":"video","permalink":"https://leaderliang.coding.me/categories/video/"}],"tags":[{"name":"è§†é¢‘æ¨è","slug":"video","permalink":"https://leaderliang.coding.me/tags/video/"},{"name":"video","slug":"video","permalink":"https://leaderliang.coding.me/tags/video/"}]},{"title":"ç¨‹åºå‘˜å¿…å¤‡ç¿»å¢™æŠ€èƒ½ä¹‹ Shadowsocks çš„ä½¿ç”¨","slug":"ç¨‹åºå‘˜å¿…å¤‡ç¿»å¢™æŠ€èƒ½ä¹‹-Shadowsocks-çš„ä½¿ç”¨","date":"2018-03-11T07:58:10.000Z","updated":"2019-12-24T04:19:43.609Z","comments":true,"path":"1829.html","link":"","permalink":"https://leaderliang.coding.me/1829.html","excerpt":"ä½œä¸ºä¸€ååˆæ ¼çš„ç¨‹åºå‘˜ï¼Œèƒ½å¤Ÿåœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­åœ¨ä½¿ç”¨æœç´¢å¼•æ“æ—¶æé«˜æœç´¢æ•ˆç‡ï¼Œå¤§å®¶éƒ½ä¼šé€‰æ‹©ä½¿ç”¨ Google","text":"ä½œä¸ºä¸€ååˆæ ¼çš„ç¨‹åºå‘˜ï¼Œèƒ½å¤Ÿåœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­åœ¨ä½¿ç”¨æœç´¢å¼•æ“æ—¶æé«˜æœç´¢æ•ˆç‡ï¼Œå¤§å®¶éƒ½ä¼šé€‰æ‹©ä½¿ç”¨ Googleï¼Œä½†æ˜¯å› ä¸ºè¯¸å¤šåŸå› è¢«é™åˆ¶ï¼Œä»Šå¤©å°±ç»™å¤§å®¶æ¨èä¸€ä¸ªæ€§ä»·æ¯”æé«˜çš„ç¿»å¢™å·¥å…·ï¼Œå½“ç„¶å¦‚æœä¸ªäººæœ‰æ—¶é—´å’Œèƒ½åŠ›çš„è¯ï¼Œå¯ä»¥è‡ªå·±æ­å»ºä¸€ä¸ªâ€¦ Shadowsockså®¢æˆ·ç«¯ä¸‹è½½ä¸€æµçš„å®‰å…¨æ€§å’ŒåŠ å¯†ï¼Œå¹¶ä¸”è¦†ç›–æ‰€æœ‰æ“ä½œç³»ç»Ÿï¼ˆWindowsã€Mac OS Xã€ Linuxã€Androidã€iosã€OpenWRTï¼‰ï¼Œä¸‹è½½åœ°å€ Mac çš„ç•Œé¢å¤§è‡´å¦‚ä¸‹å›¾ï¼Œå…¶ä»–æ“ä½œç³»ç»Ÿçš„å¯ä»¥åœ¨ Github ä¸Šè‡ªè¡Œç ”ç©¶ã€‚ Shadowsocks å®˜æ–¹æœåŠ¡è´­ä¹°å®¢æˆ·ç«¯ä¸‹è½½å®Œåï¼Œéœ€è¦è´­ä¹°ä»–ä»¬çš„æœåŠ¡ï¼Œä»–ä»¬çš„äº§å“è¿æ¥ Shadowsocksï¼Œæ‰“å¼€ååº”è¯¥å¯ä»¥çœ‹åˆ°ä»–ä»¬çš„æœåŠ¡è´­ä¹°å…¥å£ æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©é€‚åˆè‡ªå·±çš„ç§ç±»å°±è¡Œè´­ä¹°ï¼Œä¸ªäººæ¨èä½¿ç”¨æ€§ä»·æ¯”æœ€é«˜çš„æ˜¯äº‘åŠ é€ŸæœåŠ¡é‡Œçš„å…¥é—¨ç‰ˆæœ¬ï¼Œä¸»è¦æ˜¯ä»·æ ¼ä¾¿å®œå•Šï¼Œ19.95 AUD/å¹´ï¼Œçº¦åˆ 94.3914 å…ƒäººæ°‘å¸ï¼Œæ¯”æˆ‘ä¹‹å‰ç”¨çš„ä¾¿å®œå¤šäº†ã€‚å¦å¤–æ¯ä¸ªæœˆ 50G æµé‡ï¼Œæ¬¡æœˆæ¸…é›¶ï¼Œé‡æ–°è®¡ç®—ï¼Œå…¶å®ä½¿åŠ²å„¿ç”¨ä¸€åŠéƒ½ç”¨ä¸ä¸Šã€‚è€Œä¸”åœ¨ YouTube ä¸Šçœ‹è§†é¢‘ä¹Ÿä¸å¡å‘¦ï¼Œå¦å¤–å‘Šè¯‰å¤§å®¶ä¸€ä¸ªå°ç§˜å¯†ï¼Œå…¥é—¨ç‰ˆä¸Šå†™ç€ä»…æ”¯æŒ 1 å°è®¾å¤‡åŒæ—¶è¿æ¥ï¼Œå®é™…ä¸Šä½ å¯ä»¥å·§å¦™çš„ç»•å¼€å‘¦ï¼Œåœ¨è¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚ Shadowsocks å‚æ•°é…ç½®å› ä¸ºå„ä¸ªå¹³å°åŒ…æ‹¬ç‰ˆæœ¬ä¸åŒï¼Œé…ç½®æ–¹å¼å¯èƒ½ä¹Ÿä¼šå¤šå°‘æœ‰äº›å·®å¼‚ï¼Œæœ‰ä¸æ˜ç™½çš„å¯ä»¥åœ¨ä¸Šé¢æåˆ°çš„ Github ä¸Šæ‰¾ä¸€ä¸‹ï¼Œæˆ–è€…çœ‹ä¸‹ç¤¾åŒºè®ºå›ï¼Œæ€»ä¼šæ‰¾åˆ°è§£å†³åŠæ³•çš„ï¼Œåœ¨è¿™é‡Œå°±ç®€å•è¯´ä¸‹ Mac ä¸Šçš„é…ç½®ã€‚ è´­ä¹°åçš„é¡µé¢é•¿è¿™æ · ç‚¹å‡»åˆ—è¡¨é‡Œçš„ äº‘åŠ é€ŸæœåŠ¡ - å…¥é—¨ç‰ˆï¼Œè¿›å…¥ç®¡ç†å…¥é—¨ç‰ˆç•Œé¢ï¼Œä¼šçœ‹åˆ°è‡ªå·±çš„æ³¨å†Œæ—¥æœŸã€ç»­çº¦ä»·æ ¼ã€è´¦å•å‘¨æœŸç­‰ä¿¡æ¯ï¼Œåœ¨è¿™é‡Œä¸»è¦è¯´ä¸‹å¿«é€Ÿé…ç½®ã€‚ ç•Œé¢å¾€ä¸‹æ»‘å¯ä»¥çœ‹åˆ°ç±»ä¼¼ä¸Šå›¾çš„ä¿¡æ¯ï¼Œç‚¹å‡»å³ä¾§çš„äºŒç»´ç å›¾ç‰‡ä¼šæ˜¾ç¤ºä¸€ä¸ªäºŒç»´ç ï¼Œåˆ«æ€¥å…³é—­ï¼Œæ­¤æ—¶ç‚¹å‡»ç”µè„‘ä¸Šå®‰è£…çš„ Shadowsocksï¼Œå³é”®æˆ–è€…æ€ä¹ˆæ‰“å¼€æ“ä½œèœå•ï¼ŒMac çš„é•¿è¿™æ · ç‚¹å‡»æ‰«æå±å¹•ä¸Šçš„äºŒç»´ç ï¼Œç¨ç­‰ä¸€ä¸¤ç§’ï¼ŒShadowsocks å°±å·²ç»è‡ªåŠ¨å¸®ä½ é…ç½®å¥½äº†ï¼Œå¯ä»¥ç‚¹å¼€ Shadowsocks èœå•é‡Œçš„ æœåŠ¡å™¨é…ç½® è¿›è¡ŒæŸ¥çœ‹åˆšæ‰çš„é…ç½®ä¿¡æ¯ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨é…ç½®ï¼Œåœ¨è¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼Œè‡ªè¡Œç ”ç©¶ã€‚ ä¸€åˆ‡å°±ç»ªåï¼Œå°±å¯ä»¥æ„‰å¿«çš„ç©è€å•¦~","categories":[{"name":"Tools","slug":"tools","permalink":"https://leaderliang.coding.me/categories/tools/"}],"tags":[{"name":"Tools","slug":"tools","permalink":"https://leaderliang.coding.me/tags/tools/"},{"name":"Shadowsocks","slug":"shadowsocks","permalink":"https://leaderliang.coding.me/tags/shadowsocks/"},{"name":"ç¿»å¢™","slug":"vpn","permalink":"https://leaderliang.coding.me/tags/vpn/"},{"name":"Google","slug":"google","permalink":"https://leaderliang.coding.me/tags/google/"},{"name":"VPN","slug":"vpn","permalink":"https://leaderliang.coding.me/tags/vpn/"}]},{"title":"RxJava2.0 å­¦ä¹ ç¬”è®° - åŒæ­¥å’Œå¼‚æ­¥çš„ç†è§£å’Œè®¤è¯†","slug":"RxJava2-0-å­¦ä¹ ç¬”è®°-åŒæ­¥å’Œå¼‚æ­¥çš„ç†è§£å’Œè®¤è¯†","date":"2017-12-24T10:06:30.000Z","updated":"2019-11-20T13:22:49.567Z","comments":true,"path":"43e5.html","link":"","permalink":"https://leaderliang.coding.me/43e5.html","excerpt":"","text":"RxJava2.0 åŒæ­¥ã€å¼‚æ­¥æœ¬æ–‡å¹¶éåŸåˆ›ï¼Œé€šè¿‡å„ä½åšä¸»åšå®¢å­¦ä¹ åæ€»ç»“è€Œå¾—ï¼Œä»¥æ–¹ä¾¿è‡ªå·±å­¦ä¹ ï¼Œåœ¨æ­¤æ„Ÿè°¢å„ä½å‰è¾ˆï¼Œå¹¶åœ¨ä¸‹é¢æ³¨æ˜å‡ºå¤„ã€‚ RxJava åŒæ­¥å½“ä¸Šä¸‹æ¸¸å·¥ä½œåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­æ—¶, è¿™æ—¶å€™æ˜¯ä¸€ä¸ªåŒæ­¥çš„è®¢é˜…å…³ç³», ä¹Ÿå°±æ˜¯è¯´ä¸Šæ¸¸æ¯å‘é€ä¸€ä¸ªäº‹ä»¶å¿…é¡»ç­‰åˆ°ä¸‹æ¸¸æ¥æ”¶å¤„ç†å®Œäº†ä»¥åæ‰èƒ½æ¥ç€å‘é€ä¸‹ä¸€ä¸ªäº‹ä»¶ã€‚ RxJava å¼‚æ­¥å½“ä¸Šä¸‹æ¸¸å·¥ä½œåœ¨ä¸åŒçš„çº¿ç¨‹ä¸­æ—¶, è¿™æ—¶å€™æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„è®¢é˜…å…³ç³», è¿™ä¸ªæ—¶å€™ä¸Šæ¸¸å‘é€æ•°æ®ä¸éœ€è¦ç­‰å¾…ä¸‹æ¸¸æ¥æ”¶, ä¸ºä»€ä¹ˆå‘¢, å› ä¸ºä¸¤ä¸ªçº¿ç¨‹å¹¶ä¸èƒ½ç›´æ¥è¿›è¡Œé€šä¿¡, å› æ­¤ä¸Šæ¸¸å‘é€çš„äº‹ä»¶å¹¶ä¸èƒ½ç›´æ¥åˆ°ä¸‹æ¸¸é‡Œå», è¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€ä¸ªç”°èºå§‘å¨˜æ¥å¸®åŠ©å®ƒä»¬ä¿©, è¿™ä¸ªç”°èºå§‘å¨˜å°±æ˜¯æ°´ç¼¸ ! ä¸Šæ¸¸æŠŠäº‹ä»¶å‘é€åˆ°æ°´ç¼¸é‡Œå», ä¸‹æ¸¸ä»æ°´ç¼¸é‡Œå–å‡ºäº‹ä»¶æ¥å¤„ç†, å› æ­¤, å½“ä¸Šæ¸¸å‘äº‹ä»¶çš„é€Ÿåº¦å¤ªå¿«, ä¸‹æ¸¸å–äº‹ä»¶çš„é€Ÿåº¦å¤ªæ…¢, æ°´ç¼¸å°±ä¼šè¿…é€Ÿè£…æ»¡, ç„¶åæº¢å‡ºæ¥, æœ€åå°± OOM äº†ã€‚ ä¸¾ä¾‹ï¼š 12345678910111213141516Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; for (int i = 0; ; i++) &#123; //æ— é™å¾ªç¯å‘äº‹ä»¶ emitter.onNext(i); &#125; &#125; &#125;).subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Thread.sleep(2000); Log.d(TAG, &quot;&quot; + integer); &#125; &#125;); è¿™ä¸ªå°±æ˜¯ä¸Šé¢è§£é‡Šçš„ï¼Œä¸Šæ¸¸å‘é€çš„æ‰€æœ‰äº‹ä»¶éƒ½æ”¾åˆ°æ°´ç¼¸é‡Œäº†, æ‰€ä»¥ç¬é—´æ°´ç¼¸å°±æ»¡äº†ï¼Œå°±ç›´æ¥ Throwing OutOfMemoryError æ‰äº†ã€‚ åŒæ­¥ã€å¼‚æ­¥åŒºåˆ«ä»ä¸Šé¢ä¸¤å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡º, åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«ä»…ä»…åœ¨äºæ˜¯å¦æœ‰ æ°´ç¼¸ã€‚æºå¤´æ‰¾åˆ°äº†, åªè¦æœ‰ æ°´ç¼¸, å°±ä¼šå‡ºç°ä¸Šä¸‹æ¸¸å‘é€äº‹ä»¶é€Ÿåº¦ä¸å¹³è¡¡çš„æƒ…å†µ, å› æ­¤å½“æˆ‘ä»¬ä»¥åé‡åˆ°è¿™ç§æƒ…å†µæ—¶, ä»”ç»†æ€è€ƒä¸€ä¸‹æ°´ç¼¸åœ¨å“ªé‡Œ, æ‰¾åˆ°æ°´ç¼¸, ä½ å°±æ‰¾åˆ°äº†è§£å†³é—®é¢˜çš„åŠæ³•ã€‚ é¿å… OOM çš„å‡ ç§æœ‰æ•ˆæœæ–¹æ¡ˆæŸ¥çœ‹æ•ˆç‡å¯ä»¥åœ¨ studio ä¸­æ‰§è¡Œä»£ç ï¼Œç„¶åæ‰“å¼€ Android Monitor æˆ– Profilerï¼ŒæŸ¥çœ‹å†…å­˜æ›²çº¿ï¼ŒæŸ¥çœ‹å·®å¼‚ ä¸Šæ¸¸ä¸é™åˆ¶ï¼Œä¸‹æ¸¸æ§åˆ¶å»¶è¿Ÿè¿™æ®µä»£ç å¾ˆç®€å•, ä¸Šæ¸¸åŒæ ·æ— é™å¾ªç¯çš„å‘é€äº‹ä»¶, åœ¨ä¸‹æ¸¸æ¯æ¬¡æ¥æ”¶äº‹ä»¶å‰å»¶æ—¶2ç§’. ä¸Šä¸‹æ¸¸å·¥ä½œåœ¨åŒä¸€ä¸ªçº¿ç¨‹é‡Œ 1234567891011121314Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; for (int i = 0; ; i++) &#123; //æ— é™å¾ªç¯å‘äº‹ä»¶ emitter.onNext(i); &#125; &#125; &#125;).subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Thread.sleep(2000); Log.d(TAG, &quot;&quot; + integer); &#125; &#125;); ä¸Šæ¸¸æ§åˆ¶æ•°æ®é‡é‚£æˆ‘ä»¬å¯ä»¥åªæ”¾æˆ‘ä»¬éœ€è¦çš„äº‹ä»¶åˆ°æ°´ç¼¸é‡Œå‘€, åªæ”¾ä¸€éƒ¨åˆ†æ•°æ®åˆ°æ°´ç¼¸é‡Œ, è¿™æ ·ä¸å°±ä¸ä¼šæº¢å‡ºæ¥äº†ä¹ˆ 123456789101112131415161718192021Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; for (int i = 0; ; i++) &#123; emitter.onNext(i); &#125; &#125; &#125;).subscribeOn(Schedulers.io()) .filter(new Predicate&lt;Integer&gt;() &#123; @Override public boolean test(Integer integer) throws Exception &#123; return integer % 10 == 0; &#125; &#125;) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Log.d(TAG, &quot;&quot; + integer); &#125; &#125;); åœ¨è¿™æ®µä»£ç ä¸­æˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ªfilter, åªå…è®¸èƒ½è¢«10æ•´é™¤çš„äº‹ä»¶é€šè¿‡ã€‚å¯ä»¥çœ‹åˆ°, é€šè¿‡å‡å°‘è¿›å…¥æ°´ç¼¸çš„äº‹ä»¶æ•°é‡çš„ç¡®å¯ä»¥æœ‰æ•ˆç¼“è§£ä¸Šä¸‹æ¸¸æµé€Ÿä¸å‡è¡¡çš„é—®é¢˜, ä½†æ˜¯åŠ›åº¦è¿˜ä¸æ˜¯ç‰¹åˆ«å¤Ÿã€‚ é€šè¿‡ sample æ“ä½œç¬¦sample æ“ä½œç¬¦, è¿™ä¸ªæ“ä½œç¬¦æ¯éš”æŒ‡å®šçš„æ—¶é—´å°±ä»ä¸Šæ¸¸ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶å‘é€ç»™ä¸‹æ¸¸ã€‚ä¸‹é¢ä¿®æ”¹ä»£ç æ¯éš” 2 ç§’å–ä¸€ä¸ªäº‹ä»¶ç»™ä¸‹æ¸¸ï¼š 1234567891011121314151617Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; for (int i = 0; ; i++) &#123; emitter.onNext(i); &#125; &#125;&#125;).subscribeOn(Schedulers.io()) /*sampleå–æ ·*/ .sample(2, TimeUnit.SECONDS) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Log.d(TAG, &quot;&quot; + integer); &#125; &#125;); é€šè¿‡æŸ¥çœ‹æ›²çº¿å˜åŒ–å¯ä»¥çœ‹åˆ°, è™½ç„¶ä¸Šæ¸¸ä»ç„¶ä¸€ç›´åœ¨ä¸åœçš„å‘äº‹ä»¶, ä½†æ˜¯æˆ‘ä»¬åªæ˜¯æ¯éš”ä¸€å®šæ—¶é—´å–ä¸€ä¸ªæ”¾è¿›æ°´ç¼¸é‡Œ, å¹¶æ²¡æœ‰å…¨éƒ¨æ”¾è¿›æ°´ç¼¸é‡Œ, å› æ­¤è¿™ç§æ“ä½œå†…å­˜å æœ‰ç‡ä¹Ÿæ˜¯å¾ˆä½çš„ã€‚ç¬¬äºŒã€ä¸‰è¿™ä¸¤ç§æ–¹æ³•å½’æ ¹åˆ°åº•å…¶å®å°±æ˜¯å‡å°‘æ”¾è¿›æ°´ç¼¸çš„äº‹ä»¶çš„æ•°é‡, æ˜¯ä»¥æ•°é‡å–èƒœçš„ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹æ³•æœ‰ä¸ªç¼ºç‚¹, å°±æ˜¯ä¸¢å¤±äº†å¤§éƒ¨åˆ†çš„äº‹ä»¶ã€‚ å‡æ…¢ä¸Šæ¸¸å‘é€äº‹ä»¶çš„é€Ÿåº¦æ—¢ç„¶ä¸Šæ¸¸å‘é€äº‹ä»¶çš„é€Ÿåº¦å¤ªå¿«, é‚£æˆ‘ä»¬å°±é€‚å½“å‡æ…¢å‘é€äº‹ä»¶çš„é€Ÿåº¦, ä»é€Ÿåº¦ä¸Šå–èƒœã€‚ä¸¾æ —ï¼š 12345678910111213141516Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; for (int i = 0; ; i++) &#123; emitter.onNext(i); Thread.sleep(2000); //æ¯æ¬¡å‘é€å®Œäº‹ä»¶å»¶æ—¶2ç§’ &#125; &#125; &#125;).subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Log.d(TAG, &quot;&quot; + integer); &#125; &#125;); ä¸Šæ¸¸æ¯æ¬¡å‘é€å®Œäº‹ä»¶åéƒ½å»¶æ—¶äº† 2 ç§’ã€‚æŸ¥çœ‹ Profiler å†…å­˜æ›²çº¿æ˜¯å¹³æ»‘çš„ï¼Œè€Œä¸”äº‹ä»¶ä¹Ÿæ²¡æœ‰ä¸¢å¤±ï¼Œä¸Šæ¸¸é€šè¿‡é€‚å½“çš„å»¶æ—¶ï¼Œä¸ä½†å‡ç¼“äº†äº‹ä»¶è¿›å…¥æ°´ç¼¸çš„é€Ÿåº¦ï¼Œä¹Ÿå¯ä»¥è®©ä¸‹æ¸¸æœ‰å……è¶³çš„æ—¶é—´ä»æ°´ç¼¸é‡Œå–å‡ºäº‹ä»¶æ¥å¤„ç†ï¼Œè¿™æ ·ä¸€æ¥, å°±ä¸è‡³äºå¯¼è‡´å¤§é‡çš„äº‹ä»¶æ¶Œè¿›æ°´ç¼¸ï¼Œä¹Ÿå°±ä¸ä¼šOOMå•¦ã€‚ åˆ°ç›®å‰ä¸ºæ­¢, æˆ‘ä»¬æ²¡æœ‰ä¾é ä»»ä½•å…¶ä»–çš„å·¥å…·, å°±è½»æ˜“è§£å†³äº†ä¸Šä¸‹æ¸¸æµé€Ÿä¸å‡è¡¡çš„é—®é¢˜ã€‚ æ€»ç»“ä¸€ä¸‹, ä¸Šé¢æåˆ°çš„æ²»ç†åŠæ³•å°±ä¸¤ç§: ä»æ•°é‡ä¸Šè¿›è¡Œæ²»ç†, å‡å°‘å‘é€è¿›æ°´ç¼¸é‡Œçš„äº‹ä»¶ã€‚ ä»é€Ÿåº¦ä¸Šè¿›è¡Œæ²»ç†, å‡ç¼“äº‹ä»¶å‘é€è¿›æ°´ç¼¸çš„é€Ÿåº¦ã€‚ ä»¥ä¸Šçš„å­¦ä¹ ï¼Œè®©æˆ‘å¯¹å¦‚ä½•å¤„ç†ä¸Šä¸‹æ¸¸æµé€Ÿä¸å‡è¡¡å·²ç»æœ‰äº†åŸºæœ¬çš„è®¤è¯†äº†ã€‚Flowable è™½ç„¶ä¹Ÿå¯ä»¥å®ç°ï¼Œä½†æ˜¯è¿™é‡Œå¹¶æ²¡æœ‰ä½¿ç”¨ Flowable, æ‰€ä»¥å¾ˆå¤šæ—¶å€™ä»”ç»†å»åˆ†æé—®é¢˜, æ‰¾åˆ°é—®é¢˜çš„åŸå› , ä»æºå¤´å»è§£å†³æ‰æ˜¯æœ€æ ¹æœ¬çš„åŠæ³•ã€‚Flowableï¼Œå…¶å®æ²¡ä»€ä¹ˆç¥ç§˜çš„, å®ƒç”¨åˆ°çš„åŠæ³•å’Œä¸Šé¢æ‰€è®²çš„åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„, åªæ˜¯å®ƒç¨å¾®åšäº†ç‚¹å°è£…ã€‚","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"RxJava","slug":"rxjava","permalink":"https://leaderliang.coding.me/categories/rxjava/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"RxJava","slug":"rxjava","permalink":"https://leaderliang.coding.me/tags/rxjava/"}]},{"title":"RxJava2.0 å­¦ä¹ ç¬”è®° - å¸¸è§æ“ä½œç¬¦çš„ä½¿ç”¨","slug":"RxJava2-0-å­¦ä¹ ç¬”è®°-æ“ä½œç¬¦çš„ä½¿ç”¨","date":"2017-12-20T14:56:58.000Z","updated":"2019-11-20T13:22:17.124Z","comments":true,"path":"32d4.html","link":"","permalink":"https://leaderliang.coding.me/32d4.html","excerpt":"","text":"RxJava2.0 æ“ä½œç¬¦æœ¬æ–‡å¹¶éåŸåˆ›ï¼Œé€šè¿‡å„ä½åšä¸»åšå®¢å­¦ä¹ åæ€»ç»“è€Œå¾—ï¼Œä»¥æ–¹ä¾¿è‡ªå·±å­¦ä¹ ï¼Œåœ¨æ­¤æ„Ÿè°¢å„ä½å‰è¾ˆï¼Œå¹¶åœ¨ä¸‹é¢æ³¨æ˜å‡ºå¤„ã€‚ æ“ä½œç¬¦ç›®å½• map flatMap concatMap zip è¯´æ˜ mapmap æ˜¯ RxJava ä¸­æœ€ç®€å•çš„ä¸€ä¸ªå˜æ¢æ“ä½œç¬¦, å®ƒçš„ä½œç”¨å°±æ˜¯å¯¹ä¸Šæ¸¸å‘é€çš„æ¯ä¸€ä¸ªäº‹ä»¶åº”ç”¨ä¸€ä¸ªå‡½æ•°, ä½¿å¾—æ¯ä¸€ä¸ªäº‹ä»¶éƒ½æŒ‰ç…§æŒ‡å®šçš„å‡½æ•°å»å˜åŒ–ã€‚ç”¨ä¸‹é¢å›¾è¡¨ç¤ºï¼š å›¾ä¸­ map ä¸­çš„å‡½æ•°ä½œç”¨æ˜¯å°†åœ†å½¢äº‹ä»¶è½¬æ¢ä¸ºçŸ©å½¢äº‹ä»¶, ä»è€Œå¯¼è‡´ä¸‹æ¸¸æ¥æ”¶åˆ°çš„äº‹ä»¶å°±å˜ä¸ºäº†çŸ©å½¢ã€‚ç”¨ä»£ç æ¥è¡¨ç¤ºä¸ºï¼š 12345678910111213141516171819Observable.create(new ObservableOnSubscribe&lt;String&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;String&gt; emitter) throws Exception &#123; emitter.onNext(&quot;234&quot;); emitter.onNext(&quot;678&quot;); emitter.onNext(&quot;456&quot;); &#125;&#125;).map(new Function&lt;String, Float&gt;() &#123; @Override public Float apply(String string) throws Exception &#123; return Float.valueOf(string); &#125;&#125;).subscribe(new Consumer&lt;Float&gt;() &#123; @Override public void accept(Float aFloat) throws Exception &#123; mRxOperatorsText.append(&quot;accept : &quot; + aFloat + &quot;\\n&quot;); Log.e(TAG, &quot;accept : &quot; + aFloat + &quot;\\n&quot;); &#125;&#125;); åœ¨ä¸Šæ¸¸æˆ‘ä»¬å‘é€çš„æ˜¯ String ç±»å‹, è€Œåœ¨ä¸‹æ¸¸æˆ‘ä»¬æ¥æ”¶çš„æ˜¯ Float ç±»å‹, ä¸­é—´èµ·è½¬æ¢ä½œç”¨çš„å°±æ˜¯ map æ“ä½œç¬¦, è¿è¡Œç»“æœä¸º: 123E/RxUsage: accept : 234.0E/RxUsage: accept : 678.0E/RxUsage: accept : 456.0 é€šè¿‡ map, å¯ä»¥å°†ä¸Šæ¸¸å‘æ¥çš„äº‹ä»¶è½¬æ¢ä¸ºä»»æ„çš„ç±»å‹, å¯ä»¥æ˜¯ä¸€ä¸ªObject, ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªé›†åˆã€‚ flatMapflatMap å°†ä¸€ä¸ªå‘é€äº‹ä»¶çš„ä¸Šæ¸¸ Observable å˜æ¢ä¸ºå¤šä¸ªå‘é€äº‹ä»¶çš„ Observablesï¼Œç„¶åå°†å®ƒä»¬å‘å°„çš„äº‹ä»¶åˆå¹¶åæ”¾è¿›ä¸€ä¸ªå•ç‹¬çš„ Observable é‡Œã€‚ ä½†æœ‰ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒflatMap å¹¶ä¸èƒ½ä¿è¯äº‹ä»¶çš„é¡ºåºï¼Œå¦‚æœéœ€è¦ä¿è¯é¡ºåºï¼Œéœ€è¦ç”¨åˆ°ä¸‹é¢æåˆ°çš„ ConcatMapã€‚ ä¸­é—´flatMapçš„ä½œç”¨æ˜¯å°†åœ†å½¢çš„äº‹ä»¶è½¬æ¢ä¸ºä¸€ä¸ªå‘é€çŸ©å½¢äº‹ä»¶å’Œä¸‰è§’å½¢äº‹ä»¶çš„æ–°çš„ä¸Šæ¸¸Observable. çœ‹çœ‹åˆ†è§£åŠ¨ä½œï¼š ä¸Šæ¸¸æ¯å‘é€ä¸€ä¸ªäº‹ä»¶ï¼ŒflatMap éƒ½å°†åˆ›å»ºä¸€ä¸ªæ–°çš„æ°´ç®¡, ç„¶åå‘é€è½¬æ¢ä¹‹åçš„æ–°çš„äº‹ä»¶ï¼Œä¸‹æ¸¸æ¥æ”¶åˆ°çš„å°±æ˜¯è¿™äº›æ–°çš„æ°´ç®¡å‘é€çš„æ•°æ®ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒflatMap å¹¶ä¸ä¿è¯äº‹ä»¶çš„é¡ºåºï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­æ‰€çœ‹åˆ°çš„ï¼Œå¹¶ä¸æ˜¯äº‹ä»¶ 1 å°±å›ºå®šåœ¨äº‹ä»¶ 2 çš„å‰é¢ã€‚å¦‚æœéœ€è¦ä¿è¯é¡ºåºåˆ™éœ€è¦ä½¿ç”¨ concatMapã€‚ ä»£ç å®ç°ï¼š 1234567891011121314151617181920212223242526272829303132Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; emitter.onNext(1); emitter.onNext(2); emitter.onNext(3); &#125;&#125;).flatMap(new Function&lt;Integer, ObservableSource&lt;String&gt;&gt;() &#123; @Override public ObservableSource&lt;String&gt; apply(Integer integer) throws Exception &#123; List&lt;String&gt; list = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; 3; i++) &#123; list.add(&quot;I am value &quot; + integer); &#125; int delayTime = (int) (1 + Math.random() * 10); return Observable.fromIterable(list).delay(delayTime, TimeUnit.MILLISECONDS); &#125;&#125;).subscribeOn(Schedulers.newThread()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Consumer&lt;String&gt;() &#123; @Override public void accept(String s) throws Exception &#123; // è¿™ä¸ªæ‰“å°å‡ºæ¥æ˜¯ä¸å®Œæ•´çš„ï¼Œå¶å°”ä¼šä¸¢å¤±æ•°æ®ï¼ï¼ï¼ // æœ‰äººè¯´ Android8.0å’ŒAndroid9.0 å…¼å®¹æ€§æœ‰é—®é¢˜äº†ï¼Œä½¿ç”¨ flatmapï¼Œä¸‹æ¸¸æ— æ³•æ¥æ”¶åˆ°å…¨éƒ¨çš„æ¶ˆæ¯ // è¿˜æœªéªŒè¯ ï¼ï¼ï¼ Log.e(TAG, &quot;flatMap : accept : &quot; + s + &quot;\\n&quot;); //è¿™ä¸ªæ‰“å°å‡ºæ¥æ˜¯å®Œæ•´çš„ï¼Œä¸‹æ¸¸ä¸ä¼šä¸¢å¤±æ•°æ® mRxOperatorsText.append(&quot;stringBuffer flatMap : accept : &quot; + s + &quot;\\n&quot;); Log.e(TAG, mRxOperatorsText.toString()); &#125; &#125;); å¤šæ¬¡æ‰“å°ç»“æœï¼š 12345678E/RxUsage: flatMap : accept : I am value 1E/RxUsage: flatMap : accept : I am value 1E/RxUsage: flatMap : accept : I am value 3E/RxUsage: flatMap : accept : I am value 3E/RxUsage: flatMap : accept : I am value 2E/RxUsage: flatMap : accept : I am value 3E/RxUsage: flatMap : accept : I am value 2E/RxUsage: flatMap : accept : I am value 2 1234567E/RxUsage: flatMap : accept : I am value 1E/RxUsage: flatMap : accept : I am value 1E/RxUsage: flatMap : accept : I am value 2E/RxUsage: flatMap : accept : I am value 2E/RxUsage: flatMap : accept : I am value 3E/RxUsage: flatMap : accept : I am value 3E/RxUsage: flatMap : accept : I am value 3 çœ‹äº†å¾ˆå¤šåšå®¢ï¼Œæ˜¾ç¤ºçš„ç»“æœ 1-3 éƒ½æ˜¯å®Œæ•´å¾ªç¯å¤šæ¬¡åæ‰“å°å‡ºæ¥çš„ï¼Œå¦‚è¿™æ ·ï¼š 123456789D/TAG: I am value 1D/TAG: I am value 1D/TAG: I am value 1D/TAG: I am value 3D/TAG: I am value 3D/TAG: I am value 3D/TAG: I am value 2D/TAG: I am value 2D/TAG: I am value 2 ä¸è¿‡å½“ä½¿ç”¨ StringBuffer append åç»“æœæ˜¯æ­£å¸¸çš„ï¼Œè¯¦ç»†å¯æŸ¥çœ‹ä»£ç  RxUsage/testFlatMap æœ‰ç½‘å‹è¯„è®ºè¯´æ˜¯å’Œæ‰‹æœºç‰ˆæœ¬æœ‰å…³ç³»ï¼Œè¿˜å¾…éªŒè¯â€¦ï¼Œå›å¤´éªŒè¯ä¸€ä¸‹ï¼ï¼ï¼ï¼Ÿï¼Ÿï¼Ÿ flatMap åœ¨é¡¹ç›®ä¸­çš„å®è·µä¸»è¦ç”¨äºè§£å†³ åµŒå¥—è¯·æ±‚ é—®é¢˜ã€‚ ä¸¾ä¸€ä¸ªæ˜¯å®é™…çš„ä¾‹å­ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªæ–°ç”¨æˆ·, å¿…é¡»å…ˆæ³¨å†Œ, ç­‰æ³¨å†ŒæˆåŠŸä¹‹åå†å»è‡ªåŠ¨ç™»å½•ï¼›è¿™æ˜¯ä¸€ä¸ªåµŒå¥—çš„ç½‘ç»œè¯·æ±‚, é¦–å…ˆéœ€è¦å»è¯·æ±‚æ³¨å†Œ, å¾…æ³¨å†ŒæˆåŠŸå›è°ƒäº†å†å»è¯·æ±‚ç™»å½•çš„æ¥å£ã€‚ æ¥å£ï¼š 1234567public interface Api &#123; @GET Observable&lt;LoginResponse&gt; login(@Body LoginRequest request); @GET Observable&lt;RegisterResponse&gt; register(@Body RegisterRequest request);&#125; å¯ä»¥çœ‹åˆ°ç™»å½•å’Œæ³¨å†Œè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªä¸Šæ¸¸ Observable, è€Œ flatMap æ“ä½œç¬¦çš„ä½œç”¨å°±æ˜¯æŠŠä¸€ä¸ª Observable è½¬æ¢ä¸ºå¦ä¸€ä¸ª Observableã€‚ é“¾å¼ä»£ç ï¼š 12345678910111213141516171819202122232425262728api.register(new RegisterRequest()) //å‘èµ·æ³¨å†Œè¯·æ±‚ .subscribeOn(Schedulers.io()) //åœ¨IOçº¿ç¨‹è¿›è¡Œç½‘ç»œè¯·æ±‚ .observeOn(AndroidSchedulers.mainThread()) //å›åˆ°ä¸»çº¿ç¨‹å»å¤„ç†è¯·æ±‚æ³¨å†Œç»“æœ .doOnNext(new Consumer&lt;RegisterResponse&gt;() &#123; @Override public void accept(RegisterResponse registerResponse) throws Exception &#123; /*å…ˆæ ¹æ®æ³¨å†Œçš„å“åº”ç»“æœå»åšä¸€äº›æ“ä½œ*/ &#125; &#125;) .observeOn(Schedulers.io()) //å›åˆ°IOçº¿ç¨‹å»å‘èµ·ç™»å½•è¯·æ±‚ .flatMap(new Function&lt;RegisterResponse, ObservableSource&lt;LoginResponse&gt;&gt;() &#123; @Override public ObservableSource&lt;LoginResponse&gt; apply(RegisterResponse registerResponse) throws Exception &#123; return api.login(new LoginRequest()); &#125; &#125;) .observeOn(AndroidSchedulers.mainThread()) //å›åˆ°ä¸»çº¿ç¨‹å»å¤„ç†è¯·æ±‚ç™»å½•çš„ç»“æœ .subscribe(new Consumer&lt;LoginResponse&gt;() &#123; @Override public void accept(LoginResponse loginResponse) throws Exception &#123; Toast.makeText(MainActivity.this, &quot;ç™»å½•æˆåŠŸ&quot;, Toast.LENGTH_SHORT).show(); &#125; &#125;, new Consumer&lt;Throwable&gt;() &#123; @Override public void accept(Throwable throwable) throws Exception &#123; Toast.makeText(MainActivity.this, &quot;ç™»å½•å¤±è´¥&quot;, Toast.LENGTH_SHORT).show(); &#125; &#125;); å†æ¬¡è¡¥å……ï¼š subscribeOn() æŒ‡å®šçš„æ˜¯ä¸Šæ¸¸å‘é€äº‹ä»¶çš„çº¿ç¨‹;observeOn() æŒ‡å®šçš„æ˜¯ä¸‹æ¸¸æ¥æ”¶äº‹ä»¶çš„çº¿ç¨‹;å¤šæ¬¡æŒ‡å®š ä¸Šæ¸¸ çš„çº¿ç¨‹åªæœ‰ç¬¬ä¸€æ¬¡æŒ‡å®šçš„æœ‰æ•ˆ, ä¹Ÿå°±æ˜¯è¯´å¤šæ¬¡è°ƒç”¨ subscribeOn() åªæœ‰ç¬¬ä¸€æ¬¡çš„æœ‰æ•ˆ, å…¶ä½™çš„ä¼šè¢«å¿½ç•¥ï¼›å¤šæ¬¡æŒ‡å®š ä¸‹æ¸¸ çš„çº¿ç¨‹æ˜¯å¯ä»¥çš„, ä¹Ÿå°±æ˜¯è¯´æ¯è°ƒç”¨ä¸€æ¬¡ observeOn() , ä¸‹æ¸¸çš„çº¿ç¨‹å°±ä¼šåˆ‡æ¢ä¸€æ¬¡ã€‚ concatMapå®ƒå’Œ flatMap çš„ä½œç”¨å‡ ä¹ä¸€æ¨¡ä¸€æ ·, åªæ˜¯å®ƒçš„ç»“æœæ˜¯ä¸¥æ ¼æŒ‰ç…§ä¸Šæ¸¸å‘é€çš„é¡ºåºæ¥å‘é€çš„, ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; e.onNext(1); e.onNext(2); e.onNext(3); &#125;&#125;).concatMap(new Function&lt;Integer, ObservableSource&lt;String&gt;&gt;() &#123; @Override public ObservableSource&lt;String&gt; apply(@NonNull Integer integer) throws Exception &#123; List&lt;String&gt; list = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; 3; i++) &#123; list.add(&quot;I am value &quot; + integer); &#125; int delayTime = (int) (1 + Math.random() * 10); return Observable.fromIterable(list).delay(delayTime, TimeUnit.MILLISECONDS); &#125;&#125;).subscribeOn(Schedulers.newThread()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Consumer&lt;String&gt;() &#123; @Override public void accept(@NonNull String s) throws Exception &#123; Log.e(TAG, &quot;concatMap : accept : &quot; + s + &quot;\\n&quot;); mRxOperatorsText.append(&quot;concatMap : accept : &quot; + s + &quot;\\n&quot;); &#125; &#125;, new Consumer&lt;Throwable&gt;() &#123; @Override public void accept(Throwable throwable) throws Exception &#123; &#125; &#125;); æ‰“å°ç»“æœï¼š 123456E/RxUsage: concatMap : accept : I am value 1E/RxUsage: concatMap : accept : I am value 1E/RxUsage: concatMap : accept : I am value 2E/RxUsage: concatMap : accept : I am value 2E/RxUsage: concatMap : accept : I am value 3E/RxUsage: concatMap : accept : I am value 3 ç»“æœæ˜¯æœ‰åºçš„ï¼Œä½†æ˜¯æ²¡æœ‰æ‰“å°å¾ªç¯ä¸‰æ¬¡çš„ç»“æœï¼Ÿï¼Ÿï¼Ÿéœ€è¦å†æŸ¥ä¸€ä¸‹åŸå› ï¼Œæ›´æ–°åˆ°åšå®¢é‡Œã€‚ zipzip é€šè¿‡ä¸€ä¸ªå‡½æ•°å°†å¤šä¸ª Observable å‘é€çš„äº‹ä»¶ç»“åˆåˆ°ä¸€èµ·ï¼Œç„¶åå‘é€è¿™äº›ç»„åˆåˆ°ä¸€èµ·çš„äº‹ä»¶ã€‚å®ƒæŒ‰ç…§ä¸¥æ ¼çš„é¡ºåºåº”ç”¨è¿™ä¸ªå‡½æ•°ã€‚å®ƒåªå‘å°„ä¸å‘å°„æ•°æ®é¡¹æœ€å°‘çš„é‚£ä¸ª Observable ä¸€æ ·å¤šçš„æ•°æ®ã€‚ ä»è¿™ä¸ªå›¾ä¸­å¯ä»¥çœ‹è§, è¿™æ¬¡ä¸Šæ¸¸å’Œä»¥å¾€ä¸åŒçš„æ˜¯, æœ‰ä¸¤æ ¹æ°´ç®¡å•¦ã€‚å…¶ä¸­ä¸€æ ¹æ°´ç®¡è´Ÿè´£å‘é€åœ†å½¢äº‹ä»¶, å¦å¤–ä¸€æ ¹æ°´ç®¡è´Ÿè´£å‘é€ä¸‰è§’å½¢äº‹ä»¶, é€šè¿‡ zip æ“ä½œç¬¦, ä½¿å¾—åœ†å½¢äº‹ä»¶å’Œä¸‰è§’å½¢äº‹ä»¶åˆå¹¶ä¸ºäº†ä¸€ä¸ªçŸ©å½¢äº‹ä»¶ã€‚ åˆ†è§£åŠ¨ä½œï¼š åˆ†è§£åŠ¨ä½œè§£æï¼šç»„åˆçš„è¿‡ç¨‹æ˜¯åˆ†åˆ«ä» ä¸¤æ ¹æ°´ç®¡é‡Œå„å–å‡ºä¸€ä¸ªäº‹ä»¶ æ¥è¿›è¡Œç»„åˆ, å¹¶ä¸”ä¸€ä¸ªäº‹ä»¶åªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡, ç»„åˆçš„é¡ºåºæ˜¯ä¸¥æ ¼æŒ‰ç…§äº‹ä»¶å‘é€çš„é¡ºåˆ© æ¥è¿›è¡Œçš„, ä¹Ÿå°±æ˜¯è¯´ä¸ä¼šå‡ºç°åœ†å½¢ 1 äº‹ä»¶å’Œä¸‰è§’å½¢ B äº‹ä»¶è¿›è¡Œåˆå¹¶, ä¹Ÿä¸å¯èƒ½å‡ºç°åœ†å½¢ 2 å’Œä¸‰è§’å½¢ A è¿›è¡Œåˆå¹¶çš„æƒ…å†µã€‚ æœ€ç»ˆä¸‹æ¸¸æ”¶åˆ°çš„äº‹ä»¶æ•°é‡æ˜¯å’Œä¸Šæ¸¸ä¸­å‘é€äº‹ä»¶æœ€å°‘çš„é‚£ä¸€æ ¹æ°´ç®¡çš„äº‹ä»¶æ•°é‡ç›¸åŒã€‚è¿™ä¸ªä¹Ÿå¾ˆå¥½ç†è§£, å› ä¸ºæ˜¯ä»æ¯ä¸€æ ¹æ°´ç®¡é‡Œå–ä¸€ä¸ªäº‹ä»¶æ¥è¿›è¡Œåˆå¹¶, æœ€å°‘çš„é‚£ä¸ªè‚¯å®šå°±æœ€å…ˆå–å®Œ, è¿™ä¸ªæ—¶å€™å…¶ä»–çš„æ°´ç®¡å°½ç®¡è¿˜æœ‰äº‹ä»¶ , ä½†æ˜¯å·²ç»æ²¡æœ‰è¶³å¤Ÿçš„äº‹ä»¶æ¥ç»„åˆäº†, å› æ­¤ä¸‹æ¸¸å°±ä¸ä¼šæ”¶åˆ°å‰©ä½™çš„äº‹ä»¶äº†ã€‚ ä»£ç æ¼”ç¤ºä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465/** * zip ç»„åˆäº‹ä»¶çš„è¿‡ç¨‹å°±æ˜¯åˆ†åˆ«ä»å‘å°„å™¨ A å’Œå‘å°„å™¨ B å„å–å‡ºä¸€ä¸ªäº‹ä»¶æ¥ç»„åˆï¼Œå¹¶ä¸”ä¸€ä¸ªäº‹ä»¶åªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡ï¼Œ * ç»„åˆçš„é¡ºåºæ˜¯ä¸¥æ ¼æŒ‰ç…§äº‹ä»¶å‘é€çš„é¡ºåºæ¥è¿›è¡Œçš„ï¼Œæ‰€ä»¥ä¸Šé¢æˆªå›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œ1 æ°¸è¿œæ˜¯å’Œ A ç»“åˆçš„ï¼Œ2 æ°¸è¿œæ˜¯å’Œ B ç»“åˆçš„ã€‚ * &lt;p&gt; * æœ€ç»ˆæ¥æ”¶å™¨æ”¶åˆ°çš„äº‹ä»¶æ•°é‡æ˜¯å’Œå‘é€å™¨å‘é€äº‹ä»¶æœ€å°‘çš„é‚£ä¸ªå‘é€å™¨çš„å‘é€äº‹ä»¶æ•°ç›®ç›¸åŒ, getStringObservable()å‘é€å™¨å‘çš„äº‹ä»¶æ•°ç›®æœ€å°‘. */public static void testZip() &#123; Observable.zip(getIntegerObservable(), getStringObservable(), new BiFunction&lt;Integer, String, String&gt;() &#123; @Override public String apply(@NonNull Integer integer, @NonNull String s) throws Exception &#123; Log.e(TAG, &quot;s + integer : &quot; + s + integer + &quot;\\n&quot;); return s + integer; &#125; &#125;).subscribe(new Consumer&lt;String&gt;() &#123; @Override public void accept(@NonNull String s) throws Exception &#123; mRxOperatorsText.append(&quot;zip : accept : &quot; + s + &quot;\\n&quot;); Log.e(TAG, &quot;zip : accept : &quot; + s + &quot;\\n&quot;); &#125; &#125;);&#125;private static Observable&lt;String&gt; getStringObservable() &#123; return Observable.create(new ObservableOnSubscribe&lt;String&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;String&gt; e) throws Exception &#123; if (!e.isDisposed()) &#123; e.onNext(&quot;A&quot;); mRxOperatorsText.append(&quot;String emit : A \\n&quot;); Log.e(TAG, &quot;getStringObservable --&gt; String emit : A \\n&quot;); e.onNext(&quot;B&quot;); mRxOperatorsText.append(&quot;String emit : B \\n&quot;); Log.e(TAG, &quot;getStringObservable --&gt; String emit : B \\n&quot;); e.onNext(&quot;C&quot;); mRxOperatorsText.append(&quot;String emit : C \\n&quot;); Log.e(TAG, &quot;getStringObservable --&gt; String emit : C \\n&quot;); &#125; &#125; &#125;);&#125;private static Observable&lt;Integer&gt; getIntegerObservable() &#123; return Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; if (!e.isDisposed()) &#123; e.onNext(1); mRxOperatorsText.append(&quot;Integer emit : 1 \\n&quot;); Log.e(TAG, &quot;getIntegerObservable --&gt; Integer emit : 1 \\n&quot;); e.onNext(2); mRxOperatorsText.append(&quot;Integer emit : 2 \\n&quot;); Log.e(TAG, &quot;getIntegerObservable --&gt; Integer emit : 2 \\n&quot;); e.onNext(3); mRxOperatorsText.append(&quot;Integer emit : 3 \\n&quot;); Log.e(TAG, &quot;getIntegerObservable --&gt; Integer emit : 3 \\n&quot;); e.onNext(4); mRxOperatorsText.append(&quot;Integer emit : 4 \\n&quot;); Log.e(TAG, &quot;getIntegerObservable --&gt; Integer emit : 4 \\n&quot;); e.onNext(5); mRxOperatorsText.append(&quot;Integer emit : 5 \\n&quot;); Log.e(TAG, &quot;getIntegerObservable --&gt; Integer emit : 5 \\n&quot;); &#125; &#125; &#125;);&#125; è¿è¡Œç»“æœï¼Œlog æ—¥å¿—ï¼š 1234567891011121314E/RxUsage: getIntegerObservable --&gt; Integer emit : 1 E/RxUsage: getIntegerObservable --&gt; Integer emit : 2 E/RxUsage: getIntegerObservable --&gt; Integer emit : 3 E/RxUsage: getIntegerObservable --&gt; Integer emit : 4 E/RxUsage: getIntegerObservable --&gt; Integer emit : 5 E/RxUsage: s + integer : A1E/RxUsage: zip : accept : A1E/RxUsage: getStringObservable --&gt; String emit : A E/RxUsage: s + integer : B2E/RxUsage: zip : accept : B2E/RxUsage: getStringObservable --&gt; String emit : B E/RxUsage: s + integer : C3E/RxUsage: zip : accept : C3E/RxUsage: getStringObservable --&gt; String emit : C ä¸€å¼€å§‹çœ‹åˆ°è¿™ä¸ªæ—¥å¿—ï¼Œæˆ‘è‡ªå·±ä¹Ÿæœ‰å¾ˆå¤šç–‘é—®ï¼Œæ¯”å¦‚ä¸ºä»€ä¹ˆæ„Ÿè§‰æ˜¯æ°´ç®¡ä¸€ï¼ˆgetIntegerObservableï¼‰ å‘é€å®Œäº†ä¹‹å, æ°´ç®¡äºŒï¼ˆgetStringObservableï¼‰æ‰å¼€å§‹å‘é€å‘¢ï¼Ÿï¼Ÿ å› ä¸ºæˆ‘ä»¬ä¸¤æ ¹æ°´ç®¡éƒ½æ˜¯è¿è¡Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹é‡Œ, åŒä¸€ä¸ªçº¿ç¨‹é‡Œæ‰§è¡Œä»£ç è‚¯å®šæœ‰å…ˆåé¡ºåºçš„ã€‚å› æ­¤æˆ‘ä»¬æ¥ç¨å¾®æ”¹ä¸€ä¸‹, ä¸è®©ä»–ä»¬åœ¨åŒä¸€ä¸ªçº¿ç¨‹ï¼Œä¸ºäº†æ•ˆæœæ›´æ˜æ˜¾ï¼Œéœ€è¦æ·»åŠ å»¶è¿Ÿ Thread.sleep(1000); , è¯•è¯•æ•ˆæœã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980public static void testZip() &#123; Observable.zip(getIntegerObservable(), getStringObservable(), new BiFunction&lt;Integer, String, String&gt;() &#123; @Override public String apply(@NonNull Integer integer, @NonNull String s) throws Exception &#123; Log.e(TAG, &quot;s + integer : &quot; + s + integer + &quot;\\n&quot;); return s + integer; &#125; &#125;).subscribe(new Consumer&lt;String&gt;() &#123; @Override public void accept(@NonNull String s) throws Exception &#123; mRxOperatorsText.append(&quot;zip : accept : &quot; + s + &quot;\\n&quot;); Log.e(TAG, &quot;zip : accept : &quot; + s + &quot;\\n&quot;); &#125; &#125;);&#125; private static Observable&lt;String&gt; getStringObservable() &#123; return Observable.create(new ObservableOnSubscribe&lt;String&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;String&gt; e) throws Exception &#123; if (!e.isDisposed()) &#123; Log.e(TAG, &quot;getStringObservable --&gt; String emit : A \\n&quot;); mRxOperatorsText.append(&quot;String emit : A \\n&quot;); e.onNext(&quot;A&quot;); Thread.sleep(1000); Log.e(TAG, &quot;getStringObservable --&gt; String emit : B \\n&quot;); mRxOperatorsText.append(&quot;String emit : B \\n&quot;); e.onNext(&quot;B&quot;); Thread.sleep(1000); Log.e(TAG, &quot;getStringObservable --&gt; String emit : C \\n&quot;); mRxOperatorsText.append(&quot;String emit : C \\n&quot;); e.onNext(&quot;C&quot;); Thread.sleep(1000); Log.e(TAG, &quot;e getStringObservable onComplete&quot;); e.onComplete(); &#125; &#125; &#125;).subscribeOn(Schedulers.io());&#125;private static Observable&lt;Integer&gt; getIntegerObservable() &#123; return Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(@NonNull ObservableEmitter&lt;Integer&gt; e) throws Exception &#123; if (!e.isDisposed()) &#123; Log.e(TAG, &quot;getIntegerObservable --&gt; Integer emit : 1 \\n&quot;); mRxOperatorsText.append(&quot;Integer emit : 1 \\n&quot;); e.onNext(1); Thread.sleep(1000); Log.e(TAG, &quot;getIntegerObservable --&gt; Integer emit : 2 \\n&quot;); mRxOperatorsText.append(&quot;Integer emit : 2 \\n&quot;); e.onNext(2); Thread.sleep(1000); Log.e(TAG, &quot;getIntegerObservable --&gt; Integer emit : 3 \\n&quot;); mRxOperatorsText.append(&quot;Integer emit : 3 \\n&quot;); e.onNext(3); Thread.sleep(1000); Log.e(TAG, &quot;getIntegerObservable --&gt; Integer emit : 4 \\n&quot;); mRxOperatorsText.append(&quot;Integer emit : 4 \\n&quot;); e.onNext(4); Thread.sleep(1000); Log.e(TAG, &quot;getIntegerObservable --&gt; Integer emit : 5 \\n&quot;); mRxOperatorsText.append(&quot;Integer emit : 5 \\n&quot;); e.onNext(5); Thread.sleep(1000); Log.e(TAG, &quot;e getIntegerObservable onComplete&quot;); e.onComplete(); &#125; &#125; &#125;).subscribeOn(Schedulers.io());&#125; åœ¨å±•ç¤ºæ‰“å°ç»“æœä¹‹å‰ï¼Œä¸Šé¢çš„æ“ä½œä¼šæŠ¥ä¸‹é¢è¿™ä¸ªå¼‚å¸¸ã€‚ å¼‚å¸¸æ‰“å°ï¼š 123456789101112131415161718192021W/System.err: io.reactivex.exceptions.UndeliverableException: The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with. Further reading: https://github.com/ReactiveX/RxJava/wiki/What&apos;s-different-in-2.0#error-handling | java.lang.InterruptedExceptionW/System.err: at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)W/System.err: at io.reactivex.internal.operators.observable.ObservableCreate$CreateEmitter.onError(ObservableCreate.java:73)W/System.err: at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:43)W/System.err: at io.reactivex.Observable.subscribe(Observable.java:12267)W/System.err: at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)W/System.err: at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)W/System.err: at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)W/System.err: at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)W/System.err: at java.util.concurrent.FutureTask.run(FutureTask.java:266)W/System.err: at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)W/System.err: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)W/System.err: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)W/System.err: at java.lang.Thread.run(Thread.java:764)W/System.err: Caused by: java.lang.InterruptedExceptionW/System.err: at java.lang.Thread.sleep(Native Method)W/System.err: at java.lang.Thread.sleep(Thread.java:373)W/System.err: at java.lang.Thread.sleep(Thread.java:314)W/System.err: at com.android.rxjavaproject.RxUsage$28.subscribe(RxUsage.java:458)W/System.err: at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)W/System.err: ... 10 more è§£å†³æ–¹æ³•æ˜¯æŠŠ Thread.sleep() æ›¿æ¢ä¸º SystemClock.sleep()ï¼Œä¸‹é¢å±•ç¤ºæ‰“å°ç»“æœã€‚ ä¿®æ”¹åçš„ gif æ‰“å°ï¼š(gif æ›´æ–°ä¸ 2019 å¹´â€¦) ä½¿ç”¨ Thread.sleep() æ—¶å€™ï¼Œå¯èƒ½ç»†å¿ƒç‚¹çš„æœ‹å‹åˆçœ‹å‡ºç«¯å€ªäº†, getIntegerObservable è¿™ä¸ªæ°´ç®¡æ˜æ˜å‘é€äº†äº”æ¡ä¸ªæ•°æ® + ä¸€ä¸ª Complete, ä¹‹å‰ä¸åŠ  Thread.sleep() æ˜æ˜è¿˜æœ‰çš„, ä¸ºå•¥åˆ°è¿™é‡Œæ²¡äº†å‘¢? è¿™æ˜¯å› ä¸º zip å‘é€çš„äº‹ä»¶æ•°é‡è·Ÿä¸Šæ¸¸ä¸­å‘é€äº‹ä»¶æœ€å°‘çš„é‚£ä¸€æ ¹æ°´ç®¡çš„äº‹ä»¶æ•°é‡æ˜¯æœ‰å…³çš„, åœ¨è¿™ä¸ªä¾‹å­é‡Œæˆ‘ä»¬getStringObservable è¿™æ ¹æ°´ç®¡åªå‘é€äº†ä¸‰ä¸ªäº‹ä»¶ç„¶åå°±å‘é€äº†Complete, è¿™ä¸ªæ—¶å€™å°½ç®¡å¦å¤–ä¸€æ ¹æ°´ç®¡è¿˜æœ‰äº‹ä»¶4ã€5 onComplete æ²¡æœ‰å‘é€, ä½†æ˜¯å®ƒä»¬å‘ä¸å‘é€è¿˜æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢?ä¸‹æ¸¸çš„æ‰“å°è¾“å‡ºé‡Œä¹Ÿä¸ä¼šè¾“å‡ºçš„ï¼ å¦å¤–ä½¿ç”¨ SystemClock.sleep() çš„æ—¶å€™ï¼ŒgetIntegerObservable æ°´ç®¡ä¸­çš„äº‹ä»¶ 4ã€5 å’Œ onComplete ä¹Ÿéƒ½æ‰“å°äº†ï¼Œä½†æ˜¯ä¸‹æ¸¸çš„ accept ä¸­æ˜¯ä¸ä¼šæ¥å—çš„ã€‚ è¯¦ç»† demo ä»£ç  RxUsage -&gt; testZip() zip åœ¨é¡¹ç›®å®è·µåœºæ™¯ï¼šæ¯”å¦‚ä¸€ä¸ªç•Œé¢éœ€è¦å±•ç¤ºç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯, è€Œè¿™äº›ä¿¡æ¯åˆ†åˆ«è¦ä»ä¸¤ä¸ªæœåŠ¡å™¨æ¥å£ä¸­è·å–, è€Œåªæœ‰å½“ä¸¤ä¸ªéƒ½è·å–åˆ°äº†ä¹‹åæ‰èƒ½è¿›è¡Œå±•ç¤º, è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨Zipäº†ã€‚ é¦–å…ˆåˆ†åˆ«å®šä¹‰è¿™ä¸¤ä¸ªè¯·æ±‚æ¥å£: 12345678public interface Api &#123; @GET Observable&lt;UserBaseInfoResponse&gt; getUserBaseInfo(@Body UserBaseInfoRequest request); @GET Observable&lt;UserExtraInfoResponse&gt; getUserExtraInfo(@Body UserExtraInfoRequest request);&#125; æ¥ç€ç”¨Zipæ¥æ‰“åŒ…è¯·æ±‚: 12345678910111213141516171819Observable&lt;UserBaseInfoResponse&gt; observable1 = api.getUserBaseInfo(new UserBaseInfoRequest()) .subscribeOn(Schedulers.io());Observable&lt;UserExtraInfoResponse&gt; observable2 = api.getUserExtraInfo(new UserExtraInfoRequest()) .subscribeOn(Schedulers.io());Observable.zip(observable1, observable2, new BiFunction&lt;UserBaseInfoResponse, UserExtraInfoResponse, UserInfo&gt;() &#123; @Override public UserInfo apply(UserBaseInfoResponse baseInfo, UserExtraInfoResponse extraInfo) throws Exception &#123; return new UserInfo(baseInfo, extraInfo); &#125;&#125;).observeOn(AndroidSchedulers.mainThread()) .subscribe(new Consumer&lt;UserInfo&gt;() &#123; @Override public void accept(UserInfo userInfo) throws Exception &#123; //do something; &#125; &#125;); filteråœ¨è¿™æ®µä»£ç ä¸­å¢åŠ äº†ä¸€ä¸ªfilter,è¿‡æ»¤ä¸€äº›æ¡ä»¶ï¼Œåªå…è®¸è¢«è¿‡æ»¤åçš„äº‹ä»¶é€šè¿‡ä¸¾æ —ï¼š 123456789101112131415161718192021Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; for (int i = 0; ; i++) &#123; emitter.onNext(i); &#125; &#125;&#125;).subscribeOn(Schedulers.io()) .filter(new Predicate&lt;Integer&gt;() &#123; @Override public boolean test(Integer integer) throws Exception &#123; return integer % 10 == 0; &#125; &#125;) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Log.d(TAG, &quot;&quot; + integer); &#125; &#125;); åœ¨è¿™æ®µä»£ç ä¸­æˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ª filter, åªå…è®¸èƒ½è¢« 10 æ•´é™¤çš„äº‹ä»¶é€šè¿‡ã€‚ sample æ“ä½œç¬¦sample æ“ä½œç¬¦, è¿™ä¸ªæ“ä½œç¬¦æ¯éš”æŒ‡å®šçš„æ—¶é—´å°±ä»ä¸Šæ¸¸ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶å‘é€ç»™ä¸‹æ¸¸ã€‚ä¸‹é¢ä»£ç æ¯éš” 2 ç§’å–ä¸€ä¸ªäº‹ä»¶ç»™ä¸‹æ¸¸ï¼š 1234567891011121314151617Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; for (int i = 0; ; i++) &#123; emitter.onNext(i); &#125; &#125;&#125;).subscribeOn(Schedulers.io()) /*sampleå–æ ·*/ .sample(2, TimeUnit.SECONDS) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Log.d(TAG, &quot;&quot; + integer); &#125; &#125;); è¯´æ˜æœ¬æ–‡å¹¶éåŸåˆ›ï¼Œé€šè¿‡å„ä½åšä¸»åšå®¢å­¦ä¹ åæ€»ç»“è€Œå¾—ï¼Œä»¥æ–¹ä¾¿è‡ªå·±å­¦ä¹ ï¼Œåœ¨æ­¤æ„Ÿè°¢å„ä½å‰è¾ˆï¼Œå¹¶åœ¨ä¸‹é¢æ³¨æ˜å‡ºå¤„ã€‚ https://www.jianshu.com/u/c50b715ccaeb https://www.jianshu.com/p/a93c79e9f689","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"RxJava","slug":"rxjava","permalink":"https://leaderliang.coding.me/categories/rxjava/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"RxJava","slug":"rxjava","permalink":"https://leaderliang.coding.me/tags/rxjava/"}]},{"title":"RxJava2.0 å­¦ä¹ ç¬”è®° - å¸¸ç”¨å…³é”®å­—è§£é‡Šã€çº¿ç¨‹è°ƒåº¦çš„ä½¿ç”¨","slug":"RxJava2-0-å­¦ä¹ ç¬”è®°-å…³é”®å­—è§£é‡Šã€çº¿ç¨‹è°ƒåº¦çš„ä½¿ç”¨","date":"2017-12-17T13:56:58.000Z","updated":"2019-11-20T13:25:05.906Z","comments":true,"path":"10cc.html","link":"","permalink":"https://leaderliang.coding.me/10cc.html","excerpt":"","text":"RxJava2.0æœ¬æ–‡å¹¶éåŸåˆ›ï¼Œé€šè¿‡å„ä½åšä¸»åšå®¢å­¦ä¹ åæ€»ç»“è€Œå¾—ï¼Œä»¥æ–¹ä¾¿è‡ªå·±å­¦ä¹ ï¼Œåœ¨æ­¤æ„Ÿè°¢å„ä½å‰è¾ˆï¼Œå¹¶åœ¨ä¸‹é¢æ³¨æ˜å‡ºå¤„ã€‚ ObservableEmitterã€Disposableã€subscribe() è§£é‡ŠObservableEmitterEmitter æ˜¯å‘å°„å™¨çš„æ„æ€ï¼Œé‚£å°±å¾ˆå¥½çŒœäº†ï¼Œè¿™ä¸ªå°±æ˜¯ç”¨æ¥å‘å‡ºäº‹ä»¶çš„ï¼Œå®ƒå¯ä»¥å‘å‡ºä¸‰ç§ç±»å‹çš„äº‹ä»¶ï¼Œé€šè¿‡è°ƒç”¨ emitter çš„ onNext(T value)ã€onComplete() å’Œ onError(Throwable error) å°±å¯ä»¥åˆ†åˆ«å‘å‡º next äº‹ä»¶ã€complete äº‹ä»¶å’Œ error äº‹ä»¶ã€‚ æ³¨æ„ï¼Œå¹¶ä¸æ„å‘³ç€å¯ä»¥éšæ„å‘å°„ä¹±ä¸ƒå…«ç³Ÿçš„äº‹ä»¶ï¼Œéœ€è¦æ»¡è¶³ä¸€å®šçš„è§„åˆ™ï¼š ä¸Šæ¸¸å¯ä»¥å‘é€æ— é™ä¸ª onNext, ä¸‹æ¸¸ä¹Ÿå¯ä»¥æ¥æ”¶æ— é™ä¸ª onNext. å½“ä¸Šæ¸¸å‘é€äº†ä¸€ä¸ª onComplete å, ä¸Šæ¸¸ onComplete ä¹‹åçš„äº‹ä»¶å°†ä¼šç»§ç»­å‘é€, è€Œä¸‹æ¸¸æ”¶åˆ° onComplete äº‹ä»¶ä¹‹åå°†ä¸å†ç»§ç»­æ¥æ”¶äº‹ä»¶. å½“ä¸Šæ¸¸å‘é€äº†ä¸€ä¸ª onError å, ä¸Šæ¸¸ onError ä¹‹åçš„äº‹ä»¶å°†ç»§ç»­å‘é€, è€Œä¸‹æ¸¸æ”¶åˆ° onError äº‹ä»¶ä¹‹åå°†ä¸å†ç»§ç»­æ¥æ”¶äº‹ä»¶. ä¸Šæ¸¸å¯ä»¥ä¸å‘é€ onComplete æˆ– onError. æœ€ä¸ºå…³é”®çš„æ˜¯ onComplete å’Œ onError å¿…é¡»å”¯ä¸€å¹¶ä¸”äº’æ–¥, å³ä¸èƒ½å‘å¤šä¸ª onComplete, ä¹Ÿä¸èƒ½å‘å¤šä¸ª onError, ä¹Ÿä¸èƒ½å…ˆå‘ä¸€ä¸ª onComplete, ç„¶åå†å‘ä¸€ä¸ª onError, åä¹‹äº¦ç„¶ æ³¨: å…³äº onComplete å’Œ onError å”¯ä¸€å¹¶ä¸”äº’æ–¥è¿™ä¸€ç‚¹, æ˜¯éœ€è¦è‡ªè¡Œåœ¨ä»£ç ä¸­è¿›è¡Œæ§åˆ¶, å¦‚æœä½ çš„ä»£ç é€»è¾‘ä¸­è¿èƒŒäº†è¿™ä¸ªè§„åˆ™, å¹¶ä¸ä¸€å®šä¼šå¯¼è‡´ç¨‹åºå´©æºƒ. æ¯”å¦‚å‘é€å¤šä¸ªonCompleteæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„, ä¾ç„¶æ˜¯æ”¶åˆ°ç¬¬ä¸€ä¸ª onComplete å°±ä¸å†æ¥æ”¶äº†, ä½†è‹¥æ˜¯å‘é€å¤šä¸ª onError, åˆ™æ”¶åˆ°ç¬¬äºŒä¸ª onError äº‹ä»¶ä¼šå¯¼è‡´ç¨‹åºä¼šå´©æºƒï¼Œ ä»£ç ä»“åº“é‡Œ é‡Œéƒ½æœ‰å†™å‡ºã€‚ Disposableå•è¯çš„å­—é¢æ„æ€æ˜¯ä¸€æ¬¡æ€§ç”¨å“,ç”¨å®Œå³å¯ä¸¢å¼ƒçš„. é‚£ä¹ˆåœ¨RxJavaä¸­æ€ä¹ˆå»ç†è§£å®ƒå‘¢, å¯¹åº”äºä¸Šé¢çš„æ°´ç®¡çš„ä¾‹å­, æˆ‘ä»¬å¯ä»¥æŠŠå®ƒç†è§£æˆä¸¤æ ¹ç®¡é“ä¹‹é—´çš„ä¸€ä¸ªæœºå…³, å½“è°ƒç”¨å®ƒçš„ dispose() æ–¹æ³•æ—¶, å®ƒå°±ä¼šå°†ä¸¤æ ¹ç®¡é“åˆ‡æ–­, ä»è€Œå¯¼è‡´ä¸‹æ¸¸æ”¶ä¸åˆ°äº‹ä»¶. æ³¨æ„: è°ƒç”¨ dispose() å¹¶ä¸ä¼šå¯¼è‡´ä¸Šæ¸¸ä¸å†ç»§ç»­å‘é€äº‹ä»¶, ä¸Šæ¸¸ä¼šç»§ç»­å‘é€å‰©ä½™çš„äº‹ä»¶. subscribe()subscribe æœ‰å¥½å‡ ä¸ªé‡è½½æ–¹æ³• 123456public final Disposable subscribe() &#123;&#125;public final Disposable subscribe(Consumer&lt;? super T&gt; onNext) &#123;&#125;public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError) &#123;&#125; public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete) &#123;&#125;public final Disposable subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError, Action onComplete, Consumer&lt;? super Disposable&gt; onSubscribe) &#123;&#125;public final void subscribe(Observer&lt;? super T&gt; observer) &#123;&#125; æœ€åä¸€ä¸ªå¸¦æœ‰ Observer å‚æ•°çš„åœ¨ RxUsage ä¸­çš„ commonUsageForChainï¼ˆï¼‰å·²ä½¿ç”¨è¿‡ï¼› ä¸å¸¦ä»»ä½•å‚æ•°çš„ subscribe() è¡¨ç¤ºä¸‹æ¸¸ä¸å…³å¿ƒä»»ä½•äº‹ä»¶,ä½ ä¸Šæ¸¸å°½ç®¡å‘ä½ çš„æ•°æ®å»å§, ä¸‹æ¸¸å¯ä¸å…³å¿ƒä½ å‘ä»€ä¹ˆï¼› å¸¦æœ‰ä¸€ä¸ª Consumer å‚æ•°çš„æ–¹æ³•è¡¨ç¤ºä¸‹æ¸¸åªå…³å¿ƒ onNext äº‹ä»¶, å…¶ä»–çš„äº‹ä»¶æˆ‘å‡è£…æ²¡çœ‹è§, å› æ­¤æˆ‘ä»¬å¦‚æœåªéœ€è¦ onNext äº‹ä»¶å¯ä»¥è¿™ä¹ˆå†™ï¼› å…¶ä»–å‡ ä¸ªæ–¹æ³•åŒç†, è¿™é‡Œå°±ä¸è§£é‡Šå•¦ï¼Œä¸‹é¢ç¤ºä¾‹å·²åˆ—å‡ºã€‚ 12345678910111213141516171819202122232425Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; Log.d(TAG, &quot;emitter 1&quot;); emitter.onNext(1); Log.d(TAG, &quot;emitter 2&quot;); emitter.onNext(2); Log.d(TAG, &quot;emitter 3&quot;); emitter.onNext(3); Log.d(TAG, &quot;emitter complete&quot;); emitter.onComplete(); Log.d(TAG, &quot;emitter 4&quot;); emitter.onNext(4); &#125; &#125;).subscribe(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Log.d(TAG, &quot;onNext: &quot; + integer); &#125; &#125;, new Consumer&lt;Throwable&gt;() &#123; @Override public void accept(Throwable throwable) throws Exception &#123; &#125; &#125;...); RxJava å¼ºå¤§çš„çº¿ç¨‹æ§åˆ¶ä¹‹çº¿ç¨‹è°ƒåº¦ä¸Šä¸‹æ¸¸é»˜è®¤æ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹å·¥ä½œåœ¨ä¸»çº¿ç¨‹ä¸­åˆ†åˆ«åˆ›å»ºä¸Šæ¸¸å’Œä¸‹æ¸¸, ç„¶åå°†ä»–ä»¬è¿æ¥åœ¨ä¸€èµ·, åŒæ—¶åˆ†åˆ«æ‰“å°å‡ºå®ƒä»¬æ‰€åœ¨çš„çº¿ç¨‹ 1234567891011121314151617181920212223@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Observable&lt;Integer&gt; observable = Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; Log.d(TAG, &quot;Observable thread is : &quot; + Thread.currentThread().getName()); Log.d(TAG, &quot;emit 1&quot;); emitter.onNext(1); &#125; &#125;); Consumer&lt;Integer&gt; consumer = new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Log.d(TAG, &quot;Observer thread is :&quot; + Thread.currentThread().getName()); Log.d(TAG, &quot;onNext: &quot; + integer); &#125; &#125;; observable.subscribe(consumer);&#125; è¿è¡Œç»“æœä¸º: 1234E/RxUsage: TAG: Observable thread is : mainE/RxUsage: TAG: emit 1 E/RxUsage: TAG: Observer thread is :main E/RxUsage: TAG: onNext: 1 åœ¨å­çº¿ç¨‹ä¸­åšè€—æ—¶çš„æ“ä½œ, ç„¶åå›åˆ°ä¸»çº¿ç¨‹ä¸­æ¥æ“ä½œ UI é»„è‰²æ°´ç®¡è¡¨ç¤ºå­çº¿ç¨‹, æ·±è“è‰²æ°´ç®¡è¡¨ç¤ºä¸»çº¿ç¨‹;æˆ‘ä»¬éœ€è¦å…ˆæ”¹å˜ä¸Šæ¸¸å‘é€äº‹ä»¶çš„çº¿ç¨‹, è®©å®ƒåœ¨å­çº¿ç¨‹ä¸­å‘é€äº‹ä»¶, ç„¶åå†æ”¹å˜ä¸‹æ¸¸çš„çº¿ç¨‹, è®©å®ƒå»ä¸»çº¿ç¨‹æ¥æ”¶äº‹ä»¶. é€šè¿‡ RxJava å†…ç½®çš„çº¿ç¨‹è°ƒåº¦å™¨å¯ä»¥è½»æ¾åšåˆ°è¿™ä¸€ç‚¹ã€‚ 12345678910111213141516171819202122public static void testPrintThreadName()&#123; Observable&lt;Integer&gt; observable = Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123; @Override public void subscribe(ObservableEmitter&lt;Integer&gt; emitter) throws Exception &#123; Log.d(TAG, &quot;Observable thread is : &quot; + Thread.currentThread().getName()); Log.d(TAG, &quot;emit 1&quot;); emitter.onNext(1); &#125; &#125;); Consumer&lt;Integer&gt; consumer = new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Log.d(TAG, &quot;Observer thread is :&quot; + Thread.currentThread().getName()); Log.d(TAG, &quot;onNext: &quot; + integer); &#125; &#125;; observable.subscribeOn(Schedulers.newThread()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(consumer);&#125; 1234E/RxUsage: Observable thread is : RxNewThreadScheduler-1E/RxUsage: emit 1E/RxUsage: Observer thread is :mainE/RxUsage: onNext: 1 ä»æ‰“å°ç»“æœå¯ä»¥çœ‹å‡º, ä¸Šæ¸¸å‘é€äº‹ä»¶çš„çº¿ç¨‹çš„ç¡®æ”¹å˜äº†, æ˜¯åœ¨ä¸€ä¸ªå« RxNewThreadScheduler-1 çš„çº¿ç¨‹ä¸­å‘é€çš„äº‹ä»¶, è€Œä¸‹æ¸¸ä»ç„¶åœ¨ä¸»çº¿ç¨‹ä¸­æ¥æ”¶äº‹ä»¶,è¿™å°±å®Œç¾å®ç°äº†åœ¨ Android ä¸­åœ¨å­çº¿ç¨‹ä¸­åšå®Œè€—æ—¶æ“ä½œï¼Œç„¶ååœ¨ä¸»çº¿ç¨‹æ›´æ–° UI çš„æ“ä½œã€‚ åˆ‡æ¢çº¿ç¨‹ä¸»è¦é€šè¿‡ä»¥ä¸‹ä¸¤è¡Œæ“ä½œæ¥å®ç°çš„ 12.subscribeOn(Schedulers.newThread()) .observeOn(AndroidSchedulers.mainThread()) subscribeOn() æŒ‡å®šçš„æ˜¯ä¸Šæ¸¸å‘é€äº‹ä»¶çš„çº¿ç¨‹ï¼›observeOn() æŒ‡å®šçš„æ˜¯ä¸‹æ¸¸æ¥æ”¶äº‹ä»¶çš„çº¿ç¨‹ï¼› è¡¥å……ï¼š å¤šæ¬¡æŒ‡å®š ä¸Šæ¸¸ çš„çº¿ç¨‹åªæœ‰ç¬¬ä¸€æ¬¡æŒ‡å®šçš„æœ‰æ•ˆ, ä¹Ÿå°±æ˜¯è¯´å¤šæ¬¡è°ƒç”¨ subscribeOn() åªæœ‰ç¬¬ä¸€æ¬¡çš„æœ‰æ•ˆ, å…¶ä½™çš„ä¼šè¢«å¿½ç•¥ï¼›å¤šæ¬¡æŒ‡å®š ä¸‹æ¸¸ çš„çº¿ç¨‹æ˜¯å¯ä»¥çš„, ä¹Ÿå°±æ˜¯è¯´æ¯è°ƒç”¨ä¸€æ¬¡ observeOn() , ä¸‹æ¸¸çš„çº¿ç¨‹å°±ä¼šåˆ‡æ¢ä¸€æ¬¡ã€‚ ä¸ºä¸Šé¢è¡¥å……ä¸¾ä¸ªä¾‹å­ï¼Œæ–¹æ³•è§ RxUsage.java - testPrintThreadNameMoreChangeï¼ˆï¼‰ 12345observable.subscribeOn(Schedulers.newThread()) .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .observeOn(Schedulers.io()) .subscribe(consumer); ä¸Šä¸‹æ¸¸åˆ†åˆ«æŒ‡å®šäº†ä¸¤æ¬¡å‘é€äº‹ä»¶çš„çº¿ç¨‹ï¼Œä¸Šæ¸¸åˆ†åˆ«æ˜¯newThreadå’ŒIOçº¿ç¨‹, ä¸‹æ¸¸åˆ†åˆ«æ˜¯mainå’ŒIOçº¿ç¨‹ã€‚ç»“æœå¦‚ä¸‹ï¼š 1234E/RxUsage: Observable thread is : RxNewThreadScheduler-1E/RxUsage: emit 1E/RxUsage: Observer thread is :RxCachedThreadScheduler-2E/RxUsage: onNext: 1 å¯ä»¥çœ‹åˆ°, ä¸Šæ¸¸è™½ç„¶æŒ‡å®šäº†ä¸¤æ¬¡çº¿ç¨‹, ä½†åªæœ‰ç¬¬ä¸€æ¬¡æŒ‡å®šçš„æœ‰æ•ˆ, ä¾ç„¶æ˜¯åœ¨ RxNewThreadScheduler çº¿ç¨‹ä¸­, è€Œä¸‹æ¸¸åˆ™åœ¨ RxCachedThreadScheduler ä¸­, è¿™ä¸ª CacheThread å°±æ˜¯IOçº¿ç¨‹æ± ä¸­çš„ä¸€ä¸ªã€‚ å¯ä»¥é€šè¿‡ doOnNextï¼ˆï¼‰æ¸…æ™°çš„çœ‹åˆ°ä¸‹æ¸¸çš„çº¿ç¨‹åˆ‡æ¢è¿‡ç¨‹, æ‰“å° log 1234567891011121314151617observable.subscribeOn(Schedulers.newThread()) .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .doOnNext(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Log.e(TAG, &quot;After observeOn(mainThread), current thread is: &quot; + Thread.currentThread().getName()); &#125; &#125;) .observeOn(Schedulers.io()) .doOnNext(new Consumer&lt;Integer&gt;() &#123; @Override public void accept(Integer integer) throws Exception &#123; Log.e(TAG, &quot;After observeOn(io), current thread is: &quot; + Thread.currentThread().getName()); &#125; &#125;) .subscribe(consumer); ä¸Šä¸‹æ¸¸çº¿ç¨‹åˆ‡æ¢ä¹‹å, æŠŠå½“å‰çš„çº¿ç¨‹æ‰“å°å‡ºæ¥, è¿è¡Œç»“æœ: 12345678E/RxUsage: Observable thread is : RxNewThreadScheduler-1E/RxUsage: emit 1E/RxUsage: After subscribeOn(newThread), current thread is: RxNewThreadScheduler-1E/RxUsage: After subscribeOn(io), current thread is: RxNewThreadScheduler-1E/RxUsage: After observeOn(mainThread), current thread is: mainE/RxUsage: After observeOn(io), current thread is: RxCachedThreadScheduler-2E/RxUsage: Observer thread is :RxCachedThreadScheduler-2E/RxUsage: onNext: 1 å¯ä»¥çœ‹åˆ°, æ¯è°ƒç”¨ä¸€æ¬¡ subscribeOn å’Œ observeOn() çº¿ç¨‹éƒ½ä¼šåˆ‡æ¢ä¸€æ¬¡, é¡¹ç›®ä¸­å¦‚æœæœ‰æœ‰ç±»ä¼¼çš„éœ€æ±‚æ—¶, å¯çµæ´»å¤„ç†ã€‚ åœ¨ RxJava ä¸­, å†…ç½®çš„çº¿ç¨‹ï¼š Schedulers.io() ä»£è¡¨ioæ“ä½œçš„çº¿ç¨‹, é€šå¸¸ç”¨äºç½‘ç»œ,è¯»å†™æ–‡ä»¶ç­‰ioå¯†é›†å‹çš„æ“ä½œ Schedulers.computation() ä»£è¡¨CPUè®¡ç®—å¯†é›†å‹çš„æ“ä½œ, ä¾‹å¦‚éœ€è¦å¤§é‡è®¡ç®—çš„æ“ä½œ Schedulers.newThread() ä»£è¡¨ä¸€ä¸ªå¸¸è§„çš„æ–°çº¿ç¨‹ AndroidSchedulers.mainThread() ä»£è¡¨Androidçš„ä¸»çº¿ç¨‹ åœ¨ RxJava å†…éƒ¨ä½¿ç”¨çš„æ˜¯çº¿ç¨‹æ± æ¥ç»´æŠ¤è¿™äº›çº¿ç¨‹, æ•ˆç‡ç›¸å¯¹æ¯”è¾ƒé«˜. RxJava åœ¨ Android ä¸­çš„å®è·µå¯¹äº Android å¼€å‘æ¥è¯´, ç»å¸¸ä¼šå°†ä¸€äº›è€—æ—¶çš„æ“ä½œæ”¾åœ¨åå°, æ¯”å¦‚ç½‘ç»œè¯·æ±‚æˆ–è€…è¯»å†™æ–‡ä»¶,æ“ä½œæ•°æ®åº“ç­‰ç­‰,ç­‰åˆ°æ“ä½œå®Œæˆä¹‹åå›åˆ°ä¸»çº¿ç¨‹å»æ›´æ–° UI è¿™æ ·çš„åœºæ™¯ç»å¸¸ç”¨åˆ°ã€‚ è¦ä½¿ç”¨ Retrofit,å…ˆæ·»åŠ  Gradle é…ç½®: 1234567891011121314/*RxJava*/implementation &apos;io.reactivex.rxjava2:rxjava:2.2.8&apos;implementation &apos;io.reactivex.rxjava2:rxandroid:2.1.1&apos;/*retrofit*/implementation &apos;com.squareup.retrofit2:retrofit:2.5.0&apos;/*Gson converter*/implementation &apos;com.squareup.retrofit2:converter-gson:2.5.0&apos;/*RxJava2 Adapter*/implementation &apos;com.jakewharton.retrofit:retrofit2-rxjava2-adapter:1.0.0&apos;/*okHttp*/implementation &apos;com.squareup.okhttp3:okhttp:3.12.0&apos;implementation &apos;com.squareup.okhttp3:logging-interceptor:3.9.0&apos;/*fastJson*/implementation &apos;com.alibaba:fastjson:1.2.56&apos; å…·ä½“æ“ä½œå¯ç‚¹å‡»æŸ¥çœ‹ä»£ç ,ä¸»è¦æœ‰è¿™å‡ ä¸ªç±»ï¼Œå¦å¤–ä½¿ç”¨äº† api.github æ¥å£ï¼š GithubService.java Repo.java RetrofitClient éƒ½ç»Ÿä¸€åœ¨ MainActivity ä¸­è¿›è¡Œè°ƒç”¨ã€‚ çœ‹ä¼¼å¾ˆå®Œç¾, ä½†æˆ‘ä»¬å¿½ç•¥äº†ä¸€ç‚¹, å¦‚æœåœ¨è¯·æ±‚çš„è¿‡ç¨‹ä¸­ Activity å·²ç»é€€å‡ºäº†, è¿™ä¸ªæ—¶å€™å¦‚æœå›åˆ°ä¸»çº¿ç¨‹å»æ›´æ–° UI, é‚£ä¹ˆAPPè‚¯å®šå°±å´©æºƒäº†, å¯ä»¥å¾€ä¸Šç¿» Disposable , è¯´å®ƒæ˜¯ä¸ªå¼€å…³, è°ƒç”¨å®ƒçš„dispose()æ–¹æ³•æ—¶å°±ä¼šåˆ‡æ–­æ°´ç®¡, ä½¿å¾—ä¸‹æ¸¸æ”¶ä¸åˆ°äº‹ä»¶, æ—¢ç„¶æ”¶ä¸åˆ°äº‹ä»¶, é‚£ä¹ˆä¹Ÿå°±ä¸ä¼šå†å»æ›´æ–°UIäº†. å› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ Activity ä¸­å°†è¿™ä¸ª Disposable ä¿å­˜èµ·æ¥, å½“ Activityé€€å‡ºæ—¶, åˆ‡æ–­å®ƒå³å¯ã€‚ é‚£å¦‚æœæœ‰å¤šä¸ª Disposable è¯¥æ€ä¹ˆåŠå‘¢, RxJava ä¸­å·²ç»å†…ç½®äº†ä¸€ä¸ªå®¹å™¨ CompositeDisposable, æ¯å½“æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ª Disposable æ—¶å°±è°ƒç”¨ CompositeDisposable.add() å°†å®ƒæ·»åŠ åˆ°å®¹å™¨ä¸­, åœ¨é€€å‡ºçš„æ—¶å€™, è°ƒç”¨ CompositeDisposable.clear() å³å¯åˆ‡æ–­æ‰€æœ‰çš„æ°´ç®¡ã€‚ è¯´æ˜æœ¬æ–‡å¹¶éåŸåˆ›ï¼Œé€šè¿‡å„ä½åšä¸»åšå®¢å­¦ä¹ åæ€»ç»“è€Œå¾—ï¼Œä»¥æ–¹ä¾¿è‡ªå·±å­¦ä¹ ï¼Œåœ¨æ­¤æ„Ÿè°¢å„ä½å‰è¾ˆï¼Œå¹¶åœ¨ä¸‹é¢æ³¨æ˜å‡ºå¤„ã€‚ https://www.jianshu.com/u/c50b715ccaeb https://www.jianshu.com/p/a93c79e9f689","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"},{"name":"RxJava","slug":"rxjava","permalink":"https://leaderliang.coding.me/categories/rxjava/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"},{"name":"RxJava","slug":"rxjava","permalink":"https://leaderliang.coding.me/tags/rxjava/"}]},{"title":"æœåŠ¡å™¨ä¸Šçš„ Git - ç”Ÿæˆ SSH å…¬é’¥ä»¥åŠå¤šä¸ªç”¨æˆ·ä½¿ç”¨åŒä¸€å°ç”µè„‘ç”Ÿæˆå¤šä¸ª SSH å¯†é’¥","slug":"æœåŠ¡å™¨ä¸Šçš„ Git - ç”Ÿæˆ SSH å…¬é’¥ä»¥åŠå¤šä¸ªç”¨æˆ·ä½¿ç”¨åŒä¸€å°ç”µè„‘ç”Ÿæˆå¤šä¸ª SSH å¯†é’¥","date":"2017-06-12T05:55:18.000Z","updated":"2019-03-11T15:40:02.056Z","comments":true,"path":"ca0a.html","link":"","permalink":"https://leaderliang.coding.me/ca0a.html","excerpt":"SSH Key æ˜¯ä¸€ç§æ–¹æ³•æ¥ç¡®å®šå—ä¿¡ä»»çš„è®¡ç®—æœºï¼Œä»è€Œå®ç°å…å¯†ç ç™»å½•","text":"SSH Key æ˜¯ä¸€ç§æ–¹æ³•æ¥ç¡®å®šå—ä¿¡ä»»çš„è®¡ç®—æœºï¼Œä»è€Œå®ç°å…å¯†ç ç™»å½•ã€‚Gitæ˜¯åˆ†å¸ƒå¼çš„ä»£ç ç®¡ç†å·¥å…·ï¼Œè¿œç¨‹çš„ä»£ç ç®¡ç†æ˜¯åŸºäºSSHçš„ï¼Œæ‰€ä»¥è¦ä½¿ç”¨è¿œç¨‹çš„Gitåˆ™éœ€è¦SSHçš„é…ç½®ã€‚ ç”Ÿæˆ SSH å…¬é’¥å¤§å¤šæ•° Git æœåŠ¡å™¨éƒ½ä¼šé€‰æ‹©ä½¿ç”¨ SSH å…¬é’¥æ¥è¿›è¡Œæˆæƒã€‚ç³»ç»Ÿä¸­çš„æ¯ä¸ªç”¨æˆ·éƒ½å¿…é¡»æä¾›ä¸€ä¸ªå…¬é’¥ç”¨äºæˆæƒï¼Œæ²¡æœ‰çš„è¯å°±è¦ç”Ÿæˆä¸€ä¸ªã€‚ç”Ÿæˆå…¬é’¥çš„è¿‡ç¨‹åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿä¸Šéƒ½å·®ä¸å¤šã€‚ é¦–å…ˆå…ˆç¡®è®¤ä¸€ä¸‹æ˜¯å¦å·²ç»æœ‰ä¸€ä¸ªå…¬é’¥äº†ã€‚SSH å…¬é’¥é»˜è®¤å‚¨å­˜åœ¨è´¦æˆ·çš„ä¸»ç›®å½•ä¸‹çš„ ~/.ssh ç›®å½•ã€‚è¿›å»çœ‹çœ‹ï¼š 123âœ ~ cd .sshâœ .ssh lsid_rsa id_rsa.pub known_hosts å…³é”®æ˜¯çœ‹æœ‰æ²¡æœ‰ç”¨ something å’Œ something.pub æ¥å‘½åçš„ä¸€å¯¹æ–‡ä»¶ï¼Œè¿™ä¸ª something é€šå¸¸å°±æ˜¯ id_dsa æˆ– id_rsaã€‚æœ‰ .pub åç¼€çš„æ–‡ä»¶å°±æ˜¯å…¬é’¥ï¼Œå¦ä¸€ä¸ªæ–‡ä»¶åˆ™æ˜¯å¯†é’¥ã€‚å‡å¦‚æ²¡æœ‰è¿™äº›æ–‡ä»¶ï¼Œæˆ–è€…å¹²è„†è¿ .ssh ç›®å½•éƒ½æ²¡æœ‰ï¼Œå¯ä»¥ç”¨ ssh-keygen æ¥åˆ›å»ºã€‚è¯¥ç¨‹åºåœ¨ Linux/Mac ç³»ç»Ÿä¸Šç”± SSH åŒ…æä¾›ï¼Œè€Œåœ¨ Windows ä¸Šåˆ™åŒ…å«åœ¨ MSysGit åŒ…é‡Œï¼š 123456789101112131415161718192021âœ .ssh ssh-keygenGenerating public/private rsa key pair.Enter file in which to save the key (/Users/liangyanqiao/.ssh/id_rsa):Enter passphrase (empty for no passphrase):Enter same passphrase again:Your identification has been saved in /Users/liangyanqiao/.ssh/id_rsa.Your public key has been saved in /Users/liangyanqiao/.ssh/id_rsa.pub.The key fingerprint is:SHA256:Zx+P**************************************mKyhnXOieS4 liangyanqiao@liangyanqiaodeMacBook-Pro.localThe key&apos;s randomart image is:+---[RSA 2048]----+| . || o || . . . || . o . . || ..o= S = . || . +o+.=.= o + || o +. =+.ooo.+.. ||E.B .o.o+oo*oo. ||o=.+ ooo oo*= |+----[SHA256]-----+ é¦–å…ˆç¡®ä¿åœ¨ç»ˆç«¯é‡Œé¢å·²ç»è¿›å…¥ .ssh ç›®å½•ä¸‹ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ ssh-keygenï¼Œå®ƒå…ˆè¦æ±‚ä½ ç¡®è®¤ä¿å­˜å…¬é’¥çš„ä½ç½®ï¼ˆ.ssh/id_rsaï¼‰ï¼Œç„¶åå®ƒä¼šè®©ä½ é‡å¤ä¸€ä¸ªå¯†ç ä¸¤æ¬¡ï¼Œå¦‚æœä¸æƒ³åœ¨ä½¿ç”¨å…¬é’¥çš„æ—¶å€™è¾“å…¥å¯†ç ï¼Œå¯ä»¥ç•™ç©ºï¼Œå›è½¦è¿›è¡Œä¸‹ä¸€æ­¥ï¼ŒçŸ¥é“æœ€åç”Ÿæˆ RSAã€‚ ç°åœ¨ï¼Œæ‰€æœ‰åšè¿‡è¿™ä¸€æ­¥çš„ç”¨æˆ·éƒ½å¾—æŠŠå®ƒä»¬çš„å…¬é’¥ç»™ä½ æˆ–è€… Git æœåŠ¡å™¨çš„ç®¡ç†å‘˜ï¼ˆå‡è®¾ SSH æœåŠ¡è¢«è®¾å®šä¸ºä½¿ç”¨å…¬é’¥æœºåˆ¶ï¼‰ã€‚ä»–ä»¬åªéœ€è¦å¤åˆ¶ .pub æ–‡ä»¶çš„å†…å®¹ç„¶åå‘é‚®ä»¶ç»™ç®¡ç†å‘˜ã€‚å…¬é’¥çš„æ ·å­å¤§è‡´å¦‚ä¸‹ï¼š 12âœ .ssh cat id_rsa.pubssh-rsa AAAAB3Nz**************************************zbzFr leaderliang@MacBook-Pro.local å…³äºåœ¨å¤šä¸ªæ“ä½œç³»ç»Ÿä¸Šè®¾ç«‹ç›¸åŒ SSH å…¬é’¥çš„æ•™ç¨‹ï¼Œå¤§å®¶å¯ä»¥æŸ¥é˜… GitHub ä¸Šæœ‰å…³ SSH å…¬é’¥çš„å‘å¯¼ï¼šhttp://github.com/guides/providing-your-ssh-key 2019.3.6 æ›´æ–°é‡åˆ°ä¸€ä¸ªé—®é¢˜æƒ³åœ¨è‡ªå·±å¦ä¸€å°ç”µè„‘ä¸Šç”¨å¦ä¸€ä¸ª git è´¦å· ä½¿ç”¨ä»£ç ä»“åº“å¯¹ä»£ç è¿›è¡Œç®¡ç†ï¼Œå‘ç° ssh æƒé™å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œç„¶åå°±å„ç§å°è¯•ï¼ŒæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£å°è¯•é…ç½®ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰äº›é—®é¢˜ã€‚æœ€åçœ‹äº† è¿™ä½è€å“¥ çš„é…ç½®ï¼Œæ‰å¼„æ˜ç™½ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚ å¦‚æœä½ å·²ç»æœ‰äº†ä¸€å¥—åä¸º id_rsa çš„å…¬ç§˜é’¥ï¼Œå°†è¦ç”Ÿæˆå¦å¤–ä¸€ä¸ªå…¬é’¥ï¼Œæ¯”å¦‚ aysee ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•ä½ å–œæ¬¢çš„åå­—ã€‚å¤§è‡´æ­¥éª¤å¦‚ä¸‹ï¼š ç”Ÿæˆä¸€ä¸ªæ–°çš„è‡ªå®šä¹‰åç§°çš„å…¬é’¥ï¼š12ssh-keygen -t rsa -C &quot;YOUR_EMAIL@YOUREMAIL.COM&quot; -f ~/.ssh/ayseessh-keygen -t rsa -C &quot;YOUR_EMAIL@YOUREMAIL.COM&quot; -f ~/.ssh/aysee æ‰§è¡Œå‘½ä»¤åï¼Œç”Ÿæˆå‘½åçš„å…¬é’¥å’Œç”Ÿæˆé»˜è®¤å…¬é’¥çš„æ­¥éª¤ä¸€æ ·ã€‚ æ‰§è¡Œå®Œæˆåï¼Œä¼šåœ¨ ~/.ssh/ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª aysee å’Œ aysee.pub æ–‡ä»¶ã€‚ åœ¨ SSH ç”¨æˆ·é…ç½®æ–‡ä»¶ ~/.ssh/config ä¸­æŒ‡å®šå¯¹åº”æœåŠ¡æ‰€ä½¿ç”¨çš„å…¬ç§˜é’¥åç§°ï¼Œå¦‚æœæ²¡æœ‰ config æ–‡ä»¶çš„è¯å°±æ–°å»ºä¸€ä¸ªï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š12Host github.com www.github.com IdentityFile ~/.ssh/aysee æ·»åŠ  aysee.pub åˆ°ä½ çš„ git/github æœåŠ¡å™¨ç½‘ç«™ä¸Šæµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦æ­£å¸¸å·¥ä½œ1ssh -T git@gitcafe.com å¦‚æœï¼Œæ­£å¸¸çš„è¯ï¼Œä¼šå‡ºç°å¦‚ä¸‹æç¤ºï¼š 1Hi USERNAME! You&apos;ve successfully authenticated, but github does not provide shell access. å¦‚æœå‡ºç°å¦‚ä¸‹æç¤ºï¼Œåˆ™è¯´æ˜æœ‰æƒé™é—®é¢˜ï¼š 1Permission denied (publickey) å¦‚æœæœ‰æƒé™é—®é¢˜çš„æƒ…å†µä¸‹ï¼Œä½ å¯¹é¡¹ç›®æ‰§è¡Œpushæ“ä½œçš„æ—¶å€™ï¼Œä¼šå¾—åˆ°å¦‚ä¸‹æç¤ºï¼š 12345Warning: Permanently added the RSA host key for IP address &apos;192.30.252.129&apos; to the list of known hosts.Permission denied (publickey).fatal: Could not read from remote repository.Please make sure you have the correct access rightsand the repository exists. å¤šç”¨æˆ·æ—¶å‡ºç°æƒé™é—®é¢˜çš„åŸå› ï¼šgithubä½¿ç”¨SSHä¸å®¢æˆ·ç«¯è¿æ¥ã€‚å¦‚æœæ˜¯å•ç”¨æˆ·ï¼ˆfirstï¼‰ï¼Œç”Ÿæˆå¯†é’¥å¯¹åï¼Œå°†å…¬é’¥ä¿å­˜è‡³ GitHub ï¼Œæ¯æ¬¡è¿æ¥æ—¶SSHå®¢æˆ·ç«¯å‘é€æœ¬åœ°ç§é’¥ï¼ˆé»˜è®¤~/.ssh/id_rsaï¼‰åˆ°æœåŠ¡ç«¯éªŒè¯ã€‚å•ç”¨æˆ·æƒ…å†µä¸‹ï¼Œè¿æ¥çš„æœåŠ¡å™¨ä¸Šä¿å­˜çš„å…¬é’¥å’Œå‘é€çš„ç§é’¥è‡ªç„¶æ˜¯é…å¯¹çš„ã€‚ä½†æ˜¯å¦‚æœæ˜¯ å¤šç”¨æˆ· ï¼ˆfirstï¼Œsecondï¼‰ï¼Œæˆ‘ä»¬åœ¨è¿æ¥åˆ°secondçš„å¸å·æ—¶ï¼Œsecondä¿å­˜çš„æ˜¯è‡ªå·±çš„å…¬é’¥ï¼Œä½†æ˜¯SSHå®¢æˆ·ç«¯ä¾ç„¶å‘é€é»˜è®¤ç§é’¥ï¼Œå³firstçš„ç§é’¥ï¼Œé‚£ä¹ˆè¿™ä¸ªéªŒè¯è‡ªç„¶æ— æ³•é€šè¿‡ã€‚ è§£å†³sshæƒé™é—®é¢˜ï¼ˆï¼‰:é€šå¸¸ä¸€å°ç”µè„‘ç”Ÿæˆä¸€ä¸ªsshä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œå½“ä¸€å°ç”µè„‘ç”Ÿæˆå¤šä¸ªsshçš„æ—¶å€™ï¼Œå°±å¯èƒ½é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œè§£å†³æ­¥éª¤å¦‚ä¸‹ï¼š æŸ¥çœ‹ç³»ç»Ÿssh-keyä»£ç†,æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ 1$ ssh-add -l ä»¥ä¸Šå‘½ä»¤å¦‚æœè¾“å‡º The agent has no identities. åˆ™è¡¨ç¤ºæ²¡æœ‰ä»£ç†ã€‚å¦‚æœç³»ç»Ÿæœ‰ä»£ç†ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ¸…é™¤ä»£ç†: 1$ ssh-add -D ç„¶åä¾æ¬¡å°†ä¸åŒçš„sshæ·»åŠ ä»£ç†ï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š 12$ ssh-add ~/.ssh/id_rsa$ ssh-add ~/.ssh/aysee ä½ ä¼šåˆ†åˆ«å¾—åˆ°å¦‚ä¸‹æç¤ºï¼š 12048 8e:71:ad:88:78:80:b2:d9:e1:2d:1d:e4:be:6b:db:8e /Users/aysee/.ssh/id_rsa (RSA) å’Œ 122048 8e:71:ad:88:78:80:b2:d9:e1:2d:1d:e4:be:6b:db:8e /Users/aysee/.ssh/id_rsa (RSA)2048 a7:f4:0d:f1:b1:76:0b:bf:ed:9f:53:8c:3f:4c:f4:d6 /Users/aysee/.ssh/aysee (RSA) å¦‚æœä½¿ç”¨ ssh-add ~/.ssh/id_rsaçš„æ—¶å€™æŠ¥å¦‚ä¸‹é”™è¯¯ï¼Œåˆ™éœ€è¦å…ˆè¿è¡Œä¸€ä¸‹ ssh-agent bash å‘½ä»¤åå†æ‰§è¡Œ ssh-add â€¦ç­‰å‘½ä»¤ 1Could not open a connection to your authentication agent. é…ç½® /.ssh/config æ–‡ä»¶å¦‚æœæ²¡æœ‰å°±åœ¨/.sshç›®å½•åˆ›å»ºconfigæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ç”¨äºé…ç½®ç§é’¥å¯¹åº”çš„æœåŠ¡å™¨ 1234567891011#Default github user(first@mail.com)Host github.comHostName github.comUser gitIdentityFile C:/Users/username/.ssh/id_rsa #aysee (company_email@mail.com)Host github-ayseeHostName github.comUser gitIdentityFile C:/Users/username/.ssh/aysee Hostéšæ„å³å¯ï¼Œæ–¹ä¾¿è‡ªå·±è®°å¿†ï¼Œåç»­åœ¨æ·»åŠ remoteæ˜¯è¿˜éœ€è¦ç”¨åˆ°ã€‚ é…ç½®å®Œæˆåï¼Œåœ¨è¿æ¥éé»˜è®¤å¸å·çš„githubä»“åº“æ—¶ï¼Œè¿œç¨‹åº“çš„åœ°å€è¦å¯¹åº”åœ°åšä¸€äº›ä¿®æ”¹ï¼Œæ¯”å¦‚ç°åœ¨æ·»åŠ secondå¸å·ä¸‹çš„ä¸€ä¸ªä»“åº“testï¼Œåˆ™éœ€è¦è¿™æ ·æ·»åŠ ï¼š 12git remote add test git@github-aysee:ay-seeing/test.git#å¹¶éåŸæ¥çš„git@github.com:ay-seeing/test.git ay-seeing æ˜¯githubçš„ç”¨æˆ·å æµ‹è¯• ssh 1ssh -T git@github.com ä½ ä¼šå¾—åˆ°å¦‚ä¸‹æç¤ºï¼Œè¡¨ç¤ºè¿™ä¸ªsshå…¬é’¥å·²ç»è·å¾—äº†æƒé™ 1Hi USERNAME! You&apos;ve successfully authenticated, but github does not provide shell access. ä¸Šä¸€å¼ æˆ‘æ“ä½œçš„å›¾","categories":[{"name":"Git","slug":"git","permalink":"https://leaderliang.coding.me/categories/git/"}],"tags":[{"name":"git","slug":"git","permalink":"https://leaderliang.coding.me/tags/git/"}]},{"title":"å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°","slug":"å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°","date":"2017-06-07T16:10:58.000Z","updated":"2020-06-30T06:19:32.090Z","comments":true,"path":"2da4.html","link":"","permalink":"https://leaderliang.coding.me/2da4.html","excerpt":"è‡ªä»2017å¹´1æœˆ9æ—¥ï¼Œå¼ å°é¾™åœ¨ 2017 å¾®ä¿¡å…¬å¼€è¯¾ Pro ä¸Šå‘å¸ƒçš„å°ç¨‹åºæ­£å¼ä¸Šçº¿ä»¥æ¥","text":"è‡ªä»2017å¹´1æœˆ9æ—¥ï¼Œå¼ å°é¾™åœ¨ 2017 å¾®ä¿¡å…¬å¼€è¯¾ Pro ä¸Šå‘å¸ƒçš„å°ç¨‹åºæ­£å¼ä¸Šçº¿ä»¥æ¥ï¼Œå°ç¨‹åºä¸€ç›´éƒ½æ˜¯ä¸€ä¸ªå¾ˆç«çš„è¯é¢˜ï¼Œè°éƒ½ä¸æ•¢è‚¯å®šçš„è¯´å°ç¨‹åºå¯ä»¥æˆä¸ºä¸€ç§è¶‹åŠ¿ï¼Œå½±å“åŸç”Ÿ APP çš„å¸‚åœºï¼Œä½†å°ç¨‹åºç¡®å®æœ‰å¾ˆå¤šè‡ªèº«ç‹¬æœ‰çš„ç‰¹ç‚¹å’Œä¼˜åŠ¿ã€‚ æœ€è¿‘å› å…¬å¸çš„ä¸€ä¸ªå°ç¨‹åºå¼€å‘æ¯”èµ›ï¼Œç‡ƒæ°”äº†æˆ‘å­¦ä¹ å°ç¨‹åºå¾—çƒ­æƒ…ï¼Œç½‘ä¸Šçš„èµ„æ–™ä¹Ÿä¸å¤šï¼Œå­¦ä¹ çš„è¯ä¹Ÿåªèƒ½æŸ¥é˜…å®˜æ–¹æä¾›çš„æ–‡æ¡£ï¼Œæ‰€ä»¥æƒ³åœ¨è¿™é‡Œè®°å½•ä¸‹è‡ªå·±å­¦ä¹ è¿‡ç¨‹ä¸­çš„é‡ç‚¹å’Œä¸€äº›å¼€å‘æŠ€å·§ï¼Œç¬”è®°å†™çš„æ¯”è¾ƒé›¶ç¢ï¼Œå› ä¹‹å‰æ²¡æœ‰å¥½å¥½å­¦ä¹ è¿‡ JSï¼Œæ‰€ä»¥ä»¥ä¸‹ç¬”è®°æœ‰äº›ç†è§£æ˜¯æŒ‰ç…§ç§»åŠ¨å¼€å‘æ€æƒ³æ¥å†™çš„ï¼ŒåæœŸæœ‰æ—¶é—´ä¼šå¥½å¥½æ•´ç†ä¸‹ï¼Œç¬”è®°ä¼šéšç€å­¦ä¹ æŒç»­æ›´æ–°çš„ï¼Œç›¸å…³ä»£ç å¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸ŠæŸ¥çœ‹ã€‚ å°ç¨‹åºçš„ä¸€äº›ç‰¹ç‚¹ å°ç¨‹åºç›®å‰å¤„äºå…¬æµ‹çŠ¶æ€ï¼Œä¸ªäººå¼€å‘è€…æƒ³è·å–åˆ°å¾®ä¿¡å¼€å‘è€…è´¦å·ï¼Œç›®å‰è¿˜æ˜¯æ¯”è¾ƒå›°éš¾ã€‚ å°ç¨‹åºé€‚åˆåšç®€å•çš„ã€ç”¨å®Œå³èµ°çš„åº”ç”¨ã€‚ å°ç¨‹åºé€‚åˆä½é¢‘çš„åº”ç”¨ã€‚ å°ç¨‹åºé€‚åˆæ€§èƒ½è¦æ±‚ä¸é«˜çš„åº”ç”¨ã€‚ å°ç¨‹åºä¸æ”¯æŒåŠ è½½ WebViewã€‚ æ²¡æœ‰å°ç¨‹åºè´¦å·çš„ä¸€äº›é™åˆ¶ ä¸èƒ½ä¸Šä¼ å’Œå‘å¸ƒ ä¸èƒ½çœŸæœºè¿è¡Œï¼Œåªå¯ä»¥åœ¨ PCçš„æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œ å½•éŸ³ã€ç½‘ç»œçŠ¶æ€ã€ç½—ç›˜ã€æ‹¨æ‰“ç”µè¯ç­‰åŠŸèƒ½ æ— æ³•ä½¿ç”¨ è·å–ç”¨æˆ·ä¿¡æ¯çš„æµç¨‹æ˜¯æ¨¡æ‹Ÿçš„è€Œä¸æ˜¯çœŸå®çš„ ç›®å‰å°ç¨‹åºçš„è¿™äº›é™åˆ¶ï¼Œä½†æ˜¯ä¸å½±å“æˆ‘ä»¬å­¦ä¹ å°ç¨‹åºå¼€å‘ã€‚ å­¦ä¹ ç»†èŠ‚è®°å½•ï¼Œå…³äºè°ƒè¯•æ‰«ä¸€æ‰«åï¼Œç‚¹å‡»å°ç¨‹åºæœ¬åœ°é¡¹ç›® è°ƒè¯•ç•Œé¢ä¼šæœ‰ä»¥ .js å’Œ .js[sm] åç¼€ç»“å°¾çš„æ–‡ä»¶ï¼Œè°ƒè¯•çš„è¯ è¦åœ¨ å¸¦æœ‰ .js[sm] åç¼€çš„æ–‡ä»¶ä¸­æ‰“æ–­ç‚¹ã€‚ ç¼–å†™ç¬¬ä¸€ä¸ªå°ç¨‹åº .js javascript æ–‡ä»¶ .json æ˜¯ç³»ç»Ÿæˆ–è€…é¡µé¢çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶ä¸­ä¸èƒ½æ·»åŠ æ³¨é‡Šï¼Œå¦åˆ™ç¼–è¯‘æ—¶å€™æŠ¥é”™ã€‚ .wxml æ˜¯ç¼–å†™å°ç¨‹åºçš„éª¨æ¶æ–‡ä»¶ï¼Œå¯ä»¥ç†è§£ä¸º HTML æ–‡ä»¶ .wxss æ ·å¼æ–‡ä»¶ åœ¨å·¥ç¨‹ä¸‹ï¼Œä»¥ app å¼€å¤´çš„æ–‡ä»¶å±äºå…¨å±€é…ç½®æˆ–è€…æ ·å¼æ–‡ä»¶ã€‚&lt;view&gt; å’Œ &lt;div&gt; æ ‡ç­¾ çš„ä½œç”¨ç›¸å½“ï¼›åªæœ‰å†™åœ¨ text æ ‡ç­¾é‡ŒåŒ…æ‹¬çš„æ–‡å­—ï¼Œæ‰å¯ä»¥åœ¨æ‰‹æœºé‡Œå®ç°é•¿æŒ‰é€‰ä¸­å¤åˆ¶æ“ä½œ åˆ†è¾¨ç‡ï¼šç‰©ç†åˆ†è¾¨ç‡ï¼Œé€»è¾‘åˆ†è¾¨ç‡ã€‚ page æ ‡ç­¾å¯åœ¨ page é‡Œé¢è®¾ç½®èƒŒæ™¯è‰²ï¼Œä»¥åŠåœ¨çŠ¶æ€æ é‡Œé€šè¿‡ windows æ ‡ç­¾è®¾ç½®å°ç¨‹åºçš„çŠ¶æ€æ ã€å¯¼èˆªæ¡ã€æ ‡é¢˜ã€çª—å£èƒŒæ™¯è‰²ã€‚page æ ‡ç­¾ï¼Œåœ¨æ ·å¼è¡¨é‡Œä¹¦å†™æ—¶å€™ä¸èƒ½å†™æˆ .pageã€‚ 1234page&#123; height: 100%; background-color: #b3d4db;&#125; å…³äºå°ç¨‹åºè®¾è®¡æ•ˆæœå›¾ï¼šä»¥ iphone6 çš„ 750 ä¸ªåƒç´ çš„å®½åº¦åšæ•ˆæœå›¾ï¼Œå‡å¦‚ ä¸€ä¸ªå›¾ç‰‡çš„åƒç´ æ˜¯ 200 ä¸ªåƒç´ ï¼Œåˆ™åœ¨å°ç¨‹åºé‡Œ ç›´æ¥å°±å†™ 200rpxï¼Œä»–ä»¬çš„è½¬æ¢å…³ç³»æ˜¯ 1 ï¼š1 çš„ã€‚ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ°´å¹³å¸ƒå±€çš„æ ·å¼æ¨èä½¿ç”¨ rpx ä¸ºå•ä½ï¼Œæ¨ªå‘å¦‚æœå…ƒç´ å•ä¸€è§†æƒ…å†µä¹Ÿå¯ä½¿ç”¨ pxä¸ºå•ä½ï¼Œçºµå‘å¸ƒå±€çš„é—´è·æ¨è pxã€‚ å°ç¨‹åºå®æˆ˜Swiper ç»„ä»¶ä½¿ç”¨åŸºç¡€å±æ€§å¤§å®¶å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æŸ¥æ‰¾å¹¶ä½¿ç”¨ï¼Œswiper é‡Œæœ‰ä¸ªç‰¹åˆ«çš„å±æ€§éœ€è¦æä¸€ä¸‹ vertical=â€trueâ€ çºµå‘æ»šåŠ¨ï¼Œä½¿å›¾ç‰‡å¯ä»¥çºµå‘æ»šåŠ¨ã€‚ js æ–‡ä»¶ç»“æ„ï¼Œå’Œ page é¡µé¢çš„å£°æ˜å‘¨æœŸ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465Page(&#123; /** * é¡µé¢çš„åˆå§‹æ•°æ® */ data: &#123; // è®¾ç½®æ•°æ®ç»‘å®šï¼Œå®šä¹‰æ•°æ®å˜é‡ &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½ */ onLoad: function (options) &#123; &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ */ onReady: function () &#123; &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢æ˜¾ç¤º */ onShow: function () &#123; &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢éšè— */ onHide: function () &#123; &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢å¸è½½ */ onUnload: function () &#123; &#125;, /** * é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°--ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ */ onPullDownRefresh: function () &#123; &#125;, /** * é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•° */ onReachBottom: function () &#123; &#125;, /** * ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº« */ onShareAppMessage: function () &#123; &#125;&#125;) å¼¹æ€§æ¨¡å‹/**éœ€è¦å…ˆå£°æ˜æ˜¯å¼¹æ€§æ¨¡å‹*/ display: flex; /**è®¾ç½®å¼¹æ€§æ¨¡å‹çš„æ–¹å‘*/ flex-direction:column;æ•°æ®ç»‘å®šå¦‚æœç»‘å®šçš„æ•°æ®æ˜¯åœ¨æ ‡ç­¾çš„å±æ€§ä¸Šï¼Œéœ€è¦æ·»åŠ æ·»åŠ åŒå¼•å· â€œ&#123;&#123; &#125;&#125;â€å¦‚æœç»‘å®šçš„æ•°æ®æ˜¯åœ¨æ ‡ç­¾çš„å±æ€§ä¸Šï¼Œéœ€è¦æ·»åŠ æ·»åŠ åŒå¼•å· â€œ&#123;&#123; &#125;&#125;â€ å¦‚æœç»‘å®šçš„æ•°æ®åœ¨æ ‡ç­¾ä¹‹é—´ï¼Œåˆ™ä¸éœ€è¦æ·»åŠ  â€œâ€, eg:&lt;text&gt;&#123;&#123; &#125;&#125;&lt;/text&gt; æ•°æ®ç»‘å®šæ‰©å±•æ‰€æœ‰å±æ€§å€¼æ˜¯ boolean çš„æ—¶å€™ï¼Œå¦‚æœæœ‰éœ€è¦è®¾ç½®ä¸º false çš„æ—¶å€™ï¼Œéƒ½éœ€è¦å†™æˆ false æ‰å¯ç”Ÿæ•ˆã€‚å› ä¸ºå¦‚æœå†™æˆ false ï¼Œå°ç¨‹åºä¼šé»˜è®¤ä¸ºæ˜¯æœ‰å€¼çš„ï¼Œä»è€Œç¼–è¯‘ä¸º trueã€‚ ä¸¤ä¸ªèŠ±æ‹¬å·ç»“åˆèµ·æ¥çš„æ•°æ®ç»‘å®šä¹Ÿæ˜¯å¯ä»¥ç”Ÿæ•ˆçš„&lt;text&gt;&#123;&#123;data1&#125;&#125;&#123;&#123;data2&#125;&#125;&lt;/text&gt; ç”¨ wx:if=â€&#123;&#123;&#125;&#125;â€ æ¥æ§åˆ¶ image çš„æ˜¾ç¤ºå’Œéšè—&lt;image&gt; wx:if=â€&#123;&#123;img_visible&#125;&#125;â€&gt;&lt;/image&gt; åˆ—è¡¨æ¸²æŸ“ wx-for(forå¾ªç¯)for å¾ªç¯çš„å¸ƒå±€æ ·å¼éƒ½éœ€è¦å†™åœ¨ &lt;block/&gt; ä¸­ï¼Œå¤§å®¶å¯ä»¥æŠŠ&lt;block/&gt; æ ‡ç­¾ç†è§£ä¸ºä¸€ä¸ªå¤§æ‹¬å· {}ã€‚ 12345678910111213&lt;!-- item å¯ä»¥ç†è§£ä¸ºæ¡ç›®æ•°æ®çš„å¯¹è±¡ index å¯ä»¥ç†è§£ä¸º ç´¢å¼• ä¸” item å’Œ index ä¸¤ä¸ªå€¼éƒ½æ˜¯ &lt;block/&gt; æ ‡ç­¾ä¸­å¼•ç”¨æ—¶å€™çš„é»˜è®¤å€¼ï¼Œå¯ç›´æ¥æ‰“ . æ¥è°ƒç”¨ wx:for-item=&quot;item&quot; wx:for-index=&quot;index&quot; è¿™ä¸¤ä¸ªæ ‡ç­¾éƒ½å¯ä»¥ä¸ç”¨å† &lt;block/&gt;æ ‡ç­¾ä¸­å£°æ˜ï¼Œç›´æ¥ä½¿ç”¨ item index æ‰“ . è°ƒç”¨å³å¯ã€‚ --&gt; &lt;block wx:for=&quot;&#123;&#123;æ•°æ®æºæˆ–è€…æ”¾ç½®æ•°æ®æºçš„ key&#125;&#125;&quot; wx:for-item=&quot;item&quot; wx:for-index=&quot;index&quot;&gt; &lt;image src=&quot;&#123;&#123;item.leaderliang.png&#125;&#125;&quot;&gt;&lt;/image&gt; &lt;text&gt;&#123;&#123;item.title&#125;&#125;&#123;&#123;index&#125;&#125;&lt;/text&gt;&lt;/block&gt; åœ¨ä½¿ç”¨ wx:for çš„æ—¶å€™ï¼Œä¼šæŠ¥ä¸€ä¸ªè­¦å‘Šï¼›ç±»ä¼¼äºè¿™æ ·ï¼š 123456789./pages/post/post.wxmlNow you can provide attr &quot;wx:key&quot; for a &quot;wx:for&quot; to improve performance. | &lt;/swiper&gt; | &gt; | &lt;block wx:for=&quot;&#123;&#123;posts_key&#125;&#125;&quot; wx:for-item=&quot;item&quot; wx:for-index=&quot;index&quot;&gt; | ^ | &lt;view catchtap=&quot;onPostItemTap&quot;&gt; | &lt;!-- is = çš„æ˜¯æ¨¡æ¿çš„åå­—--&gt; | &lt;template is=&quot;postItem&quot; data=&quot;&#123;&#123;...item&#125;&#125;&quot; /&gt; å®˜æ–¹ç»™çš„è§£é‡Šæ˜¯è¿™æ ·ï¼š 123456789101112è¿™ä¸ªä¸æ˜¯bugï¼Œæ˜¯ä¸€ä¸ªå…³äºæ€§èƒ½ä¼˜åŒ–æ–¹é¢çš„æç¤ºå…·ä½“å‚è§ wx:keyå¦‚æœåˆ—è¡¨ä¸­é¡¹ç›®çš„ä½ç½®ä¼šåŠ¨æ€æ”¹å˜æˆ–è€…æœ‰æ–°çš„é¡¹ç›®æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”å¸Œæœ›åˆ—è¡¨ä¸­çš„é¡¹ç›®ä¿æŒè‡ªå·±çš„ç‰¹å¾å’ŒçŠ¶æ€ï¼ˆå¦‚ &lt;input/&gt;ä¸­çš„è¾“å…¥å†…å®¹ï¼Œ&lt;switch/&gt; çš„é€‰ä¸­çŠ¶æ€ï¼‰ï¼Œéœ€è¦ä½¿ç”¨ wx:key æ¥æŒ‡å®šåˆ—è¡¨ä¸­é¡¹ç›®çš„å”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚wx:key çš„å€¼ä»¥ä¸¤ç§å½¢å¼æä¾›å­—ç¬¦ä¸²ï¼Œä»£è¡¨åœ¨ for å¾ªç¯çš„ array ä¸­ item çš„æŸä¸ª propertyï¼Œè¯¥ property çš„å€¼éœ€è¦æ˜¯åˆ—è¡¨ä¸­å”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œä¸”ä¸èƒ½åŠ¨æ€æ”¹å˜ã€‚ä¿ç•™å…³é”®å­— *this ä»£è¡¨åœ¨ for å¾ªç¯ä¸­çš„ item æœ¬èº«ï¼Œè¿™ç§è¡¨ç¤ºéœ€è¦ item æœ¬èº«æ˜¯ä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼Œå¦‚ï¼šå½“æ•°æ®æ”¹å˜è§¦å‘æ¸²æŸ“å±‚é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œä¼šæ ¡æ­£å¸¦æœ‰ key çš„ç»„ä»¶ï¼Œæ¡†æ¶ä¼šç¡®ä¿ä»–ä»¬è¢«é‡æ–°æ’åºï¼Œè€Œä¸æ˜¯é‡æ–°åˆ›å»ºï¼Œä»¥ç¡®ä¿ä½¿ç»„ä»¶ä¿æŒè‡ªèº«çš„çŠ¶æ€ï¼Œå¹¶ä¸”æé«˜åˆ—è¡¨æ¸²æŸ“æ—¶çš„æ•ˆç‡ã€‚å¦‚ä¸æä¾› wx:keyï¼Œä¼šæŠ¥ä¸€ä¸ª warningï¼Œ å¦‚æœæ˜ç¡®çŸ¥é“è¯¥åˆ—è¡¨æ˜¯é™æ€ï¼Œæˆ–è€…ä¸å¿…å…³æ³¨å…¶é¡ºåºï¼Œå¯ä»¥é€‰æ‹©å¿½ç•¥ã€‚ ä¸ªäººå°è¯•äº†ä¸‹ è®¾ç½® wx:key=â€â€ï¼Œæš‚ä¸”å¯ä»¥æ¶ˆé™¤è­¦å‘Šï¼Œä¸çŸ¥é“åæœŸä¼šä¸ä¼šæœ‰å…¶ä»–é—®é¢˜ï¼Œéšåä¼šå†ç ”ç©¶ä¸€ä¸‹ã€‚ å°ç¨‹åºçš„äº‹ä»¶æœºåˆ¶bindtap=â€æ–¹æ³•åâ€view çš„äº‹ä»¶ç›‘å¬ï¼Œä½†æ˜¯ä¼šæœ‰å†’æ³¡çš„æƒ…å†µå‘ç”Ÿ catchtap=â€æ–¹æ³•åâ€å¯ä»¥é˜»æ­¢å†’æ³¡çš„æ‰§è¡Œ template çš„ä½¿ç”¨ç›®å‰ template åªæ”¯æŒ å¤ç”¨æ ‡ç­¾å’Œæ ·å¼ï¼Œè¿˜ä¸æ”¯æŒ js åœ¨åˆ›å»º template åï¼Œ .wxml ä¸­ä¼šæŠŠå…¬å…±çš„ view å¸ƒå±€æ”¾ç½®è¿›å»ï¼Œæ•°æ®ç»‘å®šçš„å‚æ•° item.title/date/avatar ç­‰ç­‰å±æ€§ å¯ä»¥ç›´æ¥æŠŠ item å»æ‰ï¼Œä½†æ˜¯éœ€è¦é…åˆåœ¨ç›¸åº” ä¾èµ–çš„ .wxml ä¸­æŠŠä¹‹å‰ è®¾ç½®çš„æ•°æ®ç»‘å®šå¤„ data çš„å€¼å‰åŠ  â€œâ€¦â€,ä¸‰ä¸ªç‚¹ï¼ŒåŠ äº†ä¸‰ä¸ªç‚¹ä¹‹åï¼Œç›¸å½“äºæŠŠè¿™ä¸ªå¯¹è±¡å¹³é“ºäº†ã€‚å¦‚ 1234&lt;block wx:for=&quot;&#123;&#123;posts_key&#125;&#125;&quot; wx:for-item=&quot;item&quot; wx:for-index=&quot;index&quot;&gt;&lt;!-- is = çš„æ˜¯æ¨¡æ¿çš„åå­—--&gt; &lt;template is=&quot;postItem&quot; data=&quot;&#123;&#123;...item&#125;&#125;&quot; /&gt;&lt;/block&gt; å¦å¤–åœ¨ä½¿ç”¨ template æ¨¡æ¿çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ï¼Œå½“æ¨¡æ¿é‡Œé¢æœ‰ç”¨åˆ°å›¾ç‰‡çš„åœ°æ–¹ï¼Œè·¯å¾„åˆ‡å¿Œä¸èƒ½æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œè¦å†™ä¸ºç»å¯¹è·¯å¾„ï¼Œå› ä¸ºæ¯•ç«Ÿæ˜¯æ¨¡æ¿æ–‡ä»¶ï¼Œä¼šæœ‰å¾ˆå¤šç•Œé¢ä½¿ç”¨åˆ°ï¼Œå±‚çº§ä»€ä¹ˆçš„ä¼šæœ‰ä¸ä¸€æ ·ï¼Œä¸ºäº†é¿å…åæœŸä¸å¿…è¦çš„ bugï¼Œå»ºè®®ç»Ÿä¸€ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ ç»„ä»¶è‡ªå®šä¹‰å±æ€§ åŠ è·å–å±æ€§åœ¨ä¸€ä¸ª view æ ‡ç­¾é‡Œæ·»åŠ  catchtap ç‚¹å‡»äº‹ä»¶åï¼Œå¯ä»¥åœ¨ view æ ‡ç­¾é‡Œæ·»åŠ è‡ªå®šä¹‰æ•°æ®ï¼Œé€šè¿‡äº‹ä»¶ä¼ é€’æ•°æ®ã€‚ å¦‚ï¼š 123&lt;view catchtap=&quot;onPostItemTap&quot; data-postItemId=&quot;&#123;&#123;item.postId&#125;&#125;&quot;&gt; ......&lt;/view&gt; åœ¨ js æ–‡ä»¶ä¸­æ¥æ”¶ data æ•°æ®ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 12345onPostItemTap: function(event)&#123; var postId = event.currentTarget.dataset.postitemid; var postId = event.currentTarget.dataset.dataId; console.log(&quot;postId=&quot; + postId);&#125; event.currentTarget.dataset.dataId; event æ¡†æ¶æä¾›çš„äº‹ä»¶å¯¹è±¡ currentTarget å½“å‰ç‚¹å‡»çš„ç»„ä»¶ï¼Œå¯¹åº”çš„å°±æ˜¯ä¸Šé¢çš„ view currentTarget å’Œ target åŒºåˆ«target æŒ‡çš„æ˜¯å½“å‰ç‚¹å‡»çš„ç»„ä»¶currentTarget æŒ‡çš„æ˜¯äº‹ä»¶æœ€ç»ˆæ•è·çš„ç»„ä»¶ dataset æ‰€æœ‰è‡ªå®šä¹‰æ•°æ®çš„é›†åˆï¼Œå¯ä»¥åœ¨è¿™ä¸ªé›†åˆä¸‹é¢å¯»æ‰¾æˆ‘ä»¬å®šä¹‰çš„æ•°æ® currentTargetã€dataset éƒ½æ˜¯ Object çš„ã€‚ å¦å¤–åœ¨ view æ ‡ç­¾é‡Œé¢å®šä¹‰çš„ data-postItemId æ•°æ®ï¼Œåœ¨ onPostItemTap äº‹ä»¶ä¸­æ¥æ”¶çš„æ—¶å€™ postItemId ä¸­çš„è¿æ¥ç¬¦ å’Œ å¤§å†™çš„å­—æ¯ éƒ½ä¼šè¢«å»æ‰å’Œè½¬æ¢æˆå°å†™ï¼Œæ‰€ä»¥æ¥æ”¶çš„æ—¶å€™ï¼Œéœ€è¦å¤šæ³¨æ„ä¸€ä¸‹ã€‚ bug ä¸“æ å¦å¤–åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹åœ¨ç¼–å†™å°ç¨‹åºæ—¶å€™æŠ¥çš„ä¸€äº› bugï¼š åœ¨åˆ›å»ºæ–°çš„ç•Œé¢æ—¶å€™æˆ‘ä»¬æˆ–è®¸ä¼šæŠŠ .jsã€.jsonã€.wxmlã€.wxss è¿™å››ä¸ªæ–‡ä»¶éƒ½ç»™åˆ›å»ºï¼Œä½†æ˜¯åœ¨é¡µé¢è·³è½¬çš„è¿‡ç¨‹ä¸­ï¼Œå‡å¦‚æ–°åˆ›å»ºçš„ç•Œé¢é‡Œé¢åªæœ‰ä¸€ä¸ªæ–‡æœ¬ï¼Œæˆ–è€…æ²¡æœ‰æ ·å¼å’Œé…ç½®çš„æ—¶å€™ï¼Œå°±ä¼šæŠ¥ä¸‹é¢è¿™äº›é”™ï¼š 12navigateTo:fail url &quot;pages/post/post-detail/post-detail&quot; is not in app.jsoné‡åˆ°ç±»ä¼¼äºè¿™æ ·çš„å°±ä½ çš„ ç³»ç»Ÿé…ç½®æ–‡ä»¶ app.json ä¸­æ²¡æœ‰é…ç½® å¯¹åº”æ–°åˆ›å»ºçš„é¡µé¢ï¼Œé…ç½®ä¸€ä¸‹è·¯å¾„å°±å¥½å•¦ã€‚ å†æ¯”å¦‚ï¼š 123pages/post/post-detail/post-detail.jsonæœªæ‰¾åˆ°å…¥å£ pages/post/post-detail/post-detail.json æ–‡ä»¶ï¼Œæˆ–è€…æ–‡ä»¶è¯»å–å¤±è´¥ï¼Œè¯·æ£€æŸ¥åé‡æ–°ç¼–è¯‘ã€‚é‡åˆ°è¿™æ ·çš„å°±æ˜¯å› ä¸ºæ–°åˆ›å»ºçš„é¡µé¢çš„ .json æ–‡ä»¶æ˜¯ç©ºçš„ï¼Œå¦‚æœæ²¡æœ‰é…ç½®éœ€è¦é…ç½®ï¼Œå¯ä»¥åœ¨æ–‡ä»¶ä¸­å†™å…¥ â€œ&#123;&#125;â€ï¼Œä¸€ä¸ªå¤§æ‹¬å·ï¼Œå°±æå®šå•¦ å†æˆ–è€…ï¼š 12pages/post/post-detail/post-detail å‡ºç°è„šæœ¬é”™è¯¯æˆ–è€…æœªæ­£ç¡®è°ƒç”¨ Page()é‡åˆ°è¿™æ ·çš„ï¼Œå°±æ˜¯å› ä¸ºæ–°åˆ›å»ºçš„é¡µé¢çš„ .js æ–‡ä»¶ ä¸­éœ€è¦é…ç½®ä¸€ä¸‹ page æ–¹æ³•ã€‚ ä»¥ä¸Šéƒ½æ˜¯æ¯”è¾ƒåŸºç¡€çš„é—®é¢˜ï¼Œä»”ç»†çœ‹ä¸‹æŠ¥é”™æ—¥å¿—ï¼Œå¤šè¯•ä¸€ä¸‹ï¼Œå†ä¸è¡Œçš„è¯å¯ä»¥åœ¨å®˜æ–¹çš„å¼€å‘è€…ç¤¾åŒºæœä¸€ä¸‹ç›¸å…³é—®é¢˜ï¼Œæˆ–è€…å‘èµ·æé—®ï¼ŒåŸºæœ¬éƒ½å¯ä»¥è§£å†³çš„ã€‚ å±æ€§è§£é‡Šz-indexz-index å±æ€§è®¾ç½®å…ƒç´ çš„å †å é¡ºåºã€‚æ‹¥æœ‰æ›´é«˜å †å é¡ºåºçš„å…ƒç´ æ€»æ˜¯ä¼šå¤„äºå †å é¡ºåºè¾ƒä½çš„å…ƒç´ çš„å‰é¢ã€‚æ³¨é‡Šï¼šå…ƒç´ å¯æ‹¥æœ‰è´Ÿçš„ z-index å±æ€§å€¼ã€‚æ³¨é‡Šï¼šZ-index ä»…èƒ½åœ¨å®šä½å…ƒç´ ä¸Šå¥æ•ˆï¼ˆä¾‹å¦‚ position:absolute;ï¼‰ï¼è¯´æ˜ï¼šè¯¥å±æ€§è®¾ç½®ä¸€ä¸ªå®šä½å…ƒç´ æ²¿ z è½´çš„ä½ç½®ï¼Œz è½´å®šä¹‰ä¸ºå‚ç›´å»¶ä¼¸åˆ°æ˜¾ç¤ºåŒºçš„è½´ã€‚å¦‚æœä¸ºæ­£æ•°ï¼Œåˆ™ç¦»ç”¨æˆ·æ›´è¿‘ï¼Œä¸ºè´Ÿæ•°åˆ™è¡¨ç¤ºç¦»ç”¨æˆ·æ›´è¿œ font-weight å­—ä½“çš„ç²—ç»†123font-weight:normal;font-weight:bold;font-weight:900; åˆ‡æ¢å›¾ç‰‡çš„ä¸¤ç§æ–¹å¼å¯é€šè¿‡ if else æ¥è¿›è¡Œè®¾ç½® 12&lt;image wx:if=&quot;&#123;&#123;checked&#125;&#125;&quot; catchtap=&quot;onCheckTap&quot; src=&quot;/images/icon/check.png&quot;/&gt;&lt;image wx:else catchtap=&quot;onCheckTap&quot; src=&quot;/images/icon/un_check.png&quot;/&gt; é€šè¿‡æ•°æ®ç»‘å®šçš„å½¢å¼ 123&lt;image class=&quot;audio&quot; catchtap=&quot;onAudioTap&quot; src=&quot;&#123;&#123;isPlayingMusic ? &apos;/images/music/music-stop.png&apos; : &apos;/images/music/music-start.png&apos;&#125;&#125;&quot;&gt;&lt;/image&gt; åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸ123456789101112131415161718192021222324252627282930313233343536373839ä»¥ä¸‹ä»£ç éœ€è¦åœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„ app.js ä¸­è¿›è¡Œç¼–å†™ï¼Œç›®å‰å°ç¨‹åºåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸæœ‰å››ä¸ªæ–¹æ³•App(&#123; gloableData:&#123; // éŸ³ä¹æ˜¯å¦åœ¨æ’­æ”¾ g_isPlayingMusic: false, // å“ªä¸€ä¸ªéŸ³ä¹åœ¨æ’­æ”¾ g_currentMusicPostId: null &#125;, /** * å½“å°ç¨‹åºåˆå§‹åŒ–å®Œæˆæ—¶ï¼Œä¼šè§¦å‘ onLaunchï¼ˆå…¨å±€åªè§¦å‘ä¸€æ¬¡ï¼‰ */ onLaunch: function () &#123; &#125;, /** * å½“å°ç¨‹åºå¯åŠ¨ï¼Œæˆ–ä»åå°è¿›å…¥å‰å°æ˜¾ç¤ºï¼Œä¼šè§¦å‘ onShow */ onShow: function (options) &#123; &#125;, /** * å½“å°ç¨‹åºä»å‰å°è¿›å…¥åå°ï¼Œä¼šè§¦å‘ onHide */ onHide: function () &#123; &#125;, /** * å½“å°ç¨‹åºå‘ç”Ÿè„šæœ¬é”™è¯¯ï¼Œæˆ–è€… api è°ƒç”¨å¤±è´¥æ—¶ï¼Œä¼šè§¦å‘ onError å¹¶å¸¦ä¸Šé”™è¯¯ä¿¡æ¯ */ onError: function (msg) &#123; &#125;&#125;) å¦‚æœæˆ‘ä»¬çš„æŸä¸ªç•Œé¢éœ€è¦ç”¨åˆ°å°ç¨‹åº app.js ä¸­çš„ç›¸å…³åŠŸèƒ½æˆ–å‡½æ•°ï¼Œåˆ™éœ€åœ¨ç›¸åº”çš„ç•Œé¢ä¸­å£°æ˜ä¸€ä¸ª app å˜é‡ 12// è·å–å°ç¨‹åºå®ä¾‹var app = getApp(); è¿›è€Œå³å¯é€šè¿‡ app å˜é‡ æ¥è°ƒç”¨ app.js ä¸­å¯¹è±¡çš„å±æ€§ 123app.gloableData.g_isPlayingMusic = true;// éŸ³ä¹æ’­æ”¾ï¼Œè®¾ç½®å­˜å‚¨å¯¹åº”æ’­æ”¾çš„ postIdapp.gloableData.g_currentMusicPostId = that.data.currentPostId; tab é€‰é¡¹å¡tabBarå¦‚æœæˆ‘ä»¬çš„å°ç¨‹åºæ˜¯ä¸€ä¸ªå¤š tab åº”ç”¨ï¼ˆå®¢æˆ·ç«¯çª—å£çš„åº•éƒ¨æˆ–é¡¶éƒ¨æœ‰ tab æ å¯ä»¥åˆ‡æ¢é¡µé¢ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡ tabBar é…ç½®é¡¹æŒ‡å®š tab æ çš„è¡¨ç°ï¼Œä»¥åŠ tab åˆ‡æ¢æ—¶æ˜¾ç¤ºçš„å¯¹åº”é¡µé¢ã€‚ 12345678910111213141516171819202122232425åœ¨ app.json æ–‡ä»¶ä¸­è¿›è¡Œé…ç½® tab&#123; &quot;tabBar&quot;: &#123; &quot;borderStyle&quot;: &quot;white&quot;, &quot;position&quot;: &quot;top&quot;, &quot;selectedColor&quot;: &quot;#000000&quot;, &quot;list&quot;: [ &#123; &quot;pagePath&quot;: &quot;pages/post/post&quot;, &quot;text&quot;: &quot;æ–‡ç« &quot;, &quot;iconPath&quot;: &quot;images/tab/yuedu.png&quot;, &quot;selectedIconPath&quot;: &quot;/images/tab/yuedu_hl.png&quot;, &quot;backgroundColor&quot;: &quot;#000000&quot;, &quot;selectedColor&quot;: &quot;#000000&quot; &#125;, &#123; &quot;pagePath&quot;: &quot;pages/movies/movies&quot;, &quot;text&quot;: &quot;ç”µå½±&quot;, &quot;iconPath&quot;: &quot;/images/tab/dianying.png&quot;, &quot;selectedIconPath&quot;: &quot;images/tab/dianying_hl.png&quot;, &quot;backgroundColor&quot;: &quot;#000000&quot; &#125; ] &#125;&#125; tabBar é¡µé¢è·³è½¬æ–¹æ³• wx.switchTab(OBJECT)è·³è½¬åˆ° tabBar é¡µé¢ï¼Œå¹¶å…³é—­å…¶ä»–æ‰€æœ‰é tabBar é¡µé¢ Tipï¼š éœ€è¦é…ç½®åœ¨ list å¤–è¾¹ï¼Œå¦åˆ™æ— æ•ˆ â€œborderStyleâ€: â€œwhiteâ€,â€œpositionâ€: â€œtop/bottomâ€,â€œselectedColorâ€: â€œ#000000â€,å½“è®¾ç½® position ä¸º top æ—¶ï¼Œå°†ä¸ä¼šæ˜¾ç¤º icontabBar æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåªèƒ½é…ç½®æœ€å°‘2ä¸ªã€æœ€å¤š5ä¸ª tabï¼Œtab æŒ‰æ•°ç»„çš„é¡ºåºæ’åº åœ¨å°ç¨‹åºä¸­å¿«é€Ÿåˆ›å»ºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„æ–¹å¼1234567891011/** * åœ¨ app.json æ–‡ä»¶ä¸­ pages é…ç½®é¡¹ä¸‹ç›´æ¥ç¼–å†™æ–‡ä»¶è·¯å¾„ï¼Œç„¶å command + s æˆ– (ctrl + s) * ï¼Œå³å¯åœ¨å·¦ä¾§å·¥ç¨‹ä¸‹ç”Ÿæˆç›¸åº”çš„ç›®å½•å’Œæ–‡ä»¶ï¼›ä½†ç›®å‰æˆ‘ä½¿ç”¨çš„å¼€å‘ç‰ˆæœ¬å·æ˜¯ 0.17.171900 * ï¼Œç³»ç»Ÿå·²ç»æ”¯æŒä¸€æ¬¡æ€§åˆ›å»ºå››ä¸ªæ–‡ä»¶çš„åŠŸèƒ½ï¼Œç›´æ¥åœ¨ä½ æƒ³è¦çš„ç›®å½•ä¸‹æ–°å»ºç›®å½•å³å¯å® */ &quot;pages&quot;: [ &quot;pages/welcome/welcome&quot;, &quot;pages/post/post&quot;, &quot;pages/movies/movies&quot;, &quot;pages/post/post-detail/post-detail&quot;], å°ç¨‹åºè°ƒç”¨æœåŠ¡å™¨æ•°æ®12345678910111213141516171819202122232425262728293031323334353637å®˜æ–¹ç¤ºä¾‹ä»£ç wx.request(&#123; url: &apos;test.php&apos;, //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€ data: &#123; x: &apos;&apos; , y: &apos;&apos; &#125;, header: &#123; &apos;content-type&apos;: &apos;application/json&apos; &#125;, success: function(res) &#123; console.log(res.data) &#125;&#125;)ä¸ªäººå®é™…æ“ä½œæ—¶ä»£ç å¦‚ä¸‹onLoad: function (options) &#123; wx.request(&#123; url: &apos;https://api.douban.com/v2/movie/top250&apos;, data: &#123;&#125;, method: &apos;GET&apos;,// é»˜è®¤ä¸º GETï¼Œæœ‰æ•ˆå€¼ï¼šOPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, CONNECT header: &#123; &apos;content-type&apos;: &apos;application/xml&apos; &#125;, success: function (res) &#123; console.log(res.data) &#125;, fail: function()&#123; console.log(&quot;request fail&quot;) &#125;, complete: function()&#123; &#125; &#125;) &#125; å…¶ä¸­å¡«å†™ header æ—¶ï¼Œé‡åˆ°äº› bugï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸‹ï¼š å› ä¸ºä¸´æ—¶ç”¨çš„è±†ç“£çš„ç”µå½± apiï¼Œåœ¨é…ç½®æ—¶ header ä¸­æŒ‰ç…§å®˜æ–¹ç¤ºä¾‹å¡«å†™å¦‚ä¸‹ 123header: &#123; &apos;content-type&apos;: &apos;application/json&apos;&#125;, è¯·æ±‚è±†ç“£æœåŠ¡å™¨è¿”å›å¦‚ä¸‹ 12345GET https://api.douban.com/v2/movie/top250 400 (Bad Request)Object &#123;msg: &quot;Invalid request&quot;, code: 999, request: &quot;GET /v2/top250&quot;&#125;code:999msg:&quot;Invalid request&quot;request:&quot;GET /v2/top250&quot; åæ¥å°è¯•æŠŠ vaule ä¿®æ”¹ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œæˆ–è€…éšä¾¿çš„å…¶ä»–å­—ç¬¦ï¼Œåæ¥å¤šæ¬¡æµ‹è¯•å‘ç°éšä¾¿æ”¹ä¸ªå€¼å°±å¯ä»¥è¯·æ±‚æˆåŠŸå•¦ã€‚ ä»¥ä¸‹æ˜¯å®˜æ–¹çš„ä¸€äº› Bug &amp; Tipï¼š content-type é»˜è®¤ä¸º â€˜application/jsonâ€™å¼€å‘è€…å·¥å…· 0.10.102800 ç‰ˆæœ¬ï¼Œheader çš„ content-type è®¾ç½®å¼‚å¸¸ï¼›å®¢æˆ·ç«¯çš„ HTTPS TLS ç‰ˆæœ¬ä¸º1.2ï¼Œä½† Android çš„éƒ¨åˆ†æœºå‹è¿˜æœªæ”¯æŒ TLS 1.2ï¼Œæ‰€ä»¥è¯·ç¡®ä¿ HTTPS æœåŠ¡å™¨çš„ TLS ç‰ˆæœ¬æ”¯æŒ1.2åŠä»¥ä¸‹ç‰ˆæœ¬ï¼›è¦æ³¨æ„ method çš„ value å¿…é¡»ä¸ºå¤§å†™ï¼ˆä¾‹å¦‚ï¼šGETï¼‰ï¼›url ä¸­ä¸èƒ½æœ‰ç«¯å£ï¼›request çš„é»˜è®¤è¶…æ—¶æ—¶é—´å’Œæœ€å¤§è¶…æ—¶æ—¶é—´éƒ½æ˜¯ 60sï¼›request çš„æœ€å¤§å¹¶å‘æ•°æ˜¯ 5ï¼›ç½‘ç»œè¯·æ±‚çš„ referer æ˜¯ä¸å¯ä»¥è®¾ç½®çš„ï¼Œæ ¼å¼å›ºå®šä¸º https://servicewechat.com/{appid}/{version}/page-frame.html å…¶ä¸­ {appid} ä¸ºå°ç¨‹åºçš„ appidï¼Œ{version} ä¸ºå°ç¨‹åºçš„ç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬å·ä¸º 0 è¡¨ç¤ºä¸ºå¼€å‘ç‰ˆã€‚","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"wechat","permalink":"https://leaderliang.coding.me/categories/wechat/"}],"tags":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"https://leaderliang.coding.me/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}]},{"title":"Hexo ä½¿ç”¨è¿‡ç¨‹é‡åˆ°çš„ä¸€äº›é—®é¢˜æ”¶é›†","slug":"Hexo ä½¿ç”¨è¿‡ç¨‹é‡åˆ°çš„ä¸€äº›é—®é¢˜æ”¶é›†","date":"2017-06-03T06:44:12.000Z","updated":"2020-06-30T08:22:58.650Z","comments":true,"path":"e180.html","link":"","permalink":"https://leaderliang.coding.me/e180.html","excerpt":"æœ€è¿‘å› ä¸ºå…¬å¸ç»Ÿä¸€ä¸ºæˆ‘ä»¬é…ç½®äº†æ–° Mac ç”µè„‘ï¼Œæƒ³åœ¨æ–°ç”µè„‘ä¸Šä½¿ç”¨è‡ªå·±çš„ Hexo","text":"æœ€è¿‘å› ä¸ºå…¬å¸ç»Ÿä¸€ä¸ºæˆ‘ä»¬é…ç½®äº†æ–° Mac ç”µè„‘ï¼Œæƒ³åœ¨æ–°ç”µè„‘ä¸Šä½¿ç”¨è‡ªå·±çš„ Hexoï¼Œå°±ä»æ—§ç”µè„‘ä¸ŠæŠŠ Hexo æ–‡ä»¶å¤¹å…¨éƒ¨ copy è¿‡æ¥äº†ã€‚ ç„¶ååœ¨æ–°ç”µè„‘ä¸Šæ‰§è¡Œäº† npm install -g hexo-cli å®‰è£…ä¸‹ hexo ç¯å¢ƒï¼Œå®Œæˆä»¥åæƒ³ç€éƒ¨ç½²ä¸‹ Hexoï¼Œå°±æ‰§è¡Œäº† hexo clean clean åæŠ¥äº†ä¸€å¤§ä¸²å¼‚å¸¸ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253Error: Module version mismatch. Expected 48, got 57. at Error (native) at Object.Module._extensions..node (module.js:597:18) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/dtrace-provider/dtrace-provider.js:17:23) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/bunyan/lib/bunyan.js:79:18)&#123; Error: Cannot find module &apos;./build/default/DTraceProviderBindings&apos; at Function.Module._resolveFilename (module.js:469:15) at Function.Module._load (module.js:417:25) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/dtrace-provider/dtrace-provider.js:17:23) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/bunyan/lib/bunyan.js:79:18) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) code: &apos;MODULE_NOT_FOUND&apos; &#125;&#123; Error: Cannot find module &apos;./build/Debug/DTraceProviderBindings&apos; at Function.Module._resolveFilename (module.js:469:15) at Function.Module._load (module.js:417:25) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/dtrace-provider/dtrace-provider.js:17:23) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/bunyan/lib/bunyan.js:79:18) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) code: &apos;MODULE_NOT_FOUND&apos; &#125;INFO Deleted database.INFO Deleted public folder. æ‰§è¡Œ hexo generate #ä½¿ç”¨ Hexo ç”Ÿæˆé™æ€æ–‡ä»¶ åä¹ŸåŒæ ·æŠ¥å‡ºä¸€ä¸²å¼‚å¸¸ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364Error: Module version mismatch. Expected 48, got 57. at Error (native) at Object.Module._extensions..node (module.js:597:18) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/dtrace-provider/dtrace-provider.js:17:23) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/bunyan/lib/bunyan.js:79:18)&#123; Error: Cannot find module &apos;./build/default/DTraceProviderBindings&apos; at Function.Module._resolveFilename (module.js:469:15) at Function.Module._load (module.js:417:25) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/dtrace-provider/dtrace-provider.js:17:23) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/bunyan/lib/bunyan.js:79:18) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) code: &apos;MODULE_NOT_FOUND&apos; &#125;&#123; Error: Cannot find module &apos;./build/Debug/DTraceProviderBindings&apos; at Function.Module._resolveFilename (module.js:469:15) at Function.Module._load (module.js:417:25) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/dtrace-provider/dtrace-provider.js:17:23) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/hexo-cli/node_modules/bunyan/lib/bunyan.js:79:18) at Module._compile (module.js:570:32) at Object.Module._extensions..js (module.js:579:10) at Module.load (module.js:487:32) code: &apos;MODULE_NOT_FOUND&apos; &#125;INFO Deploying: gitINFO Clearing .deploy_git folder...INFO Copying files from public folder...[master 1cf33bb] Site updated: 2017-06-03 02:24:53 13 files changed, 103 insertions(+), 103 deletions(-) rename 2017/03/&#123;13 =&gt; 27&#125;/hello-world/index.html (93%) rewrite content.json (92%)Username for &apos;https://github.com&apos;: leaderliangPassword for &apos;https://leaderliang@github.com&apos;:To https://github.com/leaderliang/leaderliang.github.io.git a268493..1cf33bb HEAD -&gt; masterBranch master set up to track remote branch master from https://github.com/leaderliang/leaderliang.github.io.git.INFO Deploy done: git ç½‘ä¸Šæœäº†å¾ˆå¤šè§£å†³æ–¹æ¡ˆï¼š npm install â€“no-optional rm -rf node_modules &amp;&amp; npm install ç­‰ç­‰ï¼Œéƒ½ä¸å¥½ä½¿ï¼Œåæ¥è¿˜ä»¥ä¸ºæ˜¯ node çš„ç‰ˆæœ¬å’Œä¹‹å‰æ—§ç”µè„‘ä¸Šçš„ç‰ˆæœ¬ä¸ä¸€è‡´å‘¢ï¼ŒæŠ˜è…¾äº†å¥½å‡ ä¸ªç‰ˆæœ¬åï¼Œå‘ç°ä¹Ÿä¸æ˜¯è¿™ä¸ªåŸå› ï¼Œå¯æ‰§è¡ŒæŸ¥çœ‹ node.js ç‰ˆæœ¬å· node â€“version æœ€ååœ¨ github ä¸Šæ‰¾åˆ°ä¸€ä¸ªæ–¹æ¡ˆ npm rebuild ç­‰å¾…æ‰§è¡Œå®Œæˆï¼Œåœ¨æ‰§è¡Œ clean æ“ä½œå°±ä¸æŠ¥å¼‚å¸¸äº† æ€»ç»“ï¼šå› æ¯å°ç”µè„‘çš„é…ç½®ä¸åŒå¯¼è‡´ç”Ÿæˆçš„ node_modules ä»¥åŠä¸€äº›é…ç½®æ–‡ä»¶ä¸åŒé€ æˆçš„ã€‚ Hexo çš„ä¸€äº›åŠŸèƒ½è‰ç¨¿åœ¨æ–°å»ºæ–‡ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆå†™è‰ç¨¿ï¼Œç­‰åˆ°å†™å¥½ä¹‹åï¼Œå†å‘å¸ƒå‡ºå»ã€‚é‚£ä¹ˆï¼Œå°±éœ€è¦è‰ç¨¿çš„åŠŸèƒ½ã€‚ 1hexo new draft &quot;æ–°å»ºè‰ç¨¿md&quot; è¿™æ ·ï¼Œæ–‡ä»¶å°±ä¼šåˆ›å»ºåœ¨ä¼šåœ¨ source/_drafts ç›®å½•ä¸‹ï¼Œå¦‚æœæƒ³åœ¨æœ¬åœ°éƒ¨ç½²é¢„è§ˆè‰ç¨¿ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ 12345INFO Created: ~/MacDev/Hexo/source/_drafts/æ–°å»ºè‰ç¨¿æ–‡ä»¶.md# æ‰§è¡Œhexo s --draftsæˆ–è€…hexo s --draft å½“æ–‡ç« å†™å¥½ä¹‹åï¼Œæƒ³å‘å¸ƒå‡ºå»ï¼Œå°±è¦ç§»å‡ºè‰ç¨¿ 123hexo publish &quot;æ–°å»ºè‰ç¨¿æ–‡ä»¶&quot;orhexo P &lt;filename&gt; åç»­è¡¥å…… hexo åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‡ºç°çš„é”™è¯¯æ€»ç»“fs.SyncWriteStream æŠ¥é”™ ï¼ˆé—®é¢˜å€Ÿé‰´ç›¸å…³å‡ºå¤„ï¼‰1DeprecationWarning: fs.SyncWriteStream is deprecated å®‰è£…çš„nodeç‰ˆæœ¬æ˜¯8.1ï¼Œè€Œnode.jsä»8.0å¼€å§‹å°±å·²ç»å¼ƒç”¨äº†å‰é¢æåˆ°çš„fs.SyncWriteStreamæ–¹æ³•ï¼Œç„¶è€Œä½œè€…é¡¹ç›®é‡Œçš„ä¸€ä¸ªå«hexo-fsçš„æ’ä»¶ï¼Œè°ƒç”¨äº†è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥å°±ä¼šæŠ¥é”™ï¼Œè§£å†³åŠæ³•ï¼Œä½œè€…æ²¡æœ‰æä¾›ï¼Œä½†æ˜¯å¾ˆæ˜¾ç„¶ï¼Œæˆ‘åªéœ€è¦æ›´æ–°ä¸€ä¸‹é‚£ä¸ªæ’ä»¶ï¼Œå°±å¯ä»¥æå®šï¼Œäºæ˜¯æ›´æ–°çš„æ–¹æ³•æ˜¯ï¼Œåœ¨Hexoåšå®¢ç›®å½•ä¸‹ï¼Œè¾“å…¥ï¼š 1npm install hexo-fs --save ç­‰å¾…æ’ä»¶æ›´æ–°å®Œæ¯•â€¦ Hexoå¸è½½æ’ä»¶å‘½ä»¤12npm uninstall æ’ä»¶å --saveä¾‹å¦‚å¸è½½ä¸ƒç‰›äº‘åŒæ­¥æ’ä»¶ npm uninstall hexo-qiniu-sync --save DeprecationWarning: fs.SyncWriteStream is deprecatednodeå’Œhexoæ’ä»¶çš„ç‰ˆæœ¬å¸¦æ¥çš„é—®é¢˜ï¼šåœ¨node8.xçš„ç‰ˆæœ¬ä¸­ï¼Œfs.SyncWriteStreamè¢«å¼ƒç”¨äº† æ›´æ–°å¦‚ä¸‹æ’ä»¶ 1234npm install hexo-fs --savenpm install hexo-deployer-git@0.3.1 --savenpm install hexo-renderer-ejs@0.3.1 --savenpm install hexo-server@0.2.2 --save hexo æ·»åŠ  gitalk é‡åˆ°çš„é—®é¢˜ æœ‰å‡ ä¸ªå‚æ•°éœ€è¦è¯´ä¸€ä¸‹ 1234gitalk_repo: leaderliang.github.io # git repo of the hexo åˆ›å»ºä¸€ä¸ªä¸åº”ç”¨åç§°ä¸€æ ·çš„repoï¼Œç”¨æ¥å­˜æ”¾è¯„è®ºgitalk_owner: leaderliang # git repo&apos;s owner ä½ çš„githubè´¦æˆ·ågitalk_client_id: f00**********3b7ec # github app client idgitalk_client_secret: ff33*******bd0 # github app client secret 1å‘å¸ƒçš„æ–°æ–‡ç« æç¤ºâ€œæœªæ‰¾åˆ°ç›¸å…³çš„ Issues è¿›è¡Œè¯„è®ºï¼Œè¯·è”ç³»xxxåˆå§‹åŒ–åˆ›å»ºâ€ è§£å†³æ–¹æ¡ˆï¼ŒOAuth AppsHomepage URLï¼Œè¿™é‡Œæœ€åçš„/å·è¦åŠ ï¼Œhttpå’Œhttpsæ²¡å…³ç³»ï¼Œéƒ½å¯ä»¥ï¼Œå› ä¸ºæˆ‘æ˜¯httpsæ‰€ä»¥å¡«äº†https.https://leaderliang.github.io/Authorization callback URLï¼Œä¹Ÿæ˜¯æœ€åçš„/å·è¦åŠ ï¼ŒåŒä¸Šhttps://leaderliang.github.io/ hexo ç‰ˆæœ¬å‡çº§å‘½ä»¤123456npm i hexo-cli -gåŒnpm install hexo-cli -gnpm updateè¾“å…¥ä¹‹åå‘ç°å‡ºç°äº†ä¸€ç³»åˆ—çš„ WARN å…·ä½“å¯å‚è€ƒï¼š https://blog.csdn.net/whjkm/article/details/81088518 hexo clean &amp;&amp; hexo g &amp;&amp; hexo d éƒ¨ç½²ä»£ç æç¤º Error: Spawn failedâ€¦æŠ¥é”™è¯¦æƒ…å¦‚ä¸‹ 123456789101112Branch &apos;master&apos; set up to track remote branch &apos;master&apos; from &apos;git@github.com:leaderliang/leaderliang.github.io.git&apos;.On branch masternothing to commit, working tree cleanfatal: Could not read from remote repository.Please make sure you have the correct access rightsand the repository exists.FATAL Something&apos;s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.htmlError: Spawn failed at ChildProcess.&lt;anonymous&gt; (/Users/liangyanqiao/MacDev/Hexo/node_modules/hexo-util/lib/spawn.js:51:21) at ChildProcess.emit (events.js:210:5) at Process.ChildProcess._handle.onexit (internal/child_process.js:272:12) å› ä¸ºåœ¨ config æ–‡ä»¶ä¸­é…ç½®çš„ coding éƒ¨ç½²åœ°å€ï¼Œå®˜ç½‘è°ƒæ•´äº†ï¼Œåœ¨å®˜ç½‘æ‰¾åˆ°å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹å¹¶å¯¹ git è¿œç«¯åœ°å€ä¿®æ”¹ä¸€ä¸‹å³å¯ï¼› 12æ—§çš„ï¼šcoding: git@git.dev.tencent.com:leaderliang/leaderliang.git è°ƒæ•´ä¸ºï¼šcoding: git@e.coding.net:leaderliang/Hexo/Hexo.git Node Sass does not yet support your current environment: Windows 64-bit å¼‚å¸¸å¦‚ä½•è§£å†³ä¸Šé¢çš„å¼‚å¸¸æ˜¯åœ¨æˆ‘æ›´æ–°äº† node ç‰ˆæœ¬åå‡ºç°çš„, è¿™ä¸ªå¼‚å¸¸ç›´æ¥è¯´äº† node sass ä¸æ”¯æŒå½“å‰ç¯å¢ƒï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åˆ æ‰åŸæ¥ä¸æ”¯æŒæœ¬æœºçš„ node sassï¼Œå†é‡æ–°å®‰è£…å°±è¡Œäº†ã€‚ 12345åˆ é™¤ï¼šnpm uninstall --save node-sasså®‰è£…ï¼šnpm install --save node-sass Hexo code hight lightï¼ˆç›®å‰ä½¿ç”¨çš„ä¸æ˜¯è¿™ä¸ªï¼Œç­‰æœ‰æ—¶é—´åŠ ä¸€ä¸‹ï¼‰ä¸é”™çš„ highlight.js æ¨èï¼Œåœ°å€ï¼šhttps://highlightjs.org/usage/å¯¹åº”çš„åšå®¢ç®€å•æ•™ç¨‹ï¼šhttps://zihengcat.github.io/2018/03/05/Hexoåšå®¢æ·»åŠ highlight-jsä»£ç é«˜äº®/ ERROR Plugin load failed: hexo-generator-json-contentæ‰§è¡Œå‘½ä»¤ npm i hexo-generator-json-content -save You must install peer dependencies yourselfç±»ä¼¼ä»¥ä¸‹é—®é¢˜ 123npm WARN babel-eslint@10.0.2 requires a peer of eslint@&gt;= 4.12.1 but none is installed. You must install peer dependencies yourself.npm WARN react-flip-move@2.9.14 requires a peer of react@0.13.x || 0.14.x || 15.x.x but none is installed. You must install peer dependencies yourself.npm WARN react-flip-move@2.9.14 requires a peer of react-dom@0.13.x || 0.14.x || 15.x.x but none is installed. You must install peer dependencies yourself. å‡ºç°è¿™æ ·é—®é¢˜ï¼ŒåŸå› æ˜¯ npm ç‰ˆæœ¬è¾ƒä½ï¼Œæ›´æ–° npm ç‰ˆæœ¬å³å¯ 1npm install -g npm node ç‰ˆæœ¬å‡çº§1npm install -g n å‡çº§node.jsåˆ°æœ€æ–°ç¨³å®šç‰ˆ 1n stable é‡åˆ° ermission denied å°±åœ¨å‘½ä»¤è¡Œå‰åŠ  sudo was compiled against a different Node.js version using é”™è¯¯é—®é¢˜ï¼ˆupdate 2019-11-07 19:24:49ï¼‰ä¸‹é¢æŠŠè¯¦ç»†æŠ¥é”™çš„é—®é¢˜å±•ç¤ºä¸‹ï¼Œå¯ä»¥å¯¹æ¯”ä¸‹ 1234567Error: The module &apos;/usr/local/lib/node_modules/hexo-cli/node_modules/dtrace-provider/build/Release/DTraceProviderBindings.node&apos;was compiled against a different Node.js version usingNODE_MODULE_VERSION 57. This version of Node.js requiresNODE_MODULE_VERSION 72. Please try re-compiling or re-installingthe module (for instance, using `npm rebuild` or `npm install`)....Error: Cannot find module &apos;./build/default/DTraceProviderBindings&apos; å‡ºç°è¿™ç§é—®é¢˜ï¼Œåº”è¯¥æ˜¯æˆ‘åœ¨æ RN çš„æ—¶å€™æŠŠ node ç‰ˆæœ¬å‡çº§åˆ°æœ€é«˜äº†è§£å†³æ–¹æ³•ï¼š 123456789101112# é‡æ–°å®‰è£…hexohexo npm install hexo --no--optional# å¦‚æœæ‰§è¡Œä¸Šé¢å‘½ååï¼Œè¿˜æ˜¯æç¤ºé”™è¯¯ï¼Œåˆ™å…ˆå¸è½½å†å®‰è£…hexo npm uninstall hexo-cli -ghexo npm install hexo-cli -g# å¦‚æœå‘ç°å¸¦ä¸Šå‰ç¼€ä¸å¥½ä½¿çš„è¯ï¼Œå¯ä»¥æŠŠ hexo å»æ‰ï¼Œæ‰§è¡Œ npm çš„å‘½ä»¤npm install hexo --no--optionalnpm uninstall hexo-cli -gnpm install hexo-cli -g# å¯¹å†™è¿‡çš„æ–‡ç« æ˜¯æ²¡æœ‰å½±å“çš„ï¼Œæ”¾å¿ƒæ‰§è¡Œ Hexo æ·»åŠ  PDF åŠŸèƒ½12345678# å®‰è£…npm install --save hexo-pdf# åœ¨æ–‡ç« ä¸­æ·»åŠ # å¤–éƒ¨é“¾æ¥ï¼š&#123;% pdf https://leaderliang.github.io/file.pdf %&#125;# æœ¬åœ°è¿æ¥ï¼š&#123;% pdf ./pdf/kotlin_entry_study_notes.pdf %&#125; npm outdated å“ªäº›éœ€è¦æ›´æ–°å‚è€ƒï¼š https://tommy.net.cn/2018/02/26/upgrade-hexo-to-v3-5-0/ 1234567891011121314151617181920npm outdatedPackage Current Wanted Latest Locationbabel-eslint 10.0.2 10.0.3 10.0.3 hexo-siteeslint 4.12.1 4.19.1 6.6.0 hexo-sitehexo 3.9.0 3.9.0 4.0.0 hexo-sitehexo-deployer-git 1.0.0 1.0.0 2.0.0 hexo-sitehexo-fs 1.0.2 1.0.2 2.0.0 hexo-sitehexo-generator-archive 0.1.5 0.1.5 1.0.0 hexo-sitehexo-generator-category 0.1.3 0.1.3 1.0.0 hexo-sitehexo-generator-index 0.2.1 0.2.1 1.0.0 hexo-sitehexo-generator-tag 0.2.0 0.2.0 1.0.0 hexo-sitehexo-renderer-ejs 0.3.1 0.3.1 1.0.0 hexo-sitehexo-renderer-stylus 0.3.3 0.3.3 1.1.0 hexo-sitehexo-server 0.3.3 0.3.3 1.0.0 hexo-sitehexo-util 1.4.0 1.5.0 1.5.0 hexo-sitehighlight.js 9.15.8 9.16.2 9.16.2 hexo-sitenode-sass 4.12.0 4.13.0 4.13.0 hexo-sitereact 0.14.9 0.14.9 16.11.0 hexo-sitereact-dom 0.14.9 0.14.9 16.11.0 hexo-sitereact-flip-move 2.9.14 2.10.2 3.0.4 hexo-site æŠŠ Hexo çš„ç‰ˆæœ¬å·æ ¹æ®è‡ªå·±éœ€è¦ä¿®æ”¹ï¼Œå…¶ä»–çš„ä¹Ÿæ ¹æ®æƒ…å†µæ›´æ–°ä¸€ä¸‹ã€‚ éƒ½ä¿®æ”¹å¥½äº†ä»¥åï¼Œå°± npm æ›´æ–°ä¸€ä¸‹ï¼š 1npm install --save npm WARN ajv-keywords@2.1.1 requires a peer of ajv@^5.0.0 but none is installed. You must install peer dependencies yourself.1npm install ajv@^5.0.0 --save å¿…é¡»è¦æŒ‡å®šç‰ˆæœ¬æ‰å¯ä»¥ï¼Œè¦ä¸ç„¶è¿˜æ˜¯ä¼šå®‰è£…å¤±è´¥","categories":[{"name":"Hexo","slug":"hexo","permalink":"https://leaderliang.coding.me/categories/hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://leaderliang.coding.me/tags/Hexo/"}]},{"title":"Git çš„åŸºæœ¬ä½¿ç”¨ä»¥åŠåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­çš„é—®é¢˜è§£å†³æ–¹æ¡ˆæ•´ç†","slug":"Git-çš„åŸºæœ¬ä½¿ç”¨ä»¥åŠåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­çš„é—®é¢˜è§£å†³æ–¹æ¡ˆæ•´ç†","date":"2017-04-11T03:37:45.000Z","updated":"2019-03-11T15:48:11.456Z","comments":true,"path":"bc45.html","link":"","permalink":"https://leaderliang.coding.me/bc45.html","excerpt":"æ—¥å¸¸ä½¿ç”¨ Git æ—¶åŸºç¡€å‘½ä»¤å’Œé‡åˆ°å¾ˆå¤šå°é—®é¢˜ï¼Œåœ¨è¿™é‡Œç®€å•è®°å½•ä¸‹â€¦","text":"æ—¥å¸¸ä½¿ç”¨ Git æ—¶åŸºç¡€å‘½ä»¤å’Œé‡åˆ°å¾ˆå¤šå°é—®é¢˜ï¼Œåœ¨è¿™é‡Œç®€å•è®°å½•ä¸‹â€¦ Git åŸºç¡€å‘½ä»¤1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889åˆ›å»ºå®Œ github åï¼Œç½‘ç«™æç¤ºæ“ä½œå‘½ä»¤è¡Œecho &quot;# test&quot; &gt;&gt; README.mdgit initgit add README.mdgit commit -m &quot;first commit&quot;git remote add origin git@github.com:leaderliang/test.gitgit push -u origin mastergit remote add .../.gitgit remote remove &lt;name&gt; å¤šä¸ª è¿œç«¯çš„æ—¶å€™ï¼Œæƒ³è¦åˆ é™¤mkdir â€œæ–‡ä»¶å¤¹åå­—â€ åˆ›å»ºæ–‡ä»¶å¤¹touch a.md åˆ›å»ºæ–‡ä»¶git init åˆå§‹åŒ– git ä»“åº“git status æŸ¥çœ‹ä½ å½“å‰ git ä»“åº“çš„ä¸€äº›çŠ¶æ€git add a.md å»æ“ä½œä½ æƒ³è¦æäº¤çš„æ–‡ä»¶ï¼Œå¯ä»¥ç†è§£æŠŠæƒ³è¦æäº¤çš„æ–‡ä»¶æ·»åŠ åˆ°æäº¤çš„åˆ—è¡¨é‡Œ git commit -m â€œfirst commitâ€ commit æ˜¯æäº¤çš„æ„æ€ï¼Œ- m ä»£è¡¨æ˜¯æäº¤ä¿¡æ¯ï¼Œæ‰§è¡Œäº†ä»¥ä¸Šå‘½ä»¤ä»£è¡¨æˆ‘ä»¬å·²ç»æ­£å¼è¿›è¡Œäº†ç¬¬ä¸€æ¬¡æäº¤git log å¯ä»¥æŸ¥çœ‹æ‰€æœ‰äº§ç”Ÿçš„ commit è®°å½•git branch æŸ¥çœ‹ä¸‹å½“å‰åˆ†æ”¯æƒ…å†µgit branch a åˆ›å»º a åˆ†æ”¯git checkout a åˆ‡æ¢åˆ°åˆ†æ”¯ a ä¸Šé¢git checkout -b a æ–°å»ºä¸€ä¸ªåˆ†æ”¯ aï¼Œå¹¶ä¸”è‡ªåŠ¨åˆ‡æ¢åˆ° a åˆ†æ”¯git merge åˆå¹¶åˆ†æ”¯ ï¼Œå‰ææ˜¯è¦åˆ‡æ¢åˆ°ä¸»å¹²ä¸Šåœ¨æ‰§è¡Œè¿™ä¸ªå‘½ä»¤git branch -d a åˆ é™¤ a åˆ†æ”¯git branch -D æœ‰äº›æ—¶å€™å¯èƒ½ä¼šåˆ é™¤å¤±è´¥ï¼Œæ¯”å¦‚å¦‚æœaåˆ†æ”¯çš„ä»£ç è¿˜æ²¡æœ‰åˆå¹¶åˆ°masterï¼Œä½ æ‰§è¡Œ git branch -d a æ˜¯åˆ é™¤ä¸äº†çš„ï¼Œå®ƒä¼šæ™ºèƒ½çš„æç¤ºä½ aåˆ†æ”¯è¿˜æœ‰æœªåˆå¹¶çš„ä»£ç ï¼Œä½†æ˜¯å¦‚æœä½ éè¦åˆ é™¤ï¼Œé‚£å°±æ‰§ è¡Œ git branch -D a å°±å¯ä»¥å¼ºåˆ¶åˆ é™¤aåˆ†æ”¯git tag v1.0 ç»™ä»£ç åˆ›å»ºæ ‡ç­¾git checkout v1.0 åˆ‡æ¢åˆ° v1.0 tag çš„ä»£ç rm -rf .git åˆ é™¤.gitls -aä¸GitHub ä»£ç çš„ç›¸å…³æ“ä½œå‘½ä»¤é¦–å…ˆéœ€è¦ SSH æˆæƒé»˜è®¤ Mac é»˜è®¤æ˜¯å®‰è£…æœ‰ SSH çš„åœ¨ç»ˆç«¯è¾“å…¥ ssh-keygen -t rsa æŒ‡å®š rsa ç®—æ³•ç”Ÿæˆå¯†é’¥ï¼Œæ¥ç€è¿ç»­ä¸‰ä¸ªå› è½¦é”®ï¼ˆä¸éœ€è¦è¾“å…¥å¯†ç ï¼‰ï¼Œç„¶åå°±ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ id_rsa å’Œ id_rsa.pub ï¼Œè€Œ id_rsa æ˜¯å¯†é’¥ï¼Œ id_rsa.pub å°±æ˜¯å…¬é’¥åœ¨ ç³»ç»Ÿç›®å½• ~/.ssh ä¸‹æ‰¾åˆ° .pub æ–‡ä»¶ï¼Œå°†å†…å®¹å¤åˆ¶åˆ° Github ä¸Šç»ˆç«¯è¾“å…¥ ssh -T git@github.com è¿›è¡Œæµ‹è¯•æ˜¯å¦æˆæƒæˆåŠŸå¦‚æœå½“å‰åˆ†æ”¯ä¸å¤šä¸ªä¸»æœºå­˜åœ¨è¿½è¸ªå…³ç³»ï¼Œåˆ™å¯ä»¥ä½¿ç”¨-ué€‰é¡¹æŒ‡å®šä¸€ä¸ªé»˜è®¤ä¸»æœºï¼Œè¿™æ ·åé¢å°±å¯ä»¥ä¸åŠ ä»»ä½•å‚æ•°ä½¿ç”¨git pushgit push -u origin mastergit push origin master æŠŠæœ¬åœ°ä»£ç æ¨åˆ°è¿œç¨‹ master åˆ†æ”¯git pull origin master æŠŠè¿œç¨‹æœ€æ–°çš„ä»£ç æ›´æ–°åˆ°æœ¬åœ°git æ·»åŠ å¤šä¸ªä»£ç ä»“åº“å‘½ä»¤#æ·»åŠ githubgit remote add origin https://github.com/xxx(ä»“åº“åœ°å€)#æ·»åŠ oschinagit remote add oschina https://git.oschina.net/xxxx(ä»“åº“åœ°å€)#æäº¤åˆ°oschinagit push oschina master(åˆ†æ”¯å)#æäº¤åˆ°githubgit push origin master(åˆ†æ”¯å)#ä»oschinaæ›´æ–°git pull oschina master#ä»githubæ›´æ–°git pull origin masterä¸Šä¼ å‰éœ€è¦å…ˆå…³è”è¿œç¨‹ä»“åº“åœ°å€ï¼šgit remote add origin git@github.com:leaderliang/leaderliangtest.git origin åå­—å¯ä»¥éšä¾¿å–kiipuï¼šgit remote add kiipu git@git.coding.net:mycreat/kiipu-android.git kiipu ç›®å‰çš„å…³è”æ–¹å¼git push -u kiipu master#æŸ¥çœ‹æˆ‘ä»¬å½“å‰é¡¹ç›®æœ‰å“ªäº›è¿œç¨‹ä»“åº“åç§°æˆ–è€…åˆ—è¡¨git remote -v #è®¾ç½®è‡ªå·±çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼ˆä¹ŸåŒ…æ‹¬ ä¸ªäººå’Œä¼ä¸šæ­å»ºçš„ Git æœåŠ¡å™¨åå­—é…ç½®ï¼‰#æŸ¥çœ‹å½“å‰ git ä¸‹é…ç½®å±æ€§git config --list git config --global user.name &quot;liang&quot;git config --global user.email &quot;liang@100tal.com&quot;â€”-gloabl æ˜¯é…ç½®ç³»ç»Ÿå…¨å±€çš„ï¼Œå»æ‰ â€”-gloabl å°±å¯ä»¥é…ç½®æˆ‘ä»¬å½“å‰ git ç›®å½•ä¸‹ Git æŠ¥é”™ç›¸å…³Git push å‡ºç° â€œfatal: The remote end hung up unexpectedlyâ€ è§£å†³æ–¹æ¡ˆåœ¨ä½¿ç”¨ git push é¡¹ç›®å‡ºç° â€œfatal: The remote end hung up unexpectedly â€œ åŸå› æ˜¯ push çš„æ–‡ä»¶è¿‡å¤§ è§£å†³æ–¹æ¡ˆï¼šåœ¨å…‹éš†/åˆ›å»ºç‰ˆæœ¬åº“ç”Ÿæˆçš„ .git ç›®å½•ä¸‹é¢ä¿®æ”¹ç”Ÿæˆçš„ config æ–‡ä»¶ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 123git config --global http.postBuffer 524288000æˆ–ä»…è®¾ç½®å½“å‰ç›®å½•ä¸‹git config http.postBuffer 524288000 å¤§å°è‡ªå·±è‡ªå®šä¹‰ï¼Œç›®å‰ä¸º 500Mï¼Œæœ€å¤§æ”¯æŒå¯ä»¥è‡ªå·±å°è¯•ä¸‹ã€‚","categories":[{"name":"Git","slug":"git","permalink":"https://leaderliang.coding.me/categories/git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://leaderliang.coding.me/tags/Git/"}]},{"title":"Hello World","slug":"hello-world","date":"2017-03-27T02:36:34.000Z","updated":"2019-03-11T15:47:58.985Z","comments":true,"path":"3eeb.html","link":"","permalink":"https://leaderliang.coding.me/3eeb.html","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"Hexo","slug":"hexo","permalink":"https://leaderliang.coding.me/categories/hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://leaderliang.coding.me/tags/Hexo/"}]},{"title":"Android Coding Style","slug":"android-coding-style","date":"2017-03-24T07:58:23.000Z","updated":"2019-03-11T15:48:56.807Z","comments":true,"path":"46bc.html","link":"","permalink":"https://leaderliang.coding.me/46bc.html","excerpt":"ä¸é”™çš„ Android Coding Styleï¼Œæ¨èå¤§å®¶åœ¨å­¦ä¹ å’Œå¼€å‘è¿‡ç¨‹ä¸­å¯ä»¥ä½¿ç”¨","text":"ä¸é”™çš„ Android Coding Styleï¼Œæ¨èå¤§å®¶åœ¨å­¦ä¹ å’Œå¼€å‘è¿‡ç¨‹ä¸­å¯ä»¥ä½¿ç”¨ è½¬è‡ª https://github.com/LoranWong/Android-Code-Style Table of Contents 1 Project structure å·¥ç¨‹ç»“æ„ 1.1 Notice è¯´æ˜ 1.2 Resources directory structure èµ„æºæ–‡ä»¶å¤¹ç»“æ„ 2 Package Manner åŒ…ç®¡ç†è§„èŒƒ 2.1 General é€šç”¨ 2.2 App åŒ…ç»“æ„ 3 File Naming æ–‡ä»¶å‘½å 3.1 Class files ç±»æ–‡ä»¶å‘½å 3.2 Resources files èµ„æºæ–‡ä»¶ 3.3 Drawable files 3.4 Layout files å¸ƒå±€æ–‡ä»¶ 4 Inside Code Naming ä»£ç å†…éƒ¨å‘½å 4.1 Class Variable Naming ç±»å˜é‡å‘½å 4.2 Class Method Naming ç±»æ–¹æ³•å‘½å 4.3 layout.xml å¸ƒå±€æ–‡ä»¶å˜é‡å‘½å 4.4 strings.xml dimens.xml colors.xml xmlå˜é‡å‘½å 4.5 é¢å¤–æ³¨æ„ 5 Code Manner ä»£ç è§„èŒƒ 6 Constant å†…éƒ¨ç±»è§£æ 7 Git æäº¤è§„èŒƒ 1 Project structure å·¥ç¨‹ç»“æ„1.1 Notice è¯´æ˜New projects should follow the Android Gradle project structure that is defined on the Android Gradle plugin user guide. The BoilerPlate project is a good reference. æ–°å»ºå·¥ç¨‹éœ€è¦æŒ‰ç…§æœ€æ–°çš„Android Gradleçš„å·¥ç¨‹ç»“æ„,åœ¨ä»¥ä¸‹å®šä¹‰ï¼šAndroid Gradle plugin user guide. è¯¥å·¥ç¨‹ï¼š BoilerPlate æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å‚è€ƒææ–™ 1.2 Resources directory structure èµ„æºæ–‡ä»¶å¤¹ç»“æ„123456res anim drawable (xml or selector) mipmap (pixel image) layout values 2 Package Manner åŒ…ç®¡ç†è§„èŒƒ2.1 General é€šç”¨1package name ï¼š com.chuxin.[project name] 2.2 App åŒ…ç»“æ„12345678910111213141516171819* app * (class) Constant [åç»­æœ‰æ–‡ä»¶è¯´æ˜] * (class) Application* ui * fragment * activity * base * dialog * adapter * custom* service * (which servie) ...* entity * local * remote* manager * (which manager) ...* util * (which util)... 3 File Naming æ–‡ä»¶å‘½å3.1 Class files ç±»æ–‡ä»¶å‘½åClass names are written in UpperCamelCase. For classes that extend an Android component, the name of the class should end with the name of the component; for example: SignInActivity, SignInFragment, ImageUploaderService, ChangePasswordDialog. For utilties class , the name of the class should start with its usage , and ends with Utils; for example: HttpUtils , ImageUtils ç±»å‘½åæ–¹å¼é‡‡ç”¨ å¤§é©¼å³° å‘½åæ³• å¯¹äºç»§æ‰¿è‡ªå®‰å“ç»„ä»¶çš„ç±»æ¥è¯´ï¼Œç±»ååº”è¯¥ä»¥è¯¥ç»„ä»¶åç»“å°¾ï¼Œä¾‹å¦‚ ï¼š SignInActivity, SignInFragment, ImageUploaderService, ChangePasswordDialog. å¯¹äºå·¥å…·ç±»æ¥è¯´ï¼Œå‘½åæ–¹å¼åº”è¯¥ä»¥å…¶å®ŒæˆåŠŸèƒ½å¼€å§‹,ä»¥ Utils ç»“æŸ ï¼Œä¾‹å¦‚ ï¼šHttpUtils , ImageUtils. 3.2 Resources files èµ„æºæ–‡ä»¶Resources file names are written in lowercase_underscore. èµ„æºæ–‡ä»¶ä»¥å°å†™åŠ ä¸‹åˆ’çº¿çš„æ–¹å¼å‘½å 3.3 Drawable filesNaming conventions for drawables: drawable æ–‡ä»¶çš„å‘½åè§„èŒƒ Asset Type Prefix å‰ç¼€ Example Action bar ab_ ab_stacked.9.png Button btn_ btn_send_pressed.9.png Dialog dialog_ dialog_top.9.png Divider divider_ divider_horizontal.9.png Icon ic_ ic_star.png Menu menu_ menu_submenu_bg.9.png Notification notification_ notification_bg.9.png Tabs tab_ tab_pressed.9.png Naming conventions for icons: iconsæ–‡ä»¶çš„å‘½åè§„èŒƒ Asset Type Prefix å‰ç¼€ Example Icons ic_ ic_star.png Launcher icons ic_launcher ic_launcher_calendar.png Menu icons and Action Bar icons ic_menu ic_menu_archive.png Status bar icons ic_stat_notify ic_stat_notify_msg.png Tab icons ic_tab ic_tab_recent.png Dialog icons ic_dialog ic_dialog_info.png Naming conventions for selector states: é€‰æ‹©å™¨çŠ¶æ€æ–‡ä»¶çš„å‘½åè§„èŒƒ State Suffix å°¾ç¼€ Example Normal _normal btn_order_normal.9.png Pressed _pressed btn_order_pressed.9.png Focused _focused btn_order_focused.9.png Disabled _disabled btn_order_disabled.9.png Selected _selected btn_order_selected.9.png 3.4 Layout files å¸ƒå±€æ–‡ä»¶Layout files should match the name of the Android components that they are intended for but moving the top level component name to the beginning. For example, if we are creating a layout for the SignInActivity, the name of the layout file should be activity_sign_in.xml. å¸ƒå±€æ–‡ä»¶çš„å‘½åéœ€è¦ä¸ä»–æ‰€åµŒå…¥çš„å®‰å“ç»„ä»¶åŒ¹é…ï¼Œä½†æ˜¯å°†ç»„ä»¶åç§°å‰ç§»åˆ°å¼€å§‹å¤„,ä¾‹å¦‚,æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªåå­—ä¸º SignInActivity, å…¶åå­—åº”è¯¥ä¸º activity_sign_in.xml. Component ç»„ä»¶ Class Name Layout Name Activity UserProfileActivity activity_user_profile.xml Fragment SignUpFragment fragment_sign_up.xml Dialog ChangePasswordDialog dialog_change_password.xml AdapterView Item â€” item_person.xml 4 Inside Code Naming ä»£ç å†…éƒ¨å‘½å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081Important ï¼š è¯·ä¸è¦ä½¿ç”¨æ‹¼éŸ³ä»¥åŠæ•°å­—ï¼ï¼ï¼====== å¸¸ç”¨ç¼©å†™ ======å®Œæ•´å•è¯ ç¼©å†™Aaverage â€”â€”&gt; avgBback â€”â€”&gt; bkbackground â€”â€”&gt; bgbreak â€”â€”&gt; brkbuffer â€”â€”&gt; bufCcolor â€”â€”&gt; cr(clr)control â€”â€”&gt; ctrlDdata â€”â€”&gt; datdelete â€”â€”&gt; deldocument â€”â€”&gt; docEedit â€”â€”&gt; edterror â€”â€”&gt; errescape â€”â€”&gt; escFflag â€”â€”&gt; flgform â€”â€”&gt; frmGgrid â€”â€”&gt; grdIincrement â€”â€”&gt; incinformation â€”â€”&gt; infoinitial â€”â€”&gt; initinsert â€”â€”&gt; insimage â€”â€”&gt; imgLlabel â€”â€”&gt; lablength â€”â€”&gt; lenlist â€”â€”&gt; lstlibrary â€”â€”&gt; libMmanager â€”â€”&gt; mngr(mgr)message â€”â€”&gt; msgOOracle â€”â€”&gt; OraPpanorama â€”â€”&gt; panopassword â€”â€”&gt; pwdpicture â€”â€”&gt; picpoint â€”â€”&gt; ptposition â€”â€”&gt; posprint â€”â€”&gt; prnprogram â€”â€”&gt; prgSserver â€”â€”&gt; srvsource â€”â€”&gt; srcstatistic â€”â€”&gt; statstring â€”â€”&gt; strSybase â€”â€”&gt; SybTtemp â€”â€”&gt; tmptext â€”â€”&gt; txtUuser â€”â€”&gt; usrWwindow â€”â€”&gt; wnd(win) 4.1 Class Variable Naming ç±»å˜é‡å‘½å å…¬æœ‰å˜é‡æŒ‰ å°é©¼å³° æ³•å‘½å ç§æœ‰ &amp; éé™æ€æˆå‘˜å˜é‡ä»¥ m å¼€å¤´ ç§æœ‰ &amp; é™æ€æˆå‘˜å˜é‡ä»¥ s å¼€å¤´ å¸¸é‡ä»¥å¤§å†™å­—æ¯å’Œä¸‹åˆ’çº¿ _ ç»„æˆ å°½é‡ä½¿ç”¨ åŠŸèƒ½/æè¿° + ç±»å‹ çš„æ¨¡å¼ ,å¦‚ mNameTextView ç±»ä¸­å˜é‡çš„ç»„ä»¶ç±»å‹è¯·ä¸è¦ä½¿ç”¨ç¼©å†™ æ³¨æ„ä¸è¦ä½¿ç”¨ aa bb cc3 è¿™ç§å˜æ€çš„å‘½åæ–¹å¼ ï¼ï¼ ç±»å˜é‡è¿‡å¤šæ—¶è¯· åˆ†å—æ‘†æ”¾ å¹¶ä¸” å†™å¥½æ³¨é‡Š æ¥å£ç±» è¯·ç›´æ¥å®šä¹‰åœ¨ç±»çš„æœ€å Example: 1234567891011121314public class MyClass &#123; //é™æ€å¸¸é‡ public static final int SOME_CONSTANT = 42; //å…¬æœ‰å˜é‡ public int publicField; //ç§æœ‰é™æ€å˜é‡ private static MyClass sSingleton; //é»˜è®¤å˜é‡ int mPackagePrivate; //ç§æœ‰å˜é‡ private int mPrivate; //ç»§æ‰¿å‹å˜é‡ protected int mProtected;&#125; 4.2 Class Method Naming ç±»æ–¹æ³•å‘½å ç±»æ–¹æ³•é‡‡ç”¨ å°é©¼å³° å‘½åæ³• æ ¹æ®å‡½æ•°æ‰€å®ŒæˆåŠŸèƒ½å‘½å ï¼Œ å¦‚ changView() åœ¨å‡½æ•°å¤´å†™å¯¹äºå‡½æ•°åŠŸèƒ½ã€å‚æ•°å’Œè¿”å›å€¼çš„æ³¨é‡Šï¼Œå¦‚ï¼š 12345678910/** * è·å–ä¸¤ä¸ªæ•°ä¸­æœ€å¤§çš„ä¸€ä¸ª * * @param value1 å‚ä¸æ¯”è¾ƒçš„ç¬¬ä¸€ä¸ªæ•° * @param value2 å‚ä¸æ¯”è¾ƒçš„ç¬¬äºŒä¸ªæ•° * @return ä¸¤ä¸ªå‚æ•°ä¸­æœ€å¤§çš„ä¸€ä¸ªæ•° */public int max(int value1, int value2) &#123; return (value1 &gt; value2) ? value1 : value2;&#125; ä¸€ä¸ªå‡½æ•°è¯·å°½é‡ä¿æŒåœ¨ 50è¡Œ ä¹‹å†… ï¼ï¼ 4.3 layout.xml å¸ƒå±€æ–‡ä»¶å˜é‡å‘½å id ä»¥ æ‰€åœ¨ç»„ä»¶_ç±»å‹_å‘½å çš„æ¨¡å¼ï¼Œä¾‹å¦‚ï¼š @+id/main_tv_name ã€ @id/chat_btn_send å¸ƒå±€å¤šå¤„é‡ç”¨çš„è¯·ä½¿ç”¨ &lt;include&gt; æ ‡ç­¾ æ‰€æœ‰æ–‡æœ¬è¯·å®šä¹‰åœ¨ strings.xml ä¸­ , å¦‚ @string/app_name é‡ç”¨dpè¯·å®šä¹‰åœ¨ dimens.xml ä¸­ , å¦‚ @dimen/entry_item_height å¯¹åº”ç»„ä»¶ç¼©å†™è¡¨ï¼š Component ç»„ä»¶ Abbreviation ç¼©å†™ Fragment fgm TextView tv ImageView iv Button btn EditText et LinearLayout ll ReleativeLayout rl normally : FirstSecond fs 4.4 strings.xml dimens.xml colors.xml xmlå˜é‡å‘½å éµå¾ª å®Œæ•´æ€§ è§„èŒƒæ€§ æœ‰åºæ€§åŸåˆ™ åˆ†å—å¹¶æ³¨é‡Š, å°† ä½¿ç”¨åœ¨ä¸åŒçš„ Activity æˆ–è€… Fragment ä¸­çš„ xml å˜é‡ è¿›è¡Œåˆ†å— å‘½åä¸¾ä¾‹ ï¼šlogin_error_tips in strings.xmllogin_error_tips_height in dimens.xmllogin_error_tips_bg in colors.xml Prefix å‰ç¼€ Description æè¿° error_ An error message msg_ A regular information message title_ A title, i.e. a dialog title action_ An action such as â€œSaveâ€ or â€œCreateâ€ 4.5 é¢å¤–æ³¨æ„ Good Bad XmlHttpRequest XMLHTTPRequest getCustomerId getCustomerID String url String URL long id long ID 5 Code Manner ä»£ç è§„èŒƒThis is good 123if (condition)&#123; body();&#125; This is bad: 1if (condition) body(); // bad! This is good: 1234&lt;TextView android:id=\"@+id/text_view_profile\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" /&gt; This is bad : 123456&lt;!-- Don't do this! --&gt;&lt;TextView android:id=\"@+id/text_view_profile\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" &gt;&lt;/TextView&gt; 6 Constant å†…éƒ¨ç±»è§£æConstant * `CODE` --&gt; `request_code`ï¼Œ`app_key` ç­‰ * `CONFIG` --&gt; é¡¹ç›®çš„é…ç½®å˜é‡, åå‘äºè°ƒè¯•å¼€å‘ä½¿ç”¨ï¼Œå¦‚ï¼š`IS_DEBUG`, `SHOW_LOG` * `URL` --&gt; ç½‘ç»œåœ°å€ç›¸å…³ * `COUNT` --&gt; æŸäº›çº¦å®šçš„æ•°å­—ï¼Œå¦‚ä¸€æ¬¡åˆ·æ–°æ˜¾ç¤ºçš„æ¡ç›®æ•°é‡ã€‚__ä¸€å®šè¦æœ‰æ³¨é‡Š__ * `PATH` --&gt; è·¯å¾„ä¿¡æ¯ï¼ŒSDå¡è·¯å¾„ç­‰ * `KEY` --&gt; é”®å€¼å¯¹çš„é”®çš„ä¿¡æ¯,å¦‚ `Bundle` ä¸­çš„é”®7 Git æäº¤è§„èŒƒåŸºæœ¬è¦æ±‚ åˆ†æ®µ ä¾‹å­ï¼š 1234567(Git test) Modify CircleImageView to show rounded rectanglehttps://trello.com/c/M7u5h0QAThe original function can be used normally,To show rounded rectangle, you need add param &quot;bao:round&quot; to XML file,it&apos;s value is the rounded rectangle&apos;s corner radius. ç¬¬ä¸€è¡Œ: ä½œä¸ºæ ‡é¢˜ï¼Œè¿™åœ¨ Git ä¸­å°±ä¼šåšä¸ºé»˜è®¤æ˜¾ç¤ºçš„éƒ¨åˆ†ï¼Œå¦‚å›¾ä¸­æ·±é»‘è‰²å­—ï¼š ç¬¬äºŒè¡Œ: ç•™ç©ºï¼å› ä¸ºé€šå¸¸åœ¨è®¾ç½®äº†é‚®ä»¶æé†’çš„ Git ç³»ç»Ÿä¸­ï¼Œç¬¬äºŒè¡Œçš„ç©ºè¡Œæ˜¯ä½œä¸ºåˆ†éš”æ ‡é¢˜å’Œæ­£æ–‡çš„å­˜åœ¨ã€‚ ç¬¬ä¸‰è¡Œ: å¼€å§‹å°±æ˜¯è¯¦ç»†è¯´æ˜äº†ã€‚å¯ä»¥åŠ ä¸Šå¯¹æ­¤æ¬¡ä¿®æ”¹çš„é—®é¢˜çš„é“¾æ¥ï¼Œæˆ–è€…æè¿°ã€‚å¦‚æœæœ‰ç”¨åˆ° issue çš„è¯å¯ä»¥å†™ä¸Š issue #[issue id]ï¼Œæˆ–è€…é™„ä¸Š trello çš„é“¾æ¥ã€‚ å»ºè®®å…¨éƒ¨ç”¨è‹±æ–‡å†™ï¼Œå…¶ä»–å­—ç¬¦æœ‰ä¹±ç çš„å¯èƒ½ã€‚ å¹¶ä¸ä¼šä¹±ç  ç²’åº¦ è¯´çš„æ˜¯åšçš„ä¿®æ”¹çš„ç²’åº¦ã€‚å¦‚æœä½ ä¸€å¤©åšäº†å¾ˆå¤šçš„ä¿®æ”¹ï¼Œä½†æ˜¯å°±åªæäº¤äº†ä¸€æ¬¡ï¼Œé‚£ä¹ˆä½ çš„ç²’åº¦å°±æœ‰ç‚¹å¤§äº†ã€‚ è¿™æ ·åœ¨ä½ æè¿°ä½ çš„è¡Œä¸ºçš„æ—¶å€™å°±ä¼šæ˜¾å¾—æ¨¡ç³Šï¼Œå¦‚æœä½ è¯¦ç»†æè¿°çš„è¯ï¼Œæäº¤ä¿¡æ¯ä¼šå˜å¾—é•¿ç¯‡å¤§è®ºã€‚ ä½†ä¹Ÿä¸è¦åšä¸€ç‚¹æäº¤ä¸€ç‚¹ï¼Œè¿™æ ·ç²’åº¦å°±ä¼šå˜å¾—å¤ªå°ï¼Œä¼šå¯¼è‡´ä¸€å¤©åˆ°æ™šåœ¨å†™æäº¤ä¿¡æ¯ï¼Œæ²¡æœ‰å¿…è¦ã€‚ åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¸ªäº‹æƒ…çœŸçš„åªèƒ½å‡­æ„Ÿè§‰æäº¤ï¼Œç”¨ç»éªŒæ¥åšåˆ¤æ–­ã€‚å› ä¸ºä¸€ä¸ªBUGå¯èƒ½å¯å¤§å¯å°ï¼Œå¤§çš„è¯ï¼Œä½ å°±å¾—åˆ†å‰²ä¿®å¤ã€‚ å¦‚æœå°ï¼Œé‚£ä¹ˆå°±ä¸€æ¬¡æäº¤ä¿®å¤å°±å¯ã€‚ ç²’åº¦çš„æŒæ¡ç»å¯¹ä¼šå½±å“ä½ çš„æäº¤ä¿¡æ¯ï¼Œå› ä¸ºäºŒè€…æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ å®½åº¦ æ˜¯çš„ï¼Œæ˜¯å®½åº¦ï¼Œä¸æ˜¯é•¿åº¦ã€‚ å’Œä»£ç ä¸€æ ·ï¼Œå¦‚æœä½ å¹³æ—¶æ³¨æ„çš„è¯ï¼Œå°±ä¸è¦è®©ä½ çš„ä»£ç åœ¨ä¸€è¡Œä¸Šè¶…è¿‡80ï¼Œä¸ç„¶è°è¯»ä»£ç éƒ½ä¸å¥½å—ï¼ŒåŒ…æ‹¬ä½ è‡ªå·±ã€‚ æ‰€ä»¥æäº¤ä¿¡æ¯çš„å®½åº¦ä¹Ÿæœ‰é™åˆ¶ã€‚ åˆ†åˆ«æ˜¯æ ‡é¢˜ä¸è¦è¶…è¿‡50ï¼Œå†…å®¹éƒ¨åˆ†ä¸è¦è¶…è¿‡70ã€‚ å¤§æ¦‚å¤§å®¶éƒ½ä¼šçš„æ²¡ä»€ä¹ˆç”¨çš„å°Tipsï¼š ä½¿ç”¨ git commit å‘½ä»¤å¹¶è¿›å…¥ Vim ç¼–è¾‘æäº¤ä¿¡æ¯ï¼Œå†™å®ŒåæŒ‰ Esc ç¡®ä¿ä¸åœ¨ç¼–è¾‘çŠ¶æ€ï¼Œç„¶åè¾“å…¥ :wq å›è½¦é€€å‡ºå¹¶æäº¤ã€‚ ç›´æ¥ä½¿ç”¨ Android Studio è‡ªå¸¦çš„ VCS ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚ å‚è€ƒèµ„æ–™ï¼š Git - å¦‚ä½•å†™å¥½ä½ çš„æäº¤ä¿¡æ¯ï¼Ÿ å†™å‡ºå¥½çš„ commit message","categories":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/categories/android/"}],"tags":[{"name":"Android","slug":"android","permalink":"https://leaderliang.coding.me/tags/android/"}]},{"title":"Hexo Material ä¸»é¢˜è®¾ç½®","slug":"Hexo-Material-ä¸»é¢˜è®¾ç½®","date":"2017-03-20T10:13:42.000Z","updated":"2019-03-11T15:47:50.528Z","comments":true,"path":"96e6.html","link":"","permalink":"https://leaderliang.coding.me/96e6.html","excerpt":"","text":"Materialæœ€è¿‘æ­å»ºäº†ç”¨ Hexo æ­å»ºäº†åšå®¢ï¼Œä½¿ç”¨çš„ Material ä¸»é¢˜ï¼Œæ•ˆæœè¿˜æ˜¯æŒºä¸é”™çš„ï¼Œæ­å»ºçš„è¿‡ç¨‹ä¸­é‡åˆ°ä¸å°‘é—®é¢˜ï¼Œä¸€å¼€å§‹æ­å»º åšå®¢çš„æ“ä½œï¼Œå¤§å®¶å‚è€ƒ Hexo å®˜ç½‘çš„æ–‡æ¡£åŸºæœ¬å°±å¯æå®šï¼Œåœ¨è¿™é‡Œä¸»è¦è®°å½•æ·»åŠ å¤šè¯´è¯„è®ºä»¥åŠå…¶ä»– Hexo ä¸»é¢˜æ ·å¼ä¸Šé‡åˆ°çš„é—®é¢˜ã€‚ å¤šè¯´è¯„è®ºä¸º landsape æ·»åŠ è¯„è®ºæœ€åˆæ­å»ºå¥½åšå®¢çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯ç³»ç»Ÿé»˜è®¤ä¸»é¢˜ landsape ,æ·»åŠ å¤šè¯´æ­¥éª¤æ¯”è¾ƒç®€å•ï¼Œå¦‚ä¸‹ï¼š åˆ›å»ºå¤šè¯´ç«™ç‚¹åï¼Œåœ¨ Hexo æ ¹ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶é‡Œæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š 1duoshuo_shortname: ä½ ç«™ç‚¹çš„ short_name åœ¨ themes\\landscape\\layout_partial\\article.ejs é‡ŒæŠŠ 1234567&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;&lt;section id=&quot;comments&quot;&gt;&lt;div id=&quot;disqus_thread&quot;&gt; &lt;noscript&gt;Please enable JavaScript to view the &lt;a href=&quot;//disqus.com/?ref_noscript&quot;&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/section&gt;&lt;% &#125; %&gt; ä¿®æ”¹ä¸º 1234567891011121314151617181920&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt; &lt;section id=&quot;comments&quot;&gt; &lt;!-- å¤šè¯´è¯„è®ºæ¡† start --&gt; &lt;div class=&quot;ds-thread&quot; data-thread-key=&quot;&lt;%= post.layout %&gt;-&lt;%= post.slug %&gt;&quot; data-title=&quot;&lt;%= post.title %&gt;&quot; data-url=&quot;&lt;%= page.permalink %&gt;&quot;&gt;&lt;/div&gt; &lt;!-- å¤šè¯´è¯„è®ºæ¡† end --&gt; &lt;!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) --&gt; &lt;script type=&quot;text/javascript&quot;&gt; var duoshuoQuery = &#123;short_name:&apos;&lt;%= config.disqus_shortname %&gt;&apos;&#125;; (function() &#123; var ds = document.createElement(&apos;script&apos;); ds.type = &apos;text/javascript&apos;;ds.async = true; ds.src = (document.location.protocol == &apos;https:&apos; ? &apos;https:&apos; : &apos;http:&apos;) + &apos;//static.duoshuo.com/embed.js&apos;; ds.charset = &apos;UTF-8&apos;; (document.getElementsByTagName(&apos;head&apos;)[0] || document.getElementsByTagName(&apos;body&apos;)[0]).appendChild(ds); &#125;)(); &lt;/script&gt; &lt;!-- å¤šè¯´å…¬å…±JSä»£ç  end --&gt; &lt;/section&gt;&lt;% &#125; %&gt; PS: é…ç½®æ–‡ä»¶ä¸­ duoshuo_shortname ä¸­çš„ shortname æ˜¯ä½ åˆ›å»ºç«™ç‚¹åçš„åŸŸåçš„åå­—ï¼Œeg: liang.duoshuo.com,åˆ™ shortname å°±æ˜¯ liangã€‚ æ‰§è¡Œ hexo s åœ¨æœ¬åœ°å³å¯æŸ¥çœ‹ä¿®æ”¹æ•ˆæœ; ä¸º Material ä¸»é¢˜æ·»åŠ è¯„è®ºç°åœ¨ Hexo ç”¨çš„æ˜¯ Material ä¸»é¢˜ï¼Œä¸»è¦é…ç½®æœ‰ä»¥ä¸‹ä¸¤ä¸ªåœ°æ–¹ï¼š åœ¨ç›®å½• Material ä¸‹ _config.yml ä¸­æŒ‰å¦‚ä¸‹è¿›è¡Œä¿®æ”¹ 12345comment: use: duoshuo shortname: liang duoshuo_thread_key_type: 7e70fd*********e7b6c6351 (ä¸ªäººåŸºæœ¬--&gt;åŸºæœ¬è®¾ç½®--&gt;å¯†é’¥) duoshuo_embed_js_url: &quot;https://static.duoshuo.com/embed.js&quot; å½“é…ç½®äº†è¿™äº›åï¼Œè¿è¡Œæœ¬åœ°æŸ¥çœ‹å¤šè¯´è¿˜æ˜¯æ²¡æœ‰æ·»åŠ ä¸Šæˆ–è€…æŠ¥å…³äºå¤šè¯´çš„æœªå®šä¹‰ duoshuoQuery è¿™æ ·çš„é”™è¯¯æ—¶ï¼Œæ‰“å¼€ layout/_partial/footer-option.ejs,æŠŠ19è¡Œ 123var duoshuoQuery = &#123; short_name: &apos;&lt;%= theme.comment.shortname %&gt;&apos; &#125;; ä¿®æ”¹ä¸º 123window.duoshuoQuery = &#123; short_name: &apos;&lt;%= theme.comment.shortname %&gt;&apos; &#125;; å°±å¯ä»¥äº†ã€‚ ä»£ç é«˜äº®ä¸º Material ä¸»é¢˜è®¾ç½®ä»£ç é«˜äº®ç›®å‰ä½¿ç”¨çš„æ˜¯ highlight.js å…·ä½“å¯ç‚¹å¼€æŸ¥çœ‹å¤šç§ä½¿ç”¨æ–¹æ³•ä»‹ç»ï¼Œæˆ–å»ç®€å•è¯´ä¸‹æˆ‘ç›®å‰é…ç½®çš„æ–¹æ³•ï¼Œå¤§å®¶å¯ä½œä¸ºå‚è€ƒã€‚ æ‰¾åˆ° hexo ä¸‹ Material ä¸»é¢˜çš„ç½‘ç«™ HTML å…¥å£ï¼Œåœ¨ head æ ‡ç­¾é‡Œé…ç½®ä½ æ‰€è¦è®¾ç½®çš„æ ·å¼æ–‡ä»¶çš„å¼•ç”¨ eg: 1&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/highlight/solarized-white.css&quot; type=&quot;text/css&quot;&gt; åœ¨ body æ ‡ç­¾é‡Œ é…ç½® js æ–‡ä»¶ 12345678910&lt;!-- Code hight light--&gt;&lt;script src=&quot;/js/highlight.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt; hljs.initHighlightingOnLoad(); $(document).ready(function() &#123; $(&apos;.code&apos;).each(function(i, block) &#123; hljs.highlightBlock(block); &#125;); &#125;);&lt;/script&gt; é…ç½®å®Œæˆå³å¯ä½¿ç”¨ï¼Œæƒ³å°è¯•å…¶ä»–æ–¹å¼çš„å¯æŸ¥çœ‹ github ä¸Šæä¾›çš„å…¶ä»–æ–¹å¼ï¼Œcss æ ·æˆ– js æ–‡ä»¶å¯åœ¨ highlight.js æŸ¥æ‰¾ä¸‹è½½ä½¿ç”¨ã€‚PS: éœ€è¦æå‰æŠŠ css å’Œ js æ–‡ä»¶ä¸‹è½½å¹¶æ”¾åœ¨æŒ‡å®šè·¯å¾„ä¸‹ã€‚","categories":[{"name":"Hexo","slug":"hexo","permalink":"https://leaderliang.coding.me/categories/hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://leaderliang.coding.me/tags/Hexo/"}]}]}